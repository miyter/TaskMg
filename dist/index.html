<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskMg - スマートなタスク管理</title>
    
    <!-- プリロード & 外部フォント -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=M+PLUS+2:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- アプリケーションのスタイル -->
    
    <!-- 初期設定（レンダリングブロックを最小限に） -->
    <script>
        // テーマの即時適用（FOUC対策）
        (function() {
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        })();
    </script>

    <!-- Firebase Config 注入 (IIFEで確実に実行) -->
    <script>
        (function() {
            // 本番ビルドでも確実に設定が残るよう、明示的にwindowオブジェクトに代入
            window.GLOBAL_FIREBASE_CONFIG = {
                apiKey: "AIzaSyCD6u_GAQJrU8DBu1LMUGw0wUsAXtdC6qw",
                authDomain: "taskmg-c5be0.firebaseapp.com",
                projectId: "taskmg-c5be0",
                storageBucket: "taskmg-c5be0.firebasestorage.app",
                messagingSenderId: "245900813558",
                appId: "1:245900813558:web:3502cafdd4fa5d1c9538d7",
                measurementId: "G-NQC4YWR4EM"
            };
            
            // 環境変数からの注入がある場合は上書き（開発環境用）
            if (typeof __firebase_config !== 'undefined') {
                try {
                    var envConfig = typeof __firebase_config === 'string' ? JSON.parse(__firebase_config) : __firebase_config;
                    if (envConfig && envConfig.apiKey) {
                        window.GLOBAL_FIREBASE_CONFIG = envConfig;
                    }
                } catch (e) {
                    console.warn('Failed to parse injected firebase config, falling back to hardcoded defaults.');
                }
            }

            // その他グローバル変数の注入
            window.GLOBAL_INITIAL_AUTH_TOKEN = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
            window.GLOBAL_APP_ID = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

            console.log("[index.html] Firebase config injected successfully.");
        })();
    </script>
  <script type="module" crossorigin src="/assets/main-Cx4uvT5N.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/main-CrEVtYYP.css">
</head>
<body class="h-screen overflow-hidden">

    <!-- アプリケーションルート -->
    <div id="app" class="h-full flex overflow-hidden"></div>

    <!-- エントリーポイント -->

</body>
</html>