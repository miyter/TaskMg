<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskMg - スマートなタスク管理</title>
    
    <!-- プリロード & 外部フォント -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=M+PLUS+2:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- アプリケーションのスタイル -->
    
    <!-- 初期設定（レンダリングブロックを最小限に） -->
    <script>
        // テーマの即時適用（FOUC対策）
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        // Firebase Config: 環境変数から安全に読み込む（ハードコード廃止）
        // 開発環境等で変数が無い場合はエラーログを出しつつ空オブジェクトでフォールバック
        let fbConfig = {};
        try {
            if (typeof __firebase_config !== 'undefined') {
                fbConfig = JSON.parse(__firebase_config);
            } else {
                console.warn('Firebase Config not found via environment variables.');
            }
        } catch (e) {
            console.error('Failed to parse firebase config', e);
        }

        window.GLOBAL_FIREBASE_CONFIG = fbConfig;
        
        // アプリケーション固有ID等の注入
        window.GLOBAL_INITIAL_AUTH_TOKEN = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        window.GLOBAL_APP_ID = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    </script>
  <script type="module" crossorigin src="/assets/main-kzQ5TNDk.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/main-DF0yeunR.css">
</head>
<body class="h-screen overflow-hidden">

    <!-- アプリケーションルート -->
    <div id="app" class="h-full flex overflow-hidden"></div>

    <!-- エントリーポイント -->

</body>
</html>