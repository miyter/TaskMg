var Zv=t=>{throw TypeError(t)};var up=(t,e,n)=>e.has(t)||Zv("Cannot "+n);var Q=(t,e,n)=>(up(t,e,"read from private field"),n?n.call(t):e.get(t)),We=(t,e,n)=>e.has(t)?Zv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ne=(t,e,n,r)=>(up(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_n=(t,e,n)=>(up(t,e,"access private method"),n);var od=(t,e,n,r)=>({set _(s){Ne(t,e,s,n)},get _(){return Q(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function N0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cp={exports:{}},Hl={},dp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function gk(){if(Jv)return Ue;Jv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,N={};function D(L,K,ue){this.props=L,this.context=K,this.refs=N,this.updater=ue||b}D.prototype.isReactComponent={},D.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Z(){}Z.prototype=D.prototype;function J(L,K,ue){this.props=L,this.context=K,this.refs=N,this.updater=ue||b}var G=J.prototype=new Z;G.constructor=J,F(G,D.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,X=Object.prototype.hasOwnProperty,oe={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(L,K,ue){var we,Pe={},Ce=null,Te=null;if(K!=null)for(we in K.ref!==void 0&&(Te=K.ref),K.key!==void 0&&(Ce=""+K.key),K)X.call(K,we)&&!C.hasOwnProperty(we)&&(Pe[we]=K[we]);var Le=arguments.length-2;if(Le===1)Pe.children=ue;else if(1<Le){for(var Fe=Array(Le),ke=0;ke<Le;ke++)Fe[ke]=arguments[ke+2];Pe.children=Fe}if(L&&L.defaultProps)for(we in Le=L.defaultProps,Le)Pe[we]===void 0&&(Pe[we]=Le[we]);return{$$typeof:t,type:L,key:Ce,ref:Te,props:Pe,_owner:oe.current}}function k(L,K){return{$$typeof:t,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function P(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return K[ue]})}var M=/\/+/g;function R(L,K){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):K.toString(36)}function $e(L,K,ue,we,Pe){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var Te=!1;if(L===null)Te=!0;else switch(Ce){case"string":case"number":Te=!0;break;case"object":switch(L.$$typeof){case t:case e:Te=!0}}if(Te)return Te=L,Pe=Pe(Te),L=we===""?"."+R(Te,0):we,ee(Pe)?(ue="",L!=null&&(ue=L.replace(M,"$&/")+"/"),$e(Pe,K,ue,"",function(ke){return ke})):Pe!=null&&(x(Pe)&&(Pe=k(Pe,ue+(!Pe.key||Te&&Te.key===Pe.key?"":(""+Pe.key).replace(M,"$&/")+"/")+L)),K.push(Pe)),1;if(Te=0,we=we===""?".":we+":",ee(L))for(var Le=0;Le<L.length;Le++){Ce=L[Le];var Fe=we+R(Ce,Le);Te+=$e(Ce,K,ue,Fe,Pe)}else if(Fe=S(L),typeof Fe=="function")for(L=Fe.call(L),Le=0;!(Ce=L.next()).done;)Ce=Ce.value,Fe=we+R(Ce,Le++),Te+=$e(Ce,K,ue,Fe,Pe);else if(Ce==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Te}function et(L,K,ue){if(L==null)return L;var we=[],Pe=0;return $e(L,we,"","",function(Ce){return K.call(ue,Ce,Pe++)}),we}function Xe(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var Re={current:null},H={transition:null},he={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:H,ReactCurrentOwner:oe};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:et,forEach:function(L,K,ue){et(L,function(){K.apply(this,arguments)},ue)},count:function(L){var K=0;return et(L,function(){K++}),K},toArray:function(L){return et(L,function(K){return K})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ue.Component=D,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=J,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ue.act=ce,Ue.cloneElement=function(L,K,ue){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var we=F({},L.props),Pe=L.key,Ce=L.ref,Te=L._owner;if(K!=null){if(K.ref!==void 0&&(Ce=K.ref,Te=oe.current),K.key!==void 0&&(Pe=""+K.key),L.type&&L.type.defaultProps)var Le=L.type.defaultProps;for(Fe in K)X.call(K,Fe)&&!C.hasOwnProperty(Fe)&&(we[Fe]=K[Fe]===void 0&&Le!==void 0?Le[Fe]:K[Fe])}var Fe=arguments.length-2;if(Fe===1)we.children=ue;else if(1<Fe){Le=Array(Fe);for(var ke=0;ke<Fe;ke++)Le[ke]=arguments[ke+2];we.children=Le}return{$$typeof:t,type:L.type,key:Pe,ref:Ce,props:we,_owner:Te}},Ue.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Ue.createElement=T,Ue.createFactory=function(L){var K=T.bind(null,L);return K.type=L,K},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(L){return{$$typeof:h,render:L}},Ue.isValidElement=x,Ue.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:Xe}},Ue.memo=function(L,K){return{$$typeof:m,type:L,compare:K===void 0?null:K}},Ue.startTransition=function(L){var K=H.transition;H.transition={};try{L()}finally{H.transition=K}},Ue.unstable_act=ce,Ue.useCallback=function(L,K){return Re.current.useCallback(L,K)},Ue.useContext=function(L){return Re.current.useContext(L)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(L){return Re.current.useDeferredValue(L)},Ue.useEffect=function(L,K){return Re.current.useEffect(L,K)},Ue.useId=function(){return Re.current.useId()},Ue.useImperativeHandle=function(L,K,ue){return Re.current.useImperativeHandle(L,K,ue)},Ue.useInsertionEffect=function(L,K){return Re.current.useInsertionEffect(L,K)},Ue.useLayoutEffect=function(L,K){return Re.current.useLayoutEffect(L,K)},Ue.useMemo=function(L,K){return Re.current.useMemo(L,K)},Ue.useReducer=function(L,K,ue){return Re.current.useReducer(L,K,ue)},Ue.useRef=function(L){return Re.current.useRef(L)},Ue.useState=function(L){return Re.current.useState(L)},Ue.useSyncExternalStore=function(L,K,ue){return Re.current.useSyncExternalStore(L,K,ue)},Ue.useTransition=function(){return Re.current.useTransition()},Ue.version="18.3.1",Ue}var Yv;function wm(){return Yv||(Yv=1,dp.exports=gk()),dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function yk(){if(Xv)return Hl;Xv=1;var t=wm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,E={},S=null,b=null;m!==void 0&&(S=""+m),f.key!==void 0&&(S=""+f.key),f.ref!==void 0&&(b=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:h,key:S,ref:b,props:E,_owner:s.current}}return Hl.Fragment=n,Hl.jsx=u,Hl.jsxs=u,Hl}var e_;function vk(){return e_||(e_=1,cp.exports=yk()),cp.exports}var U=vk(),ih=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_k={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ws,_m,I0,wk=(I0=class{constructor(){We(this,ws,_k);We(this,_m,!1)}setTimeoutProvider(t){Ne(this,ws,t)}setTimeout(t,e){return Q(this,ws).setTimeout(t,e)}clearTimeout(t){Q(this,ws).clearTimeout(t)}setInterval(t,e){return Q(this,ws).setInterval(t,e)}clearInterval(t){Q(this,ws).clearInterval(t)}},ws=new WeakMap,_m=new WeakMap,I0),Op=new wk;function Ek(t){setTimeout(t,0)}var sh=typeof window>"u"||"Deno"in globalThis;function Vr(){}function Tk(t,e){return typeof t=="function"?t(e):t}function Ik(t){return typeof t=="number"&&t>=0&&t!==1/0}function Sk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mp(t,e){return typeof t=="function"?t(e):t}function kk(t,e){return typeof t=="function"?t(e):t}function t_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==Em(u,e.options))return!1}else if(!uu(e.queryKey,u))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||s&&s!==e.state.fetchStatus||a&&!a(e))}function n_(t,e){const{exact:n,status:r,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(lu(e.options.mutationKey)!==lu(a))return!1}else if(!uu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Em(t,e){return((e==null?void 0:e.queryKeyHashFn)||lu)(t)}function lu(t){return JSON.stringify(t,(e,n)=>Vp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function uu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>uu(t[n],e[n])):!1}var bk=Object.prototype.hasOwnProperty;function D0(t,e){if(t===e)return t;const n=r_(t)&&r_(e);if(!n&&!(Vp(t)&&Vp(e)))return e;const s=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),u=a.length,h=n?new Array(u):{};let f=0;for(let m=0;m<u;m++){const v=n?m:a[m],E=t[v],S=e[v];if(E===S){h[v]=E,(n?m<s:bk.call(t,v))&&f++;continue}if(E===null||S===null||typeof E!="object"||typeof S!="object"){h[v]=S;continue}const b=D0(E,S);h[v]=b,b===E&&f++}return s===u&&f===s?t:h}function r_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vp(t){if(!i_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!i_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function i_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ak(t){return new Promise(e=>{Op.setTimeout(e,t)})}function Rk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?D0(t,e):e}function Ck(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Pk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tm=Symbol();function O0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Tm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function xk(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var mo,Es,Va,S0,Nk=(S0=class extends ih{constructor(){super();We(this,mo);We(this,Es);We(this,Va);Ne(this,Va,e=>{if(!sh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,Es)||this.setEventListener(Q(this,Va))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,Es))==null||e.call(this),Ne(this,Es,void 0))}setEventListener(e){var n;Ne(this,Va,e),(n=Q(this,Es))==null||n.call(this),Ne(this,Es,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Q(this,mo)!==e&&(Ne(this,mo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Q(this,mo)=="boolean"?Q(this,mo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},mo=new WeakMap,Es=new WeakMap,Va=new WeakMap,S0),M0=new Nk;function Dk(){let t,e;const n=new Promise((s,a)=>{t=s,e=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Ok=Ek;function Mk(){let t=[],e=0,n=h=>{h()},r=h=>{h()},s=Ok;const a=h=>{e?t.push(h):s(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&s(()=>{r(()=>{h.forEach(f=>{n(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{a(()=>{h(...f)})},schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{s=h}}}var Dn=Mk(),La,Ts,Fa,k0,Vk=(k0=class extends ih{constructor(){super();We(this,La,!0);We(this,Ts);We(this,Fa);Ne(this,Fa,e=>{if(!sh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,Ts)||this.setEventListener(Q(this,Fa))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,Ts))==null||e.call(this),Ne(this,Ts,void 0))}setEventListener(e){var n;Ne(this,Fa,e),(n=Q(this,Ts))==null||n.call(this),Ne(this,Ts,e(this.setOnline.bind(this)))}setOnline(e){Q(this,La)!==e&&(Ne(this,La,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Q(this,La)}},La=new WeakMap,Ts=new WeakMap,Fa=new WeakMap,k0),Od=new Vk;function Lk(t){return Math.min(1e3*2**t,3e4)}function V0(t){return(t??"online")==="online"?Od.isOnline():!0}var Lp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function L0(t){let e=!1,n=0,r;const s=Dk(),a=()=>s.status!=="pending",u=N=>{var D;if(!a()){const Z=new Lp(N);S(Z),(D=t.onCancel)==null||D.call(t,Z)}},h=()=>{e=!0},f=()=>{e=!1},m=()=>M0.isFocused()&&(t.networkMode==="always"||Od.isOnline())&&t.canRun(),v=()=>V0(t.networkMode)&&t.canRun(),E=N=>{a()||(r==null||r(),s.resolve(N))},S=N=>{a()||(r==null||r(),s.reject(N))},b=()=>new Promise(N=>{var D;r=Z=>{(a()||m())&&N(Z)},(D=t.onPause)==null||D.call(t)}).then(()=>{var N;r=void 0,a()||(N=t.onContinue)==null||N.call(t)}),F=()=>{if(a())return;let N;const D=n===0?t.initialPromise:void 0;try{N=D??t.fn()}catch(Z){N=Promise.reject(Z)}Promise.resolve(N).then(E).catch(Z=>{var oe;if(a())return;const J=t.retry??(sh?0:3),G=t.retryDelay??Lk,ee=typeof G=="function"?G(n,Z):G,X=J===!0||typeof J=="number"&&n<J||typeof J=="function"&&J(n,Z);if(e||!X){S(Z);return}n++,(oe=t.onFail)==null||oe.call(t,n,Z),Ak(ee).then(()=>m()?void 0:b()).then(()=>{e?S(Z):F()})})};return{promise:s,status:()=>s.status,cancel:u,continue:()=>(r==null||r(),s),cancelRetry:h,continueRetry:f,canStart:v,start:()=>(v()?F():b().then(F),s)}}var go,b0,F0=(b0=class{constructor(){We(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ik(this.gcTime)&&Ne(this,go,Op.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sh?1/0:300*1e3))}clearGcTimeout(){Q(this,go)&&(Op.clearTimeout(Q(this,go)),Ne(this,go,void 0))}},go=new WeakMap,b0),yo,za,yr,vo,Yt,Au,_o,Lr,Ri,A0,Fk=(A0=class extends F0{constructor(n){super();We(this,Lr);We(this,yo);We(this,za);We(this,yr);We(this,vo);We(this,Yt);We(this,Au);We(this,_o);Ne(this,_o,!1),Ne(this,Au,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ne(this,vo,n.client),Ne(this,yr,Q(this,vo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ne(this,yo,o_(this.options)),this.state=n.state??Q(this,yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Q(this,Yt))==null?void 0:n.promise}setOptions(n){if(this.options={...Q(this,Au),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=o_(this.options);r.data!==void 0&&(this.setState(s_(r.data,r.dataUpdatedAt)),Ne(this,yo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,yr).remove(this)}setData(n,r){const s=Rk(this.state.data,n,this.options);return _n(this,Lr,Ri).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_n(this,Lr,Ri).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,a;const r=(s=Q(this,Yt))==null?void 0:s.promise;return(a=Q(this,Yt))==null||a.cancel(n),r?r.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,yo))}isActive(){return this.observers.some(n=>kk(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Mp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Sk(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Q(this,Yt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Q(this,Yt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Q(this,yr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Q(this,Yt)&&(Q(this,_o)?Q(this,Yt).cancel({revert:!0}):Q(this,Yt).cancelRetry()),this.scheduleGc()),Q(this,yr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_n(this,Lr,Ri).call(this,{type:"invalidate"})}async fetch(n,r){var m,v,E,S,b,F,N,D,Z,J,G,ee;if(this.state.fetchStatus!=="idle"&&((m=Q(this,Yt))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Yt))return Q(this,Yt).continueRetry(),Q(this,Yt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const X=this.observers.find(oe=>oe.options.queryFn);X&&this.setOptions(X.options)}const s=new AbortController,a=X=>{Object.defineProperty(X,"signal",{enumerable:!0,get:()=>(Ne(this,_o,!0),s.signal)})},u=()=>{const X=O0(this.options,r),C=(()=>{const T={client:Q(this,vo),queryKey:this.queryKey,meta:this.meta};return a(T),T})();return Ne(this,_o,!1),this.options.persister?this.options.persister(X,C,this):X(C)},f=(()=>{const X={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Q(this,vo),state:this.state,fetchFn:u};return a(X),X})();(v=this.options.behavior)==null||v.onFetch(f,this),Ne(this,za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=f.fetchOptions)==null?void 0:E.meta))&&_n(this,Lr,Ri).call(this,{type:"fetch",meta:(S=f.fetchOptions)==null?void 0:S.meta}),Ne(this,Yt,L0({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,onCancel:X=>{X instanceof Lp&&X.revert&&this.setState({...Q(this,za),fetchStatus:"idle"}),s.abort()},onFail:(X,oe)=>{_n(this,Lr,Ri).call(this,{type:"failed",failureCount:X,error:oe})},onPause:()=>{_n(this,Lr,Ri).call(this,{type:"pause"})},onContinue:()=>{_n(this,Lr,Ri).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const X=await Q(this,Yt).start();if(X===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(X),(F=(b=Q(this,yr).config).onSuccess)==null||F.call(b,X,this),(D=(N=Q(this,yr).config).onSettled)==null||D.call(N,X,this.state.error,this),X}catch(X){if(X instanceof Lp){if(X.silent)return Q(this,Yt).promise;if(X.revert){if(this.state.data===void 0)throw X;return this.state.data}}throw _n(this,Lr,Ri).call(this,{type:"error",error:X}),(J=(Z=Q(this,yr).config).onError)==null||J.call(Z,X,this),(ee=(G=Q(this,yr).config).onSettled)==null||ee.call(G,this.state.data,X,this),X}finally{this.scheduleGc()}}},yo=new WeakMap,za=new WeakMap,yr=new WeakMap,vo=new WeakMap,Yt=new WeakMap,Au=new WeakMap,_o=new WeakMap,Lr=new WeakSet,Ri=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...zk(s.data,this.options),fetchMeta:n.meta??null};case"success":const a={...s,...s_(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ne(this,za,n.manual?a:void 0),a;case"error":const u=n.error;return{...s,error:u,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Dn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Q(this,yr).notify({query:this,type:"updated",action:n})})},A0);function zk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function s_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function o_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function a_(t){return{onFetch:(e,n)=>{var v,E,S,b,F;const r=e.options,s=(S=(E=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:E.fetchMore)==null?void 0:S.direction,a=((b=e.state.data)==null?void 0:b.pages)||[],u=((F=e.state.data)==null?void 0:F.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const m=async()=>{let N=!1;const D=G=>{xk(G,()=>e.signal,()=>N=!0)},Z=O0(e.options,e.fetchOptions),J=async(G,ee,X)=>{if(N)return Promise.reject();if(ee==null&&G.pages.length)return Promise.resolve(G);const C=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:ee,direction:X?"backward":"forward",meta:e.options.meta};return D(P),P})(),T=await Z(C),{maxPages:k}=e.options,x=X?Pk:Ck;return{pages:x(G.pages,T,k),pageParams:x(G.pageParams,ee,k)}};if(s&&a.length){const G=s==="backward",ee=G?jk:l_,X={pages:a,pageParams:u},oe=ee(r,X);h=await J(X,oe,G)}else{const G=t??a.length;do{const ee=f===0?u[0]??r.initialPageParam:l_(r,h);if(f>0&&ee==null)break;h=await J(h,ee),f++}while(f<G)}return h};e.options.persister?e.fetchFn=()=>{var N,D;return(D=(N=e.options).persister)==null?void 0:D.call(N,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function l_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function jk(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ru,ni,Nn,wo,ri,ps,R0,Uk=(R0=class extends F0{constructor(n){super();We(this,ri);We(this,Ru);We(this,ni);We(this,Nn);We(this,wo);Ne(this,Ru,n.client),this.mutationId=n.mutationId,Ne(this,Nn,n.mutationCache),Ne(this,ni,[]),this.state=n.state||$k(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Q(this,ni).includes(n)||(Q(this,ni).push(n),this.clearGcTimeout(),Q(this,Nn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ne(this,ni,Q(this,ni).filter(r=>r!==n)),this.scheduleGc(),Q(this,Nn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Q(this,ni).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Nn).remove(this))}continue(){var n;return((n=Q(this,wo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var h,f,m,v,E,S,b,F,N,D,Z,J,G,ee,X,oe,C,T,k,x;const r=()=>{_n(this,ri,ps).call(this,{type:"continue"})},s={client:Q(this,Ru),meta:this.options.meta,mutationKey:this.options.mutationKey};Ne(this,wo,L0({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(P,M)=>{_n(this,ri,ps).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{_n(this,ri,ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Nn).canRun(this)}));const a=this.state.status==="pending",u=!Q(this,wo).canStart();try{if(a)r();else{_n(this,ri,ps).call(this,{type:"pending",variables:n,isPaused:u}),await((f=(h=Q(this,Nn).config).onMutate)==null?void 0:f.call(h,n,this,s));const M=await((v=(m=this.options).onMutate)==null?void 0:v.call(m,n,s));M!==this.state.context&&_n(this,ri,ps).call(this,{type:"pending",context:M,variables:n,isPaused:u})}const P=await Q(this,wo).start();return await((S=(E=Q(this,Nn).config).onSuccess)==null?void 0:S.call(E,P,n,this.state.context,this,s)),await((F=(b=this.options).onSuccess)==null?void 0:F.call(b,P,n,this.state.context,s)),await((D=(N=Q(this,Nn).config).onSettled)==null?void 0:D.call(N,P,null,this.state.variables,this.state.context,this,s)),await((J=(Z=this.options).onSettled)==null?void 0:J.call(Z,P,null,n,this.state.context,s)),_n(this,ri,ps).call(this,{type:"success",data:P}),P}catch(P){try{await((ee=(G=Q(this,Nn).config).onError)==null?void 0:ee.call(G,P,n,this.state.context,this,s))}catch(M){Promise.reject(M)}try{await((oe=(X=this.options).onError)==null?void 0:oe.call(X,P,n,this.state.context,s))}catch(M){Promise.reject(M)}try{await((T=(C=Q(this,Nn).config).onSettled)==null?void 0:T.call(C,void 0,P,this.state.variables,this.state.context,this,s))}catch(M){Promise.reject(M)}try{await((x=(k=this.options).onSettled)==null?void 0:x.call(k,void 0,P,n,this.state.context,s))}catch(M){Promise.reject(M)}throw _n(this,ri,ps).call(this,{type:"error",error:P}),P}finally{Q(this,Nn).runNext(this)}}},Ru=new WeakMap,ni=new WeakMap,Nn=new WeakMap,wo=new WeakMap,ri=new WeakSet,ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dn.batch(()=>{Q(this,ni).forEach(s=>{s.onMutationUpdate(n)}),Q(this,Nn).notify({mutation:this,type:"updated",action:n})})},R0);function $k(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ci,Fr,Cu,C0,Bk=(C0=class extends ih{constructor(e={}){super();We(this,Ci);We(this,Fr);We(this,Cu);this.config=e,Ne(this,Ci,new Set),Ne(this,Fr,new Map),Ne(this,Cu,0)}build(e,n,r){const s=new Uk({client:e,mutationCache:this,mutationId:++od(this,Cu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Q(this,Ci).add(e);const n=ad(e);if(typeof n=="string"){const r=Q(this,Fr).get(n);r?r.push(e):Q(this,Fr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Q(this,Ci).delete(e)){const n=ad(e);if(typeof n=="string"){const r=Q(this,Fr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Q(this,Fr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ad(e);if(typeof n=="string"){const r=Q(this,Fr).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ad(e);if(typeof n=="string"){const s=(r=Q(this,Fr).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dn.batch(()=>{Q(this,Ci).forEach(e=>{this.notify({type:"removed",mutation:e})}),Q(this,Ci).clear(),Q(this,Fr).clear()})}getAll(){return Array.from(Q(this,Ci))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>n_(n,r))}findAll(e={}){return this.getAll().filter(n=>n_(e,n))}notify(e){Dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vr))))}},Ci=new WeakMap,Fr=new WeakMap,Cu=new WeakMap,C0);function ad(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ii,P0,qk=(P0=class extends ih{constructor(e={}){super();We(this,ii);this.config=e,Ne(this,ii,new Map)}build(e,n,r){const s=n.queryKey,a=n.queryHash??Em(s,n);let u=this.get(a);return u||(u=new Fk({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){Q(this,ii).has(e.queryHash)||(Q(this,ii).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Q(this,ii).get(e.queryHash);n&&(e.destroy(),n===e&&Q(this,ii).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Q(this,ii).get(e)}getAll(){return[...Q(this,ii).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>t_(e,r)):n}notify(e){Dn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ii=new WeakMap,P0),St,Is,Ss,ja,Ua,ks,$a,Ba,x0,Wk=(x0=class{constructor(t={}){We(this,St);We(this,Is);We(this,Ss);We(this,ja);We(this,Ua);We(this,ks);We(this,$a);We(this,Ba);Ne(this,St,t.queryCache||new qk),Ne(this,Is,t.mutationCache||new Bk),Ne(this,Ss,t.defaultOptions||{}),Ne(this,ja,new Map),Ne(this,Ua,new Map),Ne(this,ks,0)}mount(){od(this,ks)._++,Q(this,ks)===1&&(Ne(this,$a,M0.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,St).onFocus())})),Ne(this,Ba,Od.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,St).onOnline())})))}unmount(){var t,e;od(this,ks)._--,Q(this,ks)===0&&((t=Q(this,$a))==null||t.call(this),Ne(this,$a,void 0),(e=Q(this,Ba))==null||e.call(this),Ne(this,Ba,void 0))}isFetching(t){return Q(this,St).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Q(this,Is).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,St).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Q(this,St).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Mp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Q(this,St).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Q(this,St).get(r.queryHash),a=s==null?void 0:s.state.data,u=Tk(e,a);if(u!==void 0)return Q(this,St).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Dn.batch(()=>Q(this,St).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,St).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Q(this,St);Dn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Q(this,St);return Dn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Dn.batch(()=>Q(this,St).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Vr).catch(Vr)}invalidateQueries(t,e={}){return Dn.batch(()=>(Q(this,St).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Dn.batch(()=>Q(this,St).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Vr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Q(this,St).build(this,e);return n.isStaleByTime(Mp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=a_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=a_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Od.isOnline()?Q(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,St)}getMutationCache(){return Q(this,Is)}getDefaultOptions(){return Q(this,Ss)}setDefaultOptions(t){Ne(this,Ss,t)}setQueryDefaults(t,e){Q(this,ja).set(lu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Q(this,ja).values()],n={};return e.forEach(r=>{uu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Q(this,Ua).set(lu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Q(this,Ua).values()],n={};return e.forEach(r=>{uu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Q(this,Ss).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Em(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Q(this,Ss).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Q(this,St).clear(),Q(this,Is).clear()}},St=new WeakMap,Is=new WeakMap,Ss=new WeakMap,ja=new WeakMap,Ua=new WeakMap,ks=new WeakMap,$a=new WeakMap,Ba=new WeakMap,x0),q=wm();const Ht=N0(q);var Hk=q.createContext(void 0),Gk=({client:t,children:e})=>(q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),U.jsx(Hk.Provider,{value:t,children:e})),ld={},hp={exports:{}},qn={},fp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function Kk(){return u_||(u_=1,(function(t){function e(H,he){var ce=H.length;H.push(he);e:for(;0<ce;){var L=ce-1>>>1,K=H[L];if(0<s(K,he))H[L]=he,H[ce]=K,ce=L;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var he=H[0],ce=H.pop();if(ce!==he){H[0]=ce;e:for(var L=0,K=H.length,ue=K>>>1;L<ue;){var we=2*(L+1)-1,Pe=H[we],Ce=we+1,Te=H[Ce];if(0>s(Pe,ce))Ce<K&&0>s(Te,Pe)?(H[L]=Te,H[Ce]=ce,L=Ce):(H[L]=Pe,H[we]=ce,L=we);else if(Ce<K&&0>s(Te,ce))H[L]=Te,H[Ce]=ce,L=Ce;else break e}}return he}function s(H,he){var ce=H.sortIndex-he.sortIndex;return ce!==0?ce:H.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,E=null,S=3,b=!1,F=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(H){for(var he=n(m);he!==null;){if(he.callback===null)r(m);else if(he.startTime<=H)r(m),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(m)}}function ee(H){if(N=!1,G(H),!F)if(n(f)!==null)F=!0,Xe(X);else{var he=n(m);he!==null&&Re(ee,he.startTime-H)}}function X(H,he){F=!1,N&&(N=!1,Z(T),T=-1),b=!0;var ce=S;try{for(G(he),E=n(f);E!==null&&(!(E.expirationTime>he)||H&&!P());){var L=E.callback;if(typeof L=="function"){E.callback=null,S=E.priorityLevel;var K=L(E.expirationTime<=he);he=t.unstable_now(),typeof K=="function"?E.callback=K:E===n(f)&&r(f),G(he)}else r(f);E=n(f)}if(E!==null)var ue=!0;else{var we=n(m);we!==null&&Re(ee,we.startTime-he),ue=!1}return ue}finally{E=null,S=ce,b=!1}}var oe=!1,C=null,T=-1,k=5,x=-1;function P(){return!(t.unstable_now()-x<k)}function M(){if(C!==null){var H=t.unstable_now();x=H;var he=!0;try{he=C(!0,H)}finally{he?R():(oe=!1,C=null)}}else oe=!1}var R;if(typeof J=="function")R=function(){J(M)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,et=$e.port2;$e.port1.onmessage=M,R=function(){et.postMessage(null)}}else R=function(){D(M,0)};function Xe(H){C=H,oe||(oe=!0,R())}function Re(H,he){T=D(function(){H(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){F||b||(F=!0,Xe(X))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ce=S;S=he;try{return H()}finally{S=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,he){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=S;S=H;try{return he()}finally{S=ce}},t.unstable_scheduleCallback=function(H,he,ce){var L=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?L+ce:L):ce=L,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ce+K,H={id:v++,callback:he,priorityLevel:H,startTime:ce,expirationTime:K,sortIndex:-1},ce>L?(H.sortIndex=ce,e(m,H),n(f)===null&&H===n(m)&&(N?(Z(T),T=-1):N=!0,Re(ee,ce-L))):(H.sortIndex=K,e(f,H),F||b||(F=!0,Xe(X))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var he=S;return function(){var ce=S;S=he;try{return H.apply(this,arguments)}finally{S=ce}}}})(pp)),pp}var c_;function Qk(){return c_||(c_=1,fp.exports=Kk()),fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function Zk(){if(d_)return qn;d_=1;var t=wm(),e=Qk();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function S(i){return f.call(E,i)?!0:f.call(v,i)?!1:m.test(i)?E[i]=!0:(v[i]=!0,!1)}function b(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function F(i,o,l,d){if(o===null||typeof o>"u"||b(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,l,d,p,y,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=w}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){D[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];D[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){D[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){D[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){D[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){D[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){D[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){D[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){D[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function J(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(Z,J);D[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(Z,J);D[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(Z,J);D[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){D[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),D.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){D[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function G(i,o,l,d){var p=D.hasOwnProperty(o)?D[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(F(o,l,p,d)&&(l=null),d||p===null?S(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),oe=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),H=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Object.assign,L;function K(i){if(L===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+i}var ue=!1;function we(i,o){if(!i||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(B){var d=B}Reflect.construct(i,[],o)}else{try{o.call()}catch(B){d=B}i.call(o.prototype)}else{try{throw Error()}catch(B){d=B}i()}}catch(B){if(B&&d&&typeof B.stack=="string"){for(var p=B.stack.split(`
`),y=d.stack.split(`
`),w=p.length-1,A=y.length-1;1<=w&&0<=A&&p[w]!==y[A];)A--;for(;1<=w&&0<=A;w--,A--)if(p[w]!==y[A]){if(w!==1||A!==1)do if(w--,A--,0>A||p[w]!==y[A]){var O=`
`+p[w].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=w&&0<=A);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?K(i):""}function Pe(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=we(i.type,!1),i;case 11:return i=we(i.type.render,!1),i;case 1:return i=we(i.type,!0),i;default:return""}}function Ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case oe:return"Portal";case k:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case P:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case et:return o=i.displayName||null,o!==null?o:Ce(i.type)||"Memo";case Xe:o=i._payload,i=i._init;try{return Ce(i(o))}catch{}}return null}function Te(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(i){var o=Fe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function zt(i){i._valueTracker||(i._valueTracker=ke(i))}function Et(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=Fe(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function kn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function tn(i,o){var l=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Qn(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Le(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function sr(i,o){o=o.checked,o!=null&&G(i,"checked",o,!1)}function zi(i,o){sr(i,o);var l=Le(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Br(i,o.type,l):o.hasOwnProperty("defaultValue")&&Br(i,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Fs(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Br(i,o,l){(o!=="number"||kn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Gt=Array.isArray;function On(i,o,l,d){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Le(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function qr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function di(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(Gt(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Le(l)}}function hi(i,o){var l=Le(o.value),d=Le(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function zs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function bt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?bt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var fn,wr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,p)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=fn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Er(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wr=["Webkit","ms","Moz","O"];Object.keys(pn).forEach(function(i){Wr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),pn[o]=pn[i]})});function js(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||pn.hasOwnProperty(i)&&pn[i]?(""+o).trim():o+"px"}function Us(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=js(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var fi=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ji(i,o){if(o){if(fi[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function $s(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=null;function Ui(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $i=null,Mn=null,rt=null;function Pt(i){if(i=xl(i)){if(typeof $i!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Ec(o),$i(i.stateNode,i.type,o))}}function ft(i){Mn?rt?rt.push(i):rt=[i]:Mn=i}function Vn(){if(Mn){var i=Mn,o=rt;if(rt=Mn=null,Pt(i),o)for(i=0;i<o.length;i++)Pt(o[i])}}function xt(i,o){return i(o)}function jt(){}var Nt=!1;function or(i,o,l){if(Nt)return i(o,l);Nt=!0;try{return xt(i,o,l)}finally{Nt=!1,(Mn!==null||rt!==null)&&(jt(),Vn())}}function ze(i,o){var l=i.stateNode;if(l===null)return null;var d=Ec(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var bn=!1;if(h)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){bn=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{bn=!1}function nn(i,o,l,d,p,y,w,A,O){var B=Array.prototype.slice.call(arguments,3);try{o.apply(l,B)}catch(re){this.onError(re)}}var Zn=!1,ar=null,Dt=!1,Tr=null,Bs={onError:function(i){Zn=!0,ar=i}};function jo(i,o,l,d,p,y,w,A,O){Zn=!1,ar=null,nn.apply(Bs,arguments)}function Hu(i,o,l,d,p,y,w,A,O){if(jo.apply(this,arguments),Zn){if(Zn){var B=ar;Zn=!1,ar=null}else throw Error(n(198));Dt||(Dt=!0,Tr=B)}}function Ir(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function qs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Sr(i){if(Ir(i)!==i)throw Error(n(188))}function Gu(i){var o=i.alternate;if(!o){if(o=Ir(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,d=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Sr(p),i;if(y===d)return Sr(p),o;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=p,d=y;else{for(var w=!1,A=p.child;A;){if(A===l){w=!0,l=p,d=y;break}if(A===d){w=!0,d=p,l=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===l){w=!0,l=y,d=p;break}if(A===d){w=!0,d=y,l=p;break}A=A.sibling}if(!w)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function hl(i){return i=Gu(i),i!==null?Uo(i):null}function Uo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Uo(i);if(o!==null)return o;i=i.sibling}return null}var $o=e.unstable_scheduleCallback,fl=e.unstable_cancelCallback,Ku=e.unstable_shouldYield,Lh=e.unstable_requestPaint,ot=e.unstable_now,Qu=e.unstable_getCurrentPriorityLevel,Ws=e.unstable_ImmediatePriority,Bi=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,pl=e.unstable_LowPriority,Zu=e.unstable_IdlePriority,Hs=null,Jn=null;function Ju(i){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Hs,i,void 0,(i.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Xu,ml=Math.log,Yu=Math.LN2;function Xu(i){return i>>>=0,i===0?32:31-(ml(i)/Yu|0)|0}var Bo=64,qo=4194304;function qi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Gs(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,w=l&268435455;if(w!==0){var A=w&~p;A!==0?d=qi(A):(y&=w,y!==0&&(d=qi(y)))}else w=l&~p,w!==0?d=qi(w):y!==0&&(d=qi(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-An(o),p=1<<l,d|=i[l],o&=~p;return d}function Fh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-An(y),A=1<<w,O=p[w];O===-1?((A&l)===0||(A&d)!==0)&&(p[w]=Fh(A,o)):O<=o&&(i.expiredLanes|=A),y&=~A}}function Yn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ks(){var i=Bo;return Bo<<=1,(Bo&4194240)===0&&(Bo=64),i}function Wi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Hi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-An(o),i[o]=l}function it(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-An(l),y=1<<p;o[p]=0,d[p]=-1,i[p]=-1,l&=~y}}function Gi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-An(l),p=1<<d;p&o|i[d]&o&&(i[d]|=o),l&=~p}}var qe=0;function Ki(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ec,Wo,tc,nc,rc,gl=!1,Gr=[],rn=null,kr=null,br=null,Qi=new Map,ur=new Map,Kr=[],zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(i,o){switch(i){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Qi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(o.pointerId)}}function Ln(i,o,l,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},o!==null&&(o=xl(o),o!==null&&Wo(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function jh(i,o,l,d,p){switch(o){case"focusin":return rn=Ln(rn,i,o,l,d,p),!0;case"dragenter":return kr=Ln(kr,i,o,l,d,p),!0;case"mouseover":return br=Ln(br,i,o,l,d,p),!0;case"pointerover":var y=p.pointerId;return Qi.set(y,Ln(Qi.get(y)||null,i,o,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,ur.set(y,Ln(ur.get(y)||null,i,o,l,d,p)),!0}return!1}function sc(i){var o=Xs(i.target);if(o!==null){var l=Ir(o);if(l!==null){if(o=l.tag,o===13){if(o=qs(l),o!==null){i.blockedOn=o,rc(i.priority,function(){tc(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Ho(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Hr=d,l.target.dispatchEvent(d),Hr=null}else return o=xl(l),o!==null&&Wo(o),i.blockedOn=l,!1;o.shift()}return!0}function Qs(i,o,l){mi(i)&&l.delete(o)}function oc(){gl=!1,rn!==null&&mi(rn)&&(rn=null),kr!==null&&mi(kr)&&(kr=null),br!==null&&mi(br)&&(br=null),Qi.forEach(Qs),ur.forEach(Qs)}function Ar(i,o){i.blockedOn===o&&(i.blockedOn=null,gl||(gl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oc)))}function Rr(i){function o(p){return Ar(p,i)}if(0<Gr.length){Ar(Gr[0],i);for(var l=1;l<Gr.length;l++){var d=Gr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(rn!==null&&Ar(rn,i),kr!==null&&Ar(kr,i),br!==null&&Ar(br,i),Qi.forEach(o),ur.forEach(o),l=0;l<Kr.length;l++)d=Kr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<Kr.length&&(l=Kr[0],l.blockedOn===null);)sc(l),l.blockedOn===null&&Kr.shift()}var gi=ee.ReactCurrentBatchConfig,Zi=!0;function pt(i,o,l,d){var p=qe,y=gi.transition;gi.transition=null;try{qe=1,yl(i,o,l,d)}finally{qe=p,gi.transition=y}}function Uh(i,o,l,d){var p=qe,y=gi.transition;gi.transition=null;try{qe=4,yl(i,o,l,d)}finally{qe=p,gi.transition=y}}function yl(i,o,l,d){if(Zi){var p=Ho(i,o,l,d);if(p===null)Yh(i,o,d,Zs,l),ic(i,d);else if(jh(p,i,o,l,d))d.stopPropagation();else if(ic(i,d),o&4&&-1<zh.indexOf(i)){for(;p!==null;){var y=xl(p);if(y!==null&&ec(y),y=Ho(i,o,l,d),y===null&&Yh(i,o,d,Zs,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Yh(i,o,d,null,l)}}var Zs=null;function Ho(i,o,l,d){if(Zs=null,i=Ui(d),i=Xs(i),i!==null)if(o=Ir(i),o===null)i=null;else if(l=o.tag,l===13){if(i=qs(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Zs=i,null}function vl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qu()){case Ws:return 1;case Bi:return 4;case lr:case pl:return 16;case Zu:return 536870912;default:return 16}default:return 16}}var Xn=null,Go=null,Fn=null;function _l(){if(Fn)return Fn;var i,o=Go,l=o.length,d,p="value"in Xn?Xn.value:Xn.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var w=l-i;for(d=1;d<=w&&o[l-d]===p[y-d];d++);return Fn=p.slice(i,1<d?1-d:void 0)}function Ko(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Qr(){return!0}function wl(){return!1}function sn(i){function o(l,d,p,y,w){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Qr:wl,this.isPropagationStopped=wl,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),o}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=sn(Cr),Zr=ce({},Cr,{view:0,detail:0}),$h=sn(Zr),Zo,yi,Ji,Js=ce({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(Zo=i.screenX-Ji.screenX,yi=i.screenY-Ji.screenY):yi=Zo=0,Ji=i),Zo)},movementY:function(i){return"movementY"in i?i.movementY:yi}}),Jo=sn(Js),El=ce({},Js,{dataTransfer:0}),ac=sn(El),Yo=ce({},Zr,{relatedTarget:0}),Xo=sn(Yo),lc=ce({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=sn(lc),uc=ce({},Cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cc=sn(uc),dc=ce({},Cr,{data:0}),Tl=sn(dc),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=hc[i])?!!o[i]:!1}function Jr(){return fc}var c=ce({},Zr,{key:function(i){if(i.key){var o=ea[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ko(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(i){return i.type==="keypress"?Ko(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ko(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=sn(c),_=ce({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=sn(_),z=ce({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),W=sn(z),le=ce({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=sn(le),Ut=ce({},Js,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=sn(Ut),Kt=[9,13,27,32],Ot=h&&"CompositionEvent"in window,cr=null;h&&"documentMode"in document&&(cr=document.documentMode);var er=h&&"TextEvent"in window&&!cr,Ys=h&&(!Ot||cr&&8<cr&&11>=cr),ta=" ",qg=!1;function Wg(i,o){switch(i){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var na=!1;function fS(i,o){switch(i){case"compositionend":return Hg(o);case"keypress":return o.which!==32?null:(qg=!0,ta);case"textInput":return i=o.data,i===ta&&qg?null:i;default:return null}}function pS(i,o){if(na)return i==="compositionend"||!Ot&&Wg(i,o)?(i=_l(),Fn=Go=Xn=null,na=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ys&&o.locale!=="ko"?null:o.data;default:return null}}var mS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!mS[i.type]:o==="textarea"}function Kg(i,o,l,d){ft(d),o=vc(o,"onChange"),0<o.length&&(l=new Qo("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Il=null,Sl=null;function gS(i){hy(i,0)}function pc(i){var o=aa(i);if(Et(o))return i}function yS(i,o){if(i==="change")return o}var Qg=!1;if(h){var Bh;if(h){var qh="oninput"in document;if(!qh){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),qh=typeof Zg.oninput=="function"}Bh=qh}else Bh=!1;Qg=Bh&&(!document.documentMode||9<document.documentMode)}function Jg(){Il&&(Il.detachEvent("onpropertychange",Yg),Sl=Il=null)}function Yg(i){if(i.propertyName==="value"&&pc(Sl)){var o=[];Kg(o,Sl,i,Ui(i)),or(gS,o)}}function vS(i,o,l){i==="focusin"?(Jg(),Il=o,Sl=l,Il.attachEvent("onpropertychange",Yg)):i==="focusout"&&Jg()}function _S(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(Sl)}function wS(i,o){if(i==="click")return pc(o)}function ES(i,o){if(i==="input"||i==="change")return pc(o)}function TS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Pr=typeof Object.is=="function"?Object.is:TS;function kl(i,o){if(Pr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(o,p)||!Pr(i[p],o[p]))return!1}return!0}function Xg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ey(i,o){var l=Xg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xg(l)}}function ty(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ty(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ny(){for(var i=window,o=kn();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=kn(i.document)}return o}function Wh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function IS(i){var o=ny(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&ty(l.ownerDocument.documentElement,l)){if(d!==null&&Wh(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=ey(l,y);var w=ey(l,d);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var SS=h&&"documentMode"in document&&11>=document.documentMode,ra=null,Hh=null,bl=null,Gh=!1;function ry(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gh||ra==null||ra!==kn(d)||(d=ra,"selectionStart"in d&&Wh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),bl&&kl(bl,d)||(bl=d,d=vc(Hh,"onSelect"),0<d.length&&(o=new Qo("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=ra)))}function mc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var ia={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Kh={},iy={};h&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function gc(i){if(Kh[i])return Kh[i];if(!ia[i])return i;var o=ia[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in iy)return Kh[i]=o[l];return i}var sy=gc("animationend"),oy=gc("animationiteration"),ay=gc("animationstart"),ly=gc("transitionend"),uy=new Map,cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(i,o){uy.set(i,o),a(o,[i])}for(var Qh=0;Qh<cy.length;Qh++){var Zh=cy[Qh],kS=Zh.toLowerCase(),bS=Zh[0].toUpperCase()+Zh.slice(1);Yi(kS,"on"+bS)}Yi(sy,"onAnimationEnd"),Yi(oy,"onAnimationIteration"),Yi(ay,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(ly,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Al));function dy(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Hu(d,o,void 0,i),i.currentTarget=null}function hy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var w=d.length-1;0<=w;w--){var A=d[w],O=A.instance,B=A.currentTarget;if(A=A.listener,O!==y&&p.isPropagationStopped())break e;dy(p,A,B),y=O}else for(w=0;w<d.length;w++){if(A=d[w],O=A.instance,B=A.currentTarget,A=A.listener,O!==y&&p.isPropagationStopped())break e;dy(p,A,B),y=O}}}if(Dt)throw i=Tr,Dt=!1,Tr=null,i}function ct(i,o){var l=o[sf];l===void 0&&(l=o[sf]=new Set);var d=i+"__bubble";l.has(d)||(fy(o,i,2,!1),l.add(d))}function Jh(i,o,l){var d=0;o&&(d|=4),fy(l,i,d,o)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Rl(i){if(!i[yc]){i[yc]=!0,r.forEach(function(l){l!=="selectionchange"&&(AS.has(l)||Jh(l,!1,i),Jh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[yc]||(o[yc]=!0,Jh("selectionchange",!1,o))}}function fy(i,o,l,d){switch(vl(o)){case 1:var p=pt;break;case 4:p=Uh;break;default:p=yl}l=p.bind(null,o,l,i),p=void 0,!bn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Yh(i,o,l,d,p){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;w=w.return}for(;A!==null;){if(w=Xs(A),w===null)return;if(O=w.tag,O===5||O===6){d=y=w;continue e}A=A.parentNode}}d=d.return}or(function(){var B=y,re=Ui(l),se=[];e:{var ne=uy.get(i);if(ne!==void 0){var de=Qo,me=i;switch(i){case"keypress":if(Ko(l)===0)break e;case"keydown":case"keyup":de=g;break;case"focusin":me="focus",de=Xo;break;case"focusout":me="blur",de=Xo;break;case"beforeblur":case"afterblur":de=Xo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=W;break;case sy:case oy:case ay:de=vi;break;case ly:de=tt;break;case"scroll":de=$h;break;case"wheel":de=Ke;break;case"copy":case"cut":case"paste":de=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=I}var ve=(o&4)!==0,At=!ve&&i==="scroll",j=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var V=B,$;V!==null;){$=V;var ae=$.stateNode;if($.tag===5&&ae!==null&&($=ae,j!==null&&(ae=ze(V,j),ae!=null&&ve.push(Cl(V,ae,$)))),At)break;V=V.return}0<ve.length&&(ne=new de(ne,me,null,l,re),se.push({event:ne,listeners:ve}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ne&&l!==Hr&&(me=l.relatedTarget||l.fromElement)&&(Xs(me)||me[_i]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(me=l.relatedTarget||l.toElement,de=B,me=me?Xs(me):null,me!==null&&(At=Ir(me),me!==At||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=B),de!==me)){if(ve=Jo,ae="onMouseLeave",j="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(ve=I,ae="onPointerLeave",j="onPointerEnter",V="pointer"),At=de==null?ne:aa(de),$=me==null?ne:aa(me),ne=new ve(ae,V+"leave",de,l,re),ne.target=At,ne.relatedTarget=$,ae=null,Xs(re)===B&&(ve=new ve(j,V+"enter",me,l,re),ve.target=$,ve.relatedTarget=At,ae=ve),At=ae,de&&me)t:{for(ve=de,j=me,V=0,$=ve;$;$=sa($))V++;for($=0,ae=j;ae;ae=sa(ae))$++;for(;0<V-$;)ve=sa(ve),V--;for(;0<$-V;)j=sa(j),$--;for(;V--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=sa(ve),j=sa(j)}ve=null}else ve=null;de!==null&&py(se,ne,de,ve,!1),me!==null&&At!==null&&py(se,At,me,ve,!0)}}e:{if(ne=B?aa(B):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var Ee=yS;else if(Gg(ne))if(Qg)Ee=ES;else{Ee=_S;var be=vS}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ee=wS);if(Ee&&(Ee=Ee(i,B))){Kg(se,Ee,l,re);break e}be&&be(i,ne,B),i==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&Br(ne,"number",ne.value)}switch(be=B?aa(B):window,i){case"focusin":(Gg(be)||be.contentEditable==="true")&&(ra=be,Hh=B,bl=null);break;case"focusout":bl=Hh=ra=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,ry(se,l,re);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":ry(se,l,re)}var Ae;if(Ot)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else na?Wg(i,l)&&(xe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(Ys&&l.locale!=="ko"&&(na||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&na&&(Ae=_l()):(Xn=re,Go="value"in Xn?Xn.value:Xn.textContent,na=!0)),be=vc(B,xe),0<be.length&&(xe=new Tl(xe,i,null,l,re),se.push({event:xe,listeners:be}),Ae?xe.data=Ae:(Ae=Hg(l),Ae!==null&&(xe.data=Ae)))),(Ae=er?fS(i,l):pS(i,l))&&(B=vc(B,"onBeforeInput"),0<B.length&&(re=new Tl("onBeforeInput","beforeinput",null,l,re),se.push({event:re,listeners:B}),re.data=Ae))}hy(se,o)})}function Cl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function vc(i,o){for(var l=o+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ze(i,l),y!=null&&d.unshift(Cl(i,y,p)),y=ze(i,o),y!=null&&d.push(Cl(i,y,p))),i=i.return}return d}function sa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function py(i,o,l,d,p){for(var y=o._reactName,w=[];l!==null&&l!==d;){var A=l,O=A.alternate,B=A.stateNode;if(O!==null&&O===d)break;A.tag===5&&B!==null&&(A=B,p?(O=ze(l,y),O!=null&&w.unshift(Cl(l,O,A))):p||(O=ze(l,y),O!=null&&w.push(Cl(l,O,A)))),l=l.return}w.length!==0&&i.push({event:o,listeners:w})}var RS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function my(i){return(typeof i=="string"?i:""+i).replace(RS,`
`).replace(CS,"")}function _c(i,o,l){if(o=my(o),my(i)!==o&&l)throw Error(n(425))}function wc(){}var Xh=null,ef=null;function tf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var nf=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(i){return gy.resolve(null).then(i).catch(NS)}:nf;function NS(i){setTimeout(function(){throw i})}function rf(i,o){var l=o,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),Rr(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Rr(o)}function Xi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function yy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var oa=Math.random().toString(36).slice(2),Yr="__reactFiber$"+oa,Pl="__reactProps$"+oa,_i="__reactContainer$"+oa,sf="__reactEvents$"+oa,DS="__reactListeners$"+oa,OS="__reactHandles$"+oa;function Xs(i){var o=i[Yr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[_i]||l[Yr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=yy(i);i!==null;){if(l=i[Yr])return l;i=yy(i)}return o}i=l,l=i.parentNode}return null}function xl(i){return i=i[Yr]||i[_i],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function aa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ec(i){return i[Pl]||null}var of=[],la=-1;function es(i){return{current:i}}function dt(i){0>la||(i.current=of[la],of[la]=null,la--)}function at(i,o){la++,of[la]=i.current,i.current=o}var ts={},mn=es(ts),zn=es(!1),eo=ts;function ua(i,o){var l=i.type.contextTypes;if(!l)return ts;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function jn(i){return i=i.childContextTypes,i!=null}function Tc(){dt(zn),dt(mn)}function vy(i,o,l){if(mn.current!==ts)throw Error(n(168));at(mn,o),at(zn,l)}function _y(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(n(108,Te(i)||"Unknown",p));return ce({},l,d)}function Ic(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ts,eo=mn.current,at(mn,i),at(zn,zn.current),!0}function wy(i,o,l){var d=i.stateNode;if(!d)throw Error(n(169));l?(i=_y(i,o,eo),d.__reactInternalMemoizedMergedChildContext=i,dt(zn),dt(mn),at(mn,i)):dt(zn),at(zn,l)}var wi=null,Sc=!1,af=!1;function Ey(i){wi===null?wi=[i]:wi.push(i)}function MS(i){Sc=!0,Ey(i)}function ns(){if(!af&&wi!==null){af=!0;var i=0,o=qe;try{var l=wi;for(qe=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}wi=null,Sc=!1}catch(p){throw wi!==null&&(wi=wi.slice(i+1)),$o(Ws,ns),p}finally{qe=o,af=!1}}return null}var ca=[],da=0,kc=null,bc=0,dr=[],hr=0,to=null,Ei=1,Ti="";function no(i,o){ca[da++]=bc,ca[da++]=kc,kc=i,bc=o}function Ty(i,o,l){dr[hr++]=Ei,dr[hr++]=Ti,dr[hr++]=to,to=i;var d=Ei;i=Ti;var p=32-An(d)-1;d&=~(1<<p),l+=1;var y=32-An(o)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Ei=1<<32-An(o)+p|l<<p|d,Ti=y+i}else Ei=1<<y|l<<p|d,Ti=i}function lf(i){i.return!==null&&(no(i,1),Ty(i,1,0))}function uf(i){for(;i===kc;)kc=ca[--da],ca[da]=null,bc=ca[--da],ca[da]=null;for(;i===to;)to=dr[--hr],dr[hr]=null,Ti=dr[--hr],dr[hr]=null,Ei=dr[--hr],dr[hr]=null}var tr=null,nr=null,mt=!1,xr=null;function Iy(i,o){var l=gr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Sy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,tr=i,nr=Xi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,tr=i,nr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=to!==null?{id:Ei,overflow:Ti}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=gr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,tr=i,nr=null,!0):!1;default:return!1}}function cf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function df(i){if(mt){var o=nr;if(o){var l=o;if(!Sy(i,o)){if(cf(i))throw Error(n(418));o=Xi(l.nextSibling);var d=tr;o&&Sy(i,o)?Iy(d,l):(i.flags=i.flags&-4097|2,mt=!1,tr=i)}}else{if(cf(i))throw Error(n(418));i.flags=i.flags&-4097|2,mt=!1,tr=i}}}function ky(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;tr=i}function Ac(i){if(i!==tr)return!1;if(!mt)return ky(i),mt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!tf(i.type,i.memoizedProps)),o&&(o=nr)){if(cf(i))throw by(),Error(n(418));for(;o;)Iy(i,o),o=Xi(o.nextSibling)}if(ky(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){nr=Xi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}nr=null}}else nr=tr?Xi(i.stateNode.nextSibling):null;return!0}function by(){for(var i=nr;i;)i=Xi(i.nextSibling)}function ha(){nr=tr=null,mt=!1}function hf(i){xr===null?xr=[i]:xr.push(i)}var VS=ee.ReactCurrentBatchConfig;function Nl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,i));var p=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(w){var A=p.refs;w===null?delete A[y]:A[y]=w},o._stringRef=y,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function Rc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Ay(i){var o=i._init;return o(i._payload)}function Ry(i){function o(j,V){if(i){var $=j.deletions;$===null?(j.deletions=[V],j.flags|=16):$.push(V)}}function l(j,V){if(!i)return null;for(;V!==null;)o(j,V),V=V.sibling;return null}function d(j,V){for(j=new Map;V!==null;)V.key!==null?j.set(V.key,V):j.set(V.index,V),V=V.sibling;return j}function p(j,V){return j=cs(j,V),j.index=0,j.sibling=null,j}function y(j,V,$){return j.index=$,i?($=j.alternate,$!==null?($=$.index,$<V?(j.flags|=2,V):$):(j.flags|=2,V)):(j.flags|=1048576,V)}function w(j){return i&&j.alternate===null&&(j.flags|=2),j}function A(j,V,$,ae){return V===null||V.tag!==6?(V=rp($,j.mode,ae),V.return=j,V):(V=p(V,$),V.return=j,V)}function O(j,V,$,ae){var Ee=$.type;return Ee===C?re(j,V,$.props.children,ae,$.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Xe&&Ay(Ee)===V.type)?(ae=p(V,$.props),ae.ref=Nl(j,V,$),ae.return=j,ae):(ae=Yc($.type,$.key,$.props,null,j.mode,ae),ae.ref=Nl(j,V,$),ae.return=j,ae)}function B(j,V,$,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=ip($,j.mode,ae),V.return=j,V):(V=p(V,$.children||[]),V.return=j,V)}function re(j,V,$,ae,Ee){return V===null||V.tag!==7?(V=co($,j.mode,ae,Ee),V.return=j,V):(V=p(V,$),V.return=j,V)}function se(j,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=rp(""+V,j.mode,$),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case X:return $=Yc(V.type,V.key,V.props,null,j.mode,$),$.ref=Nl(j,null,V),$.return=j,$;case oe:return V=ip(V,j.mode,$),V.return=j,V;case Xe:var ae=V._init;return se(j,ae(V._payload),$)}if(Gt(V)||he(V))return V=co(V,j.mode,$,null),V.return=j,V;Rc(j,V)}return null}function ne(j,V,$,ae){var Ee=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Ee!==null?null:A(j,V,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return $.key===Ee?O(j,V,$,ae):null;case oe:return $.key===Ee?B(j,V,$,ae):null;case Xe:return Ee=$._init,ne(j,V,Ee($._payload),ae)}if(Gt($)||he($))return Ee!==null?null:re(j,V,$,ae,null);Rc(j,$)}return null}function de(j,V,$,ae,Ee){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return j=j.get($)||null,A(V,j,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case X:return j=j.get(ae.key===null?$:ae.key)||null,O(V,j,ae,Ee);case oe:return j=j.get(ae.key===null?$:ae.key)||null,B(V,j,ae,Ee);case Xe:var be=ae._init;return de(j,V,$,be(ae._payload),Ee)}if(Gt(ae)||he(ae))return j=j.get($)||null,re(V,j,ae,Ee,null);Rc(V,ae)}return null}function me(j,V,$,ae){for(var Ee=null,be=null,Ae=V,xe=V=0,Jt=null;Ae!==null&&xe<$.length;xe++){Ae.index>xe?(Jt=Ae,Ae=null):Jt=Ae.sibling;var Je=ne(j,Ae,$[xe],ae);if(Je===null){Ae===null&&(Ae=Jt);break}i&&Ae&&Je.alternate===null&&o(j,Ae),V=y(Je,V,xe),be===null?Ee=Je:be.sibling=Je,be=Je,Ae=Jt}if(xe===$.length)return l(j,Ae),mt&&no(j,xe),Ee;if(Ae===null){for(;xe<$.length;xe++)Ae=se(j,$[xe],ae),Ae!==null&&(V=y(Ae,V,xe),be===null?Ee=Ae:be.sibling=Ae,be=Ae);return mt&&no(j,xe),Ee}for(Ae=d(j,Ae);xe<$.length;xe++)Jt=de(Ae,j,xe,$[xe],ae),Jt!==null&&(i&&Jt.alternate!==null&&Ae.delete(Jt.key===null?xe:Jt.key),V=y(Jt,V,xe),be===null?Ee=Jt:be.sibling=Jt,be=Jt);return i&&Ae.forEach(function(ds){return o(j,ds)}),mt&&no(j,xe),Ee}function ve(j,V,$,ae){var Ee=he($);if(typeof Ee!="function")throw Error(n(150));if($=Ee.call($),$==null)throw Error(n(151));for(var be=Ee=null,Ae=V,xe=V=0,Jt=null,Je=$.next();Ae!==null&&!Je.done;xe++,Je=$.next()){Ae.index>xe?(Jt=Ae,Ae=null):Jt=Ae.sibling;var ds=ne(j,Ae,Je.value,ae);if(ds===null){Ae===null&&(Ae=Jt);break}i&&Ae&&ds.alternate===null&&o(j,Ae),V=y(ds,V,xe),be===null?Ee=ds:be.sibling=ds,be=ds,Ae=Jt}if(Je.done)return l(j,Ae),mt&&no(j,xe),Ee;if(Ae===null){for(;!Je.done;xe++,Je=$.next())Je=se(j,Je.value,ae),Je!==null&&(V=y(Je,V,xe),be===null?Ee=Je:be.sibling=Je,be=Je);return mt&&no(j,xe),Ee}for(Ae=d(j,Ae);!Je.done;xe++,Je=$.next())Je=de(Ae,j,xe,Je.value,ae),Je!==null&&(i&&Je.alternate!==null&&Ae.delete(Je.key===null?xe:Je.key),V=y(Je,V,xe),be===null?Ee=Je:be.sibling=Je,be=Je);return i&&Ae.forEach(function(mk){return o(j,mk)}),mt&&no(j,xe),Ee}function At(j,V,$,ae){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case X:e:{for(var Ee=$.key,be=V;be!==null;){if(be.key===Ee){if(Ee=$.type,Ee===C){if(be.tag===7){l(j,be.sibling),V=p(be,$.props.children),V.return=j,j=V;break e}}else if(be.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Xe&&Ay(Ee)===be.type){l(j,be.sibling),V=p(be,$.props),V.ref=Nl(j,be,$),V.return=j,j=V;break e}l(j,be);break}else o(j,be);be=be.sibling}$.type===C?(V=co($.props.children,j.mode,ae,$.key),V.return=j,j=V):(ae=Yc($.type,$.key,$.props,null,j.mode,ae),ae.ref=Nl(j,V,$),ae.return=j,j=ae)}return w(j);case oe:e:{for(be=$.key;V!==null;){if(V.key===be)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){l(j,V.sibling),V=p(V,$.children||[]),V.return=j,j=V;break e}else{l(j,V);break}else o(j,V);V=V.sibling}V=ip($,j.mode,ae),V.return=j,j=V}return w(j);case Xe:return be=$._init,At(j,V,be($._payload),ae)}if(Gt($))return me(j,V,$,ae);if(he($))return ve(j,V,$,ae);Rc(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(l(j,V.sibling),V=p(V,$),V.return=j,j=V):(l(j,V),V=rp($,j.mode,ae),V.return=j,j=V),w(j)):l(j,V)}return At}var fa=Ry(!0),Cy=Ry(!1),Cc=es(null),Pc=null,pa=null,ff=null;function pf(){ff=pa=Pc=null}function mf(i){var o=Cc.current;dt(Cc),i._currentValue=o}function gf(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function ma(i,o){Pc=i,ff=pa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Un=!0),i.firstContext=null)}function fr(i){var o=i._currentValue;if(ff!==i)if(i={context:i,memoizedValue:o,next:null},pa===null){if(Pc===null)throw Error(n(308));pa=i,Pc.dependencies={lanes:0,firstContext:i}}else pa=pa.next=i;return o}var ro=null;function yf(i){ro===null?ro=[i]:ro.push(i)}function Py(i,o,l,d){var p=o.interleaved;return p===null?(l.next=l,yf(o)):(l.next=p.next,p.next=l),o.interleaved=l,Ii(i,d)}function Ii(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var rs=!1;function vf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Si(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function is(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ze&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Ii(i,l)}return p=d.interleaved,p===null?(o.next=o,yf(d)):(o.next=p.next,p.next=o),d.interleaved=o,Ii(i,l)}function xc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,Gi(i,l)}}function Ny(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Nc(i,o,l,d){var p=i.updateQueue;rs=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var O=A,B=O.next;O.next=null,w===null?y=B:w.next=B,w=O;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==w&&(A===null?re.firstBaseUpdate=B:A.next=B,re.lastBaseUpdate=O))}if(y!==null){var se=p.baseState;w=0,re=B=O=null,A=y;do{var ne=A.lane,de=A.eventTime;if((d&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var me=i,ve=A;switch(ne=o,de=l,ve.tag){case 1:if(me=ve.payload,typeof me=="function"){se=me.call(de,se,ne);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,ne=typeof me=="function"?me.call(de,se,ne):me,ne==null)break e;se=ce({},se,ne);break e;case 2:rs=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,ne=p.effects,ne===null?p.effects=[A]:ne.push(A))}else de={eventTime:de,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(B=re=de,O=se):re=re.next=de,w|=ne;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(re===null&&(O=se),p.baseState=O,p.firstBaseUpdate=B,p.lastBaseUpdate=re,o=p.shared.interleaved,o!==null){p=o;do w|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);oo|=w,i.lanes=w,i.memoizedState=se}}function Dy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Dl={},Xr=es(Dl),Ol=es(Dl),Ml=es(Dl);function io(i){if(i===Dl)throw Error(n(174));return i}function _f(i,o){switch(at(Ml,o),at(Ol,i),at(Xr,Dl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:st(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=st(o,i)}dt(Xr),at(Xr,o)}function ga(){dt(Xr),dt(Ol),dt(Ml)}function Oy(i){io(Ml.current);var o=io(Xr.current),l=st(o,i.type);o!==l&&(at(Ol,i),at(Xr,l))}function wf(i){Ol.current===i&&(dt(Xr),dt(Ol))}var yt=es(0);function Dc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ef=[];function Tf(){for(var i=0;i<Ef.length;i++)Ef[i]._workInProgressVersionPrimary=null;Ef.length=0}var Oc=ee.ReactCurrentDispatcher,If=ee.ReactCurrentBatchConfig,so=0,vt=null,$t=null,Qt=null,Mc=!1,Vl=!1,Ll=0,LS=0;function gn(){throw Error(n(321))}function Sf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Pr(i[l],o[l]))return!1;return!0}function kf(i,o,l,d,p,y){if(so=y,vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Oc.current=i===null||i.memoizedState===null?US:$S,i=l(d,p),Vl){y=0;do{if(Vl=!1,Ll=0,25<=y)throw Error(n(301));y+=1,Qt=$t=null,o.updateQueue=null,Oc.current=BS,i=l(d,p)}while(Vl)}if(Oc.current=Fc,o=$t!==null&&$t.next!==null,so=0,Qt=$t=vt=null,Mc=!1,o)throw Error(n(300));return i}function bf(){var i=Ll!==0;return Ll=0,i}function ei(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?vt.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function pr(){if($t===null){var i=vt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var o=Qt===null?vt.memoizedState:Qt.next;if(o!==null)Qt=o,$t=i;else{if(i===null)throw Error(n(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Qt===null?vt.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function Fl(i,o){return typeof o=="function"?o(i):o}function Af(i){var o=pr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=$t,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var A=w=null,O=null,B=y;do{var re=B.lane;if((so&re)===re)O!==null&&(O=O.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),d=B.hasEagerState?B.eagerState:i(d,B.action);else{var se={lane:re,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};O===null?(A=O=se,w=d):O=O.next=se,vt.lanes|=re,oo|=re}B=B.next}while(B!==null&&B!==y);O===null?w=d:O.next=A,Pr(d,o.memoizedState)||(Un=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=O,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do y=p.lane,vt.lanes|=y,oo|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Rf(i){var o=pr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Pr(y,o.memoizedState)||(Un=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function My(){}function Vy(i,o){var l=vt,d=pr(),p=o(),y=!Pr(d.memoizedState,p);if(y&&(d.memoizedState=p,Un=!0),d=d.queue,Cf(zy.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,zl(9,Fy.bind(null,l,d,p,o),void 0,null),Zt===null)throw Error(n(349));(so&30)!==0||Ly(l,o,p)}return p}function Ly(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Fy(i,o,l,d){o.value=l,o.getSnapshot=d,jy(o)&&Uy(i)}function zy(i,o,l){return l(function(){jy(o)&&Uy(i)})}function jy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Pr(i,l)}catch{return!0}}function Uy(i){var o=Ii(i,1);o!==null&&Mr(o,i,1,-1)}function $y(i){var o=ei();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:i},o.queue=i,i=i.dispatch=jS.bind(null,vt,i),[o.memoizedState,i]}function zl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function By(){return pr().memoizedState}function Vc(i,o,l,d){var p=ei();vt.flags|=i,p.memoizedState=zl(1|o,l,void 0,d===void 0?null:d)}function Lc(i,o,l,d){var p=pr();d=d===void 0?null:d;var y=void 0;if($t!==null){var w=$t.memoizedState;if(y=w.destroy,d!==null&&Sf(d,w.deps)){p.memoizedState=zl(o,l,y,d);return}}vt.flags|=i,p.memoizedState=zl(1|o,l,y,d)}function qy(i,o){return Vc(8390656,8,i,o)}function Cf(i,o){return Lc(2048,8,i,o)}function Wy(i,o){return Lc(4,2,i,o)}function Hy(i,o){return Lc(4,4,i,o)}function Gy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ky(i,o,l){return l=l!=null?l.concat([i]):null,Lc(4,4,Gy.bind(null,o,i),l)}function Pf(){}function Qy(i,o){var l=pr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Sf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function Zy(i,o){var l=pr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Sf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function Jy(i,o,l){return(so&21)===0?(i.baseState&&(i.baseState=!1,Un=!0),i.memoizedState=l):(Pr(l,o)||(l=Ks(),vt.lanes|=l,oo|=l,i.baseState=!0),o)}function FS(i,o){var l=qe;qe=l!==0&&4>l?l:4,i(!0);var d=If.transition;If.transition={};try{i(!1),o()}finally{qe=l,If.transition=d}}function Yy(){return pr().memoizedState}function zS(i,o,l){var d=ls(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Xy(i))ev(o,l);else if(l=Py(i,o,l,d),l!==null){var p=Pn();Mr(l,i,d,p),tv(l,o,d)}}function jS(i,o,l){var d=ls(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xy(i))ev(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var w=o.lastRenderedState,A=y(w,l);if(p.hasEagerState=!0,p.eagerState=A,Pr(A,w)){var O=o.interleaved;O===null?(p.next=p,yf(o)):(p.next=O.next,O.next=p),o.interleaved=p;return}}catch{}finally{}l=Py(i,o,p,d),l!==null&&(p=Pn(),Mr(l,i,d,p),tv(l,o,d))}}function Xy(i){var o=i.alternate;return i===vt||o!==null&&o===vt}function ev(i,o){Vl=Mc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function tv(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,Gi(i,l)}}var Fc={readContext:fr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},US={readContext:fr,useCallback:function(i,o){return ei().memoizedState=[i,o===void 0?null:o],i},useContext:fr,useEffect:qy,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Vc(4194308,4,Gy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Vc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Vc(4,2,i,o)},useMemo:function(i,o){var l=ei();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=ei();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=zS.bind(null,vt,i),[d.memoizedState,i]},useRef:function(i){var o=ei();return i={current:i},o.memoizedState=i},useState:$y,useDebugValue:Pf,useDeferredValue:function(i){return ei().memoizedState=i},useTransition:function(){var i=$y(!1),o=i[0];return i=FS.bind(null,i[1]),ei().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=vt,p=ei();if(mt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Zt===null)throw Error(n(349));(so&30)!==0||Ly(d,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,qy(zy.bind(null,d,y,i),[i]),d.flags|=2048,zl(9,Fy.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=ei(),o=Zt.identifierPrefix;if(mt){var l=Ti,d=Ei;l=(d&~(1<<32-An(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Ll++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=LS++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},$S={readContext:fr,useCallback:Qy,useContext:fr,useEffect:Cf,useImperativeHandle:Ky,useInsertionEffect:Wy,useLayoutEffect:Hy,useMemo:Zy,useReducer:Af,useRef:By,useState:function(){return Af(Fl)},useDebugValue:Pf,useDeferredValue:function(i){var o=pr();return Jy(o,$t.memoizedState,i)},useTransition:function(){var i=Af(Fl)[0],o=pr().memoizedState;return[i,o]},useMutableSource:My,useSyncExternalStore:Vy,useId:Yy,unstable_isNewReconciler:!1},BS={readContext:fr,useCallback:Qy,useContext:fr,useEffect:Cf,useImperativeHandle:Ky,useInsertionEffect:Wy,useLayoutEffect:Hy,useMemo:Zy,useReducer:Rf,useRef:By,useState:function(){return Rf(Fl)},useDebugValue:Pf,useDeferredValue:function(i){var o=pr();return $t===null?o.memoizedState=i:Jy(o,$t.memoizedState,i)},useTransition:function(){var i=Rf(Fl)[0],o=pr().memoizedState;return[i,o]},useMutableSource:My,useSyncExternalStore:Vy,useId:Yy,unstable_isNewReconciler:!1};function Nr(i,o){if(i&&i.defaultProps){o=ce({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function xf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ce({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zc={isMounted:function(i){return(i=i._reactInternals)?Ir(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Pn(),p=ls(i),y=Si(d,p);y.payload=o,l!=null&&(y.callback=l),o=is(i,y,p),o!==null&&(Mr(o,i,p,d),xc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Pn(),p=ls(i),y=Si(d,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=is(i,y,p),o!==null&&(Mr(o,i,p,d),xc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Pn(),d=ls(i),p=Si(l,d);p.tag=2,o!=null&&(p.callback=o),o=is(i,p,d),o!==null&&(Mr(o,i,d,l),xc(o,i,d))}};function nv(i,o,l,d,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,w):o.prototype&&o.prototype.isPureReactComponent?!kl(l,d)||!kl(p,y):!0}function rv(i,o,l){var d=!1,p=ts,y=o.contextType;return typeof y=="object"&&y!==null?y=fr(y):(p=jn(o)?eo:mn.current,d=o.contextTypes,y=(d=d!=null)?ua(i,p):ts),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=zc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function iv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&zc.enqueueReplaceState(o,o.state,null)}function Nf(i,o,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},vf(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=fr(y):(y=jn(o)?eo:mn.current,p.context=ua(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(xf(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&zc.enqueueReplaceState(p,p.state,null),Nc(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function ya(i,o){try{var l="",d=o;do l+=Pe(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function Df(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Of(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var qS=typeof WeakMap=="function"?WeakMap:Map;function sv(i,o,l){l=Si(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Hc||(Hc=!0,Qf=d),Of(i,o)},l}function ov(i,o,l){l=Si(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){Of(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Of(i,o),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),l}function av(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new qS;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),i=ik.bind(null,i,o,l),o.then(i,i))}function lv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function uv(i,o,l,d,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Si(-1,1),o.tag=2,is(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var WS=ee.ReactCurrentOwner,Un=!1;function Cn(i,o,l,d){o.child=i===null?Cy(o,null,l,d):fa(o,i.child,l,d)}function cv(i,o,l,d,p){l=l.render;var y=o.ref;return ma(o,p),d=kf(i,o,l,d,y,p),l=bf(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,ki(i,o,p)):(mt&&l&&lf(o),o.flags|=1,Cn(i,o,d,p),o.child)}function dv(i,o,l,d,p){if(i===null){var y=l.type;return typeof y=="function"&&!np(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,hv(i,o,y,d,p)):(i=Yc(l.type,null,d,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&p)===0){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:kl,l(w,d)&&i.ref===o.ref)return ki(i,o,p)}return o.flags|=1,i=cs(y,d),i.ref=o.ref,i.return=o,o.child=i}function hv(i,o,l,d,p){if(i!==null){var y=i.memoizedProps;if(kl(y,d)&&i.ref===o.ref)if(Un=!1,o.pendingProps=d=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(Un=!0);else return o.lanes=i.lanes,ki(i,o,p)}return Mf(i,o,l,d,p)}function fv(i,o,l){var d=o.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(_a,rr),rr|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,at(_a,rr),rr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,at(_a,rr),rr|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,at(_a,rr),rr|=d;return Cn(i,o,p,l),o.child}function pv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Mf(i,o,l,d,p){var y=jn(l)?eo:mn.current;return y=ua(o,y),ma(o,p),l=kf(i,o,l,d,y,p),d=bf(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,ki(i,o,p)):(mt&&d&&lf(o),o.flags|=1,Cn(i,o,l,p),o.child)}function mv(i,o,l,d,p){if(jn(l)){var y=!0;Ic(o)}else y=!1;if(ma(o,p),o.stateNode===null)Uc(i,o),rv(o,l,d),Nf(o,l,d,p),d=!0;else if(i===null){var w=o.stateNode,A=o.memoizedProps;w.props=A;var O=w.context,B=l.contextType;typeof B=="object"&&B!==null?B=fr(B):(B=jn(l)?eo:mn.current,B=ua(o,B));var re=l.getDerivedStateFromProps,se=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function";se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==d||O!==B)&&iv(o,w,d,B),rs=!1;var ne=o.memoizedState;w.state=ne,Nc(o,d,w,p),O=o.memoizedState,A!==d||ne!==O||zn.current||rs?(typeof re=="function"&&(xf(o,l,re,d),O=o.memoizedState),(A=rs||nv(o,l,A,d,ne,O,B))?(se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),w.props=d,w.state=O,w.context=B,d=A):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,xy(i,o),A=o.memoizedProps,B=o.type===o.elementType?A:Nr(o.type,A),w.props=B,se=o.pendingProps,ne=w.context,O=l.contextType,typeof O=="object"&&O!==null?O=fr(O):(O=jn(l)?eo:mn.current,O=ua(o,O));var de=l.getDerivedStateFromProps;(re=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==se||ne!==O)&&iv(o,w,d,O),rs=!1,ne=o.memoizedState,w.state=ne,Nc(o,d,w,p);var me=o.memoizedState;A!==se||ne!==me||zn.current||rs?(typeof de=="function"&&(xf(o,l,de,d),me=o.memoizedState),(B=rs||nv(o,l,B,d,ne,me,O)||!1)?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,me,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,me,O)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=me),w.props=d,w.state=me,w.context=O,d=B):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),d=!1)}return Vf(i,o,l,d,y,p)}function Vf(i,o,l,d,p,y){pv(i,o);var w=(o.flags&128)!==0;if(!d&&!w)return p&&wy(o,l,!1),ki(i,o,y);d=o.stateNode,WS.current=o;var A=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&w?(o.child=fa(o,i.child,null,y),o.child=fa(o,null,A,y)):Cn(i,o,A,y),o.memoizedState=d.state,p&&wy(o,l,!0),o.child}function gv(i){var o=i.stateNode;o.pendingContext?vy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&vy(i,o.context,!1),_f(i,o.containerInfo)}function yv(i,o,l,d,p){return ha(),hf(p),o.flags|=256,Cn(i,o,l,d),o.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Ff(i){return{baseLanes:i,cachePool:null,transitions:null}}function vv(i,o,l){var d=o.pendingProps,p=yt.current,y=!1,w=(o.flags&128)!==0,A;if((A=w)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),at(yt,p&1),i===null)return df(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=d.children,i=d.fallback,y?(d=o.mode,y=o.child,w={mode:"hidden",children:w},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=Xc(w,d,0,null),i=co(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Ff(l),o.memoizedState=Lf,i):zf(o,w));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return HS(i,o,w,d,A,p,l);if(y){y=d.fallback,w=o.mode,p=i.child,A=p.sibling;var O={mode:"hidden",children:d.children};return(w&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=cs(p,O),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=cs(A,y):(y=co(y,w,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,w=i.child.memoizedState,w=w===null?Ff(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~l,o.memoizedState=Lf,d}return y=i.child,i=y.sibling,d=cs(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function zf(i,o){return o=Xc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function jc(i,o,l,d){return d!==null&&hf(d),fa(o,i.child,null,l),i=zf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function HS(i,o,l,d,p,y,w){if(l)return o.flags&256?(o.flags&=-257,d=Df(Error(n(422))),jc(i,o,w,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,p=o.mode,d=Xc({mode:"visible",children:d.children},p,0,null),y=co(y,p,w,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&fa(o,i.child,null,w),o.child.memoizedState=Ff(w),o.memoizedState=Lf,y);if((o.mode&1)===0)return jc(i,o,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,y=Error(n(419)),d=Df(y,d,void 0),jc(i,o,w,d)}if(A=(w&i.childLanes)!==0,Un||A){if(d=Zt,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|w))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Ii(i,p),Mr(d,i,p,-1))}return tp(),d=Df(Error(n(421))),jc(i,o,w,d)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=sk.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,nr=Xi(p.nextSibling),tr=o,mt=!0,xr=null,i!==null&&(dr[hr++]=Ei,dr[hr++]=Ti,dr[hr++]=to,Ei=i.id,Ti=i.overflow,to=o),o=zf(o,d.children),o.flags|=4096,o)}function _v(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),gf(i.return,o,l)}function jf(i,o,l,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function wv(i,o,l){var d=o.pendingProps,p=d.revealOrder,y=d.tail;if(Cn(i,o,d.children,l),d=yt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_v(i,l,o);else if(i.tag===19)_v(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(at(yt,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Dc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),jf(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Dc(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}jf(o,!0,l,null,y);break;case"together":jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Uc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ki(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),oo|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=cs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=cs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function GS(i,o,l){switch(o.tag){case 3:gv(o),ha();break;case 5:Oy(o);break;case 1:jn(o.type)&&Ic(o);break;case 4:_f(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;at(Cc,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(at(yt,yt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?vv(i,o,l):(at(yt,yt.current&1),i=ki(i,o,l),i!==null?i.sibling:null);at(yt,yt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return wv(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(yt,yt.current),d)break;return null;case 22:case 23:return o.lanes=0,fv(i,o,l)}return ki(i,o,l)}var Ev,Uf,Tv,Iv;Ev=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Uf=function(){},Tv=function(i,o,l,d){var p=i.memoizedProps;if(p!==d){i=o.stateNode,io(Xr.current);var y=null;switch(l){case"input":p=tn(i,p),d=tn(i,d),y=[];break;case"select":p=ce({},p,{value:void 0}),d=ce({},d,{value:void 0}),y=[];break;case"textarea":p=qr(i,p),d=qr(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=wc)}ji(l,d);var w;l=null;for(B in p)if(!d.hasOwnProperty(B)&&p.hasOwnProperty(B)&&p[B]!=null)if(B==="style"){var A=p[B];for(w in A)A.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(s.hasOwnProperty(B)?y||(y=[]):(y=y||[]).push(B,null));for(B in d){var O=d[B];if(A=p!=null?p[B]:void 0,d.hasOwnProperty(B)&&O!==A&&(O!=null||A!=null))if(B==="style")if(A){for(w in A)!A.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in O)O.hasOwnProperty(w)&&A[w]!==O[w]&&(l||(l={}),l[w]=O[w])}else l||(y||(y=[]),y.push(B,l)),l=O;else B==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,A=A?A.__html:void 0,O!=null&&A!==O&&(y=y||[]).push(B,O)):B==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(B,""+O):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(s.hasOwnProperty(B)?(O!=null&&B==="onScroll"&&ct("scroll",i),y||A===O||(y=[])):(y=y||[]).push(B,O))}l&&(y=y||[]).push("style",l);var B=y;(o.updateQueue=B)&&(o.flags|=4)}},Iv=function(i,o,l,d){l!==d&&(o.flags|=4)};function jl(i,o){if(!mt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function yn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function KS(i,o,l){var d=o.pendingProps;switch(uf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return jn(o.type)&&Tc(),yn(o),null;case 3:return d=o.stateNode,ga(),dt(zn),dt(mn),Tf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ac(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xr!==null&&(Yf(xr),xr=null))),Uf(i,o),yn(o),null;case 5:wf(o);var p=io(Ml.current);if(l=o.type,i!==null&&o.stateNode!=null)Tv(i,o,l,d,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return yn(o),null}if(i=io(Xr.current),Ac(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[Yr]=o,d[Pl]=y,i=(o.mode&1)!==0,l){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(p=0;p<Al.length;p++)ct(Al[p],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":Qn(d,y),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ct("invalid",d);break;case"textarea":di(d,y),ct("invalid",d)}ji(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var A=y[w];w==="children"?typeof A=="string"?d.textContent!==A&&(y.suppressHydrationWarning!==!0&&_c(d.textContent,A,i),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&_c(d.textContent,A,i),p=["children",""+A]):s.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&ct("scroll",d)}switch(l){case"input":zt(d),Fs(d,y,!0);break;case"textarea":zt(d),zs(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=wc)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=bt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=w.createElement(l,{is:d.is}):(i=w.createElement(l),l==="select"&&(w=i,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):i=w.createElementNS(i,l),i[Yr]=o,i[Pl]=d,Ev(i,o,!1,!1),o.stateNode=i;e:{switch(w=$s(l,d),l){case"dialog":ct("cancel",i),ct("close",i),p=d;break;case"iframe":case"object":case"embed":ct("load",i),p=d;break;case"video":case"audio":for(p=0;p<Al.length;p++)ct(Al[p],i);p=d;break;case"source":ct("error",i),p=d;break;case"img":case"image":case"link":ct("error",i),ct("load",i),p=d;break;case"details":ct("toggle",i),p=d;break;case"input":Qn(i,d),p=tn(i,d),ct("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=ce({},d,{value:void 0}),ct("invalid",i);break;case"textarea":di(i,d),p=qr(i,d),ct("invalid",i);break;default:p=d}ji(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var O=A[y];y==="style"?Us(i,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&wr(i,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Er(i,O):typeof O=="number"&&Er(i,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?O!=null&&y==="onScroll"&&ct("scroll",i):O!=null&&G(i,y,O,w))}switch(l){case"input":zt(i),Fs(i,d,!1);break;case"textarea":zt(i),zs(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Le(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?On(i,!!d.multiple,y,!1):d.defaultValue!=null&&On(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=wc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return yn(o),null;case 6:if(i&&o.stateNode!=null)Iv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(l=io(Ml.current),io(Xr.current),Ac(o)){if(d=o.stateNode,l=o.memoizedProps,d[Yr]=o,(y=d.nodeValue!==l)&&(i=tr,i!==null))switch(i.tag){case 3:_c(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&_c(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Yr]=o,o.stateNode=d}return yn(o),null;case 13:if(dt(yt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(mt&&nr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)by(),ha(),o.flags|=98560,y=!1;else if(y=Ac(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Yr]=o}else ha(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),y=!1}else xr!==null&&(Yf(xr),xr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(yt.current&1)!==0?Bt===0&&(Bt=3):tp())),o.updateQueue!==null&&(o.flags|=4),yn(o),null);case 4:return ga(),Uf(i,o),i===null&&Rl(o.stateNode.containerInfo),yn(o),null;case 10:return mf(o.type._context),yn(o),null;case 17:return jn(o.type)&&Tc(),yn(o),null;case 19:if(dt(yt),y=o.memoizedState,y===null)return yn(o),null;if(d=(o.flags&128)!==0,w=y.rendering,w===null)if(d)jl(y,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Dc(i),w!==null){for(o.flags|=128,jl(y,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return at(yt,yt.current&1|2),o.child}i=i.sibling}y.tail!==null&&ot()>wa&&(o.flags|=128,d=!0,jl(y,!1),o.lanes=4194304)}else{if(!d)if(i=Dc(w),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),jl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!mt)return yn(o),null}else 2*ot()-y.renderingStartTime>wa&&l!==1073741824&&(o.flags|=128,d=!0,jl(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(l=y.last,l!==null?l.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ot(),o.sibling=null,l=yt.current,at(yt,d?l&1|2:l&1),o):(yn(o),null);case 22:case 23:return ep(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(rr&1073741824)!==0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function QS(i,o){switch(uf(o),o.tag){case 1:return jn(o.type)&&Tc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ga(),dt(zn),dt(mn),Tf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return wf(o),null;case 13:if(dt(yt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ha()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return dt(yt),null;case 4:return ga(),null;case 10:return mf(o.type._context),null;case 22:case 23:return ep(),null;case 24:return null;default:return null}}var $c=!1,vn=!1,ZS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function va(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){It(i,o,d)}else l.current=null}function $f(i,o,l){try{l()}catch(d){It(i,o,d)}}var Sv=!1;function JS(i,o){if(Xh=Zi,i=ny(),Wh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,A=-1,O=-1,B=0,re=0,se=i,ne=null;t:for(;;){for(var de;se!==l||p!==0&&se.nodeType!==3||(A=w+p),se!==y||d!==0&&se.nodeType!==3||(O=w+d),se.nodeType===3&&(w+=se.nodeValue.length),(de=se.firstChild)!==null;)ne=se,se=de;for(;;){if(se===i)break t;if(ne===l&&++B===p&&(A=w),ne===y&&++re===d&&(O=w),(de=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=de}l=A===-1||O===-1?null:{start:A,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(ef={focusedElem:i,selectionRange:l},Zi=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ve=me.memoizedProps,At=me.memoizedState,j=o.stateNode,V=j.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Nr(o.type,ve),At);j.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){It(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return me=Sv,Sv=!1,me}function Ul(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&$f(o,l,y)}p=p.next}while(p!==d)}}function Bc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Bf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function kv(i){var o=i.alternate;o!==null&&(i.alternate=null,kv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Yr],delete o[Pl],delete o[sf],delete o[DS],delete o[OS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function bv(i){return i.tag===5||i.tag===3||i.tag===4}function Av(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||bv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=wc));else if(d!==4&&(i=i.child,i!==null))for(qf(i,o,l),i=i.sibling;i!==null;)qf(i,o,l),i=i.sibling}function Wf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Wf(i,o,l),i=i.sibling;i!==null;)Wf(i,o,l),i=i.sibling}var on=null,Dr=!1;function ss(i,o,l){for(l=l.child;l!==null;)Rv(i,o,l),l=l.sibling}function Rv(i,o,l){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Hs,l)}catch{}switch(l.tag){case 5:vn||va(l,o);case 6:var d=on,p=Dr;on=null,ss(i,o,l),on=d,Dr=p,on!==null&&(Dr?(i=on,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):on.removeChild(l.stateNode));break;case 18:on!==null&&(Dr?(i=on,l=l.stateNode,i.nodeType===8?rf(i.parentNode,l):i.nodeType===1&&rf(i,l),Rr(i)):rf(on,l.stateNode));break;case 4:d=on,p=Dr,on=l.stateNode.containerInfo,Dr=!0,ss(i,o,l),on=d,Dr=p;break;case 0:case 11:case 14:case 15:if(!vn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&$f(l,o,w),p=p.next}while(p!==d)}ss(i,o,l);break;case 1:if(!vn&&(va(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){It(l,o,A)}ss(i,o,l);break;case 21:ss(i,o,l);break;case 22:l.mode&1?(vn=(d=vn)||l.memoizedState!==null,ss(i,o,l),vn=d):ss(i,o,l);break;default:ss(i,o,l)}}function Cv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new ZS),o.forEach(function(d){var p=ok.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Or(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=i,w=o,A=w;e:for(;A!==null;){switch(A.tag){case 5:on=A.stateNode,Dr=!1;break e;case 3:on=A.stateNode.containerInfo,Dr=!0;break e;case 4:on=A.stateNode.containerInfo,Dr=!0;break e}A=A.return}if(on===null)throw Error(n(160));Rv(y,w,p),on=null,Dr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(B){It(p,o,B)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Pv(o,i),o=o.sibling}function Pv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Or(o,i),ti(i),d&4){try{Ul(3,i,i.return),Bc(3,i)}catch(ve){It(i,i.return,ve)}try{Ul(5,i,i.return)}catch(ve){It(i,i.return,ve)}}break;case 1:Or(o,i),ti(i),d&512&&l!==null&&va(l,l.return);break;case 5:if(Or(o,i),ti(i),d&512&&l!==null&&va(l,l.return),i.flags&32){var p=i.stateNode;try{Er(p,"")}catch(ve){It(i,i.return,ve)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,w=l!==null?l.memoizedProps:y,A=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&sr(p,y),$s(A,w);var B=$s(A,y);for(w=0;w<O.length;w+=2){var re=O[w],se=O[w+1];re==="style"?Us(p,se):re==="dangerouslySetInnerHTML"?wr(p,se):re==="children"?Er(p,se):G(p,re,se,B)}switch(A){case"input":zi(p,y);break;case"textarea":hi(p,y);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?On(p,!!y.multiple,de,!1):ne!==!!y.multiple&&(y.defaultValue!=null?On(p,!!y.multiple,y.defaultValue,!0):On(p,!!y.multiple,y.multiple?[]:"",!1))}p[Pl]=y}catch(ve){It(i,i.return,ve)}}break;case 6:if(Or(o,i),ti(i),d&4){if(i.stateNode===null)throw Error(n(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(ve){It(i,i.return,ve)}}break;case 3:if(Or(o,i),ti(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Rr(o.containerInfo)}catch(ve){It(i,i.return,ve)}break;case 4:Or(o,i),ti(i);break;case 13:Or(o,i),ti(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Kf=ot())),d&4&&Cv(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(vn=(B=vn)||re,Or(o,i),vn=B):Or(o,i),ti(i),d&8192){if(B=i.memoizedState!==null,(i.stateNode.isHidden=B)&&!re&&(i.mode&1)!==0)for(fe=i,re=i.child;re!==null;){for(se=fe=re;fe!==null;){switch(ne=fe,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:Ul(4,ne,ne.return);break;case 1:va(ne,ne.return);var me=ne.stateNode;if(typeof me.componentWillUnmount=="function"){d=ne,l=ne.return;try{o=d,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ve){It(d,l,ve)}}break;case 5:va(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Dv(se);continue}}de!==null?(de.return=ne,fe=de):Dv(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{p=se.stateNode,B?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=se.stateNode,O=se.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,A.style.display=js("display",w))}catch(ve){It(i,i.return,ve)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=B?"":se.memoizedProps}catch(ve){It(i,i.return,ve)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Or(o,i),ti(i),d&4&&Cv(i);break;case 21:break;default:Or(o,i),ti(i)}}function ti(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(bv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Er(p,""),d.flags&=-33);var y=Av(i);Wf(i,y,p);break;case 3:case 4:var w=d.stateNode.containerInfo,A=Av(i);qf(i,A,w);break;default:throw Error(n(161))}}catch(O){It(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function YS(i,o,l){fe=i,xv(i)}function xv(i,o,l){for(var d=(i.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||$c;if(!w){var A=p.alternate,O=A!==null&&A.memoizedState!==null||vn;A=$c;var B=vn;if($c=w,(vn=O)&&!B)for(fe=p;fe!==null;)w=fe,O=w.child,w.tag===22&&w.memoizedState!==null?Ov(p):O!==null?(O.return=w,fe=O):Ov(p);for(;y!==null;)fe=y,xv(y),y=y.sibling;fe=p,$c=A,vn=B}Nv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):Nv(i)}}function Nv(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:vn||Bc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!vn)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Nr(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Dy(o,y,d);break;case 3:var w=o.updateQueue;if(w!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Dy(o,w,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var B=o.alternate;if(B!==null){var re=B.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Rr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vn||o.flags&512&&Bf(o)}catch(ne){It(o,o.return,ne)}}if(o===i){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Dv(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Ov(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Bc(4,o)}catch(O){It(o,l,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(O){It(o,p,O)}}var y=o.return;try{Bf(o)}catch(O){It(o,y,O)}break;case 5:var w=o.return;try{Bf(o)}catch(O){It(o,w,O)}}}catch(O){It(o,o.return,O)}if(o===i){fe=null;break}var A=o.sibling;if(A!==null){A.return=o.return,fe=A;break}fe=o.return}}var XS=Math.ceil,qc=ee.ReactCurrentDispatcher,Hf=ee.ReactCurrentOwner,mr=ee.ReactCurrentBatchConfig,Ze=0,Zt=null,Mt=null,an=0,rr=0,_a=es(0),Bt=0,$l=null,oo=0,Wc=0,Gf=0,Bl=null,$n=null,Kf=0,wa=1/0,bi=null,Hc=!1,Qf=null,os=null,Gc=!1,as=null,Kc=0,ql=0,Zf=null,Qc=-1,Zc=0;function Pn(){return(Ze&6)!==0?ot():Qc!==-1?Qc:Qc=ot()}function ls(i){return(i.mode&1)===0?1:(Ze&2)!==0&&an!==0?an&-an:VS.transition!==null?(Zc===0&&(Zc=Ks()),Zc):(i=qe,i!==0||(i=window.event,i=i===void 0?16:vl(i.type)),i)}function Mr(i,o,l,d){if(50<ql)throw ql=0,Zf=null,Error(n(185));Hi(i,l,d),((Ze&2)===0||i!==Zt)&&(i===Zt&&((Ze&2)===0&&(Wc|=l),Bt===4&&us(i,an)),Bn(i,d),l===1&&Ze===0&&(o.mode&1)===0&&(wa=ot()+500,Sc&&ns()))}function Bn(i,o){var l=i.callbackNode;pi(i,o);var d=Gs(i,i===Zt?an:0);if(d===0)l!==null&&fl(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&fl(l),o===1)i.tag===0?MS(Vv.bind(null,i)):Ey(Vv.bind(null,i)),xS(function(){(Ze&6)===0&&ns()}),l=null;else{switch(Ki(d)){case 1:l=Ws;break;case 4:l=Bi;break;case 16:l=lr;break;case 536870912:l=Zu;break;default:l=lr}l=qv(l,Mv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Mv(i,o){if(Qc=-1,Zc=0,(Ze&6)!==0)throw Error(n(327));var l=i.callbackNode;if(Ea()&&i.callbackNode!==l)return null;var d=Gs(i,i===Zt?an:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Jc(i,d);else{o=d;var p=Ze;Ze|=2;var y=Fv();(Zt!==i||an!==o)&&(bi=null,wa=ot()+500,lo(i,o));do try{nk();break}catch(A){Lv(i,A)}while(!0);pf(),qc.current=y,Ze=p,Mt!==null?o=0:(Zt=null,an=0,o=Bt)}if(o!==0){if(o===2&&(p=Yn(i),p!==0&&(d=p,o=Jf(i,p))),o===1)throw l=$l,lo(i,0),us(i,d),Bn(i,ot()),l;if(o===6)us(i,d);else{if(p=i.current.alternate,(d&30)===0&&!ek(p)&&(o=Jc(i,d),o===2&&(y=Yn(i),y!==0&&(d=y,o=Jf(i,y))),o===1))throw l=$l,lo(i,0),us(i,d),Bn(i,ot()),l;switch(i.finishedWork=p,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:uo(i,$n,bi);break;case 3:if(us(i,d),(d&130023424)===d&&(o=Kf+500-ot(),10<o)){if(Gs(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){Pn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=nf(uo.bind(null,i,$n,bi),o);break}uo(i,$n,bi);break;case 4:if(us(i,d),(d&4194240)===d)break;for(o=i.eventTimes,p=-1;0<d;){var w=31-An(d);y=1<<w,w=o[w],w>p&&(p=w),d&=~y}if(d=p,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*XS(d/1960))-d,10<d){i.timeoutHandle=nf(uo.bind(null,i,$n,bi),d);break}uo(i,$n,bi);break;case 5:uo(i,$n,bi);break;default:throw Error(n(329))}}}return Bn(i,ot()),i.callbackNode===l?Mv.bind(null,i):null}function Jf(i,o){var l=Bl;return i.current.memoizedState.isDehydrated&&(lo(i,o).flags|=256),i=Jc(i,o),i!==2&&(o=$n,$n=l,o!==null&&Yf(o)),i}function Yf(i){$n===null?$n=i:$n.push.apply($n,i)}function ek(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Pr(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function us(i,o){for(o&=~Gf,o&=~Wc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-An(o),d=1<<l;i[l]=-1,o&=~d}}function Vv(i){if((Ze&6)!==0)throw Error(n(327));Ea();var o=Gs(i,0);if((o&1)===0)return Bn(i,ot()),null;var l=Jc(i,o);if(i.tag!==0&&l===2){var d=Yn(i);d!==0&&(o=d,l=Jf(i,d))}if(l===1)throw l=$l,lo(i,0),us(i,o),Bn(i,ot()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,uo(i,$n,bi),Bn(i,ot()),null}function Xf(i,o){var l=Ze;Ze|=1;try{return i(o)}finally{Ze=l,Ze===0&&(wa=ot()+500,Sc&&ns())}}function ao(i){as!==null&&as.tag===0&&(Ze&6)===0&&Ea();var o=Ze;Ze|=1;var l=mr.transition,d=qe;try{if(mr.transition=null,qe=1,i)return i()}finally{qe=d,mr.transition=l,Ze=o,(Ze&6)===0&&ns()}}function ep(){rr=_a.current,dt(_a)}function lo(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,PS(l)),Mt!==null)for(l=Mt.return;l!==null;){var d=l;switch(uf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Tc();break;case 3:ga(),dt(zn),dt(mn),Tf();break;case 5:wf(d);break;case 4:ga();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:mf(d.type._context);break;case 22:case 23:ep()}l=l.return}if(Zt=i,Mt=i=cs(i.current,null),an=rr=o,Bt=0,$l=null,Gf=Wc=oo=0,$n=Bl=null,ro!==null){for(o=0;o<ro.length;o++)if(l=ro[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,d.next=w}l.pending=d}ro=null}return i}function Lv(i,o){do{var l=Mt;try{if(pf(),Oc.current=Fc,Mc){for(var d=vt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Mc=!1}if(so=0,Qt=$t=vt=null,Vl=!1,Ll=0,Hf.current=null,l===null||l.return===null){Bt=1,$l=o,Mt=null;break}e:{var y=i,w=l.return,A=l,O=o;if(o=an,A.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var B=O,re=A,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=lv(w);if(de!==null){de.flags&=-257,uv(de,w,A,y,o),de.mode&1&&av(y,B,o),o=de,O=B;var me=o.updateQueue;if(me===null){var ve=new Set;ve.add(O),o.updateQueue=ve}else me.add(O);break e}else{if((o&1)===0){av(y,B,o),tp();break e}O=Error(n(426))}}else if(mt&&A.mode&1){var At=lv(w);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),uv(At,w,A,y,o),hf(ya(O,A));break e}}y=O=ya(O,A),Bt!==4&&(Bt=2),Bl===null?Bl=[y]:Bl.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var j=sv(y,O,o);Ny(y,j);break e;case 1:A=O;var V=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(os===null||!os.has($)))){y.flags|=65536,o&=-o,y.lanes|=o;var ae=ov(y,A,o);Ny(y,ae);break e}}y=y.return}while(y!==null)}jv(l)}catch(Ee){o=Ee,Mt===l&&l!==null&&(Mt=l=l.return);continue}break}while(!0)}function Fv(){var i=qc.current;return qc.current=Fc,i===null?Fc:i}function tp(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Zt===null||(oo&268435455)===0&&(Wc&268435455)===0||us(Zt,an)}function Jc(i,o){var l=Ze;Ze|=2;var d=Fv();(Zt!==i||an!==o)&&(bi=null,lo(i,o));do try{tk();break}catch(p){Lv(i,p)}while(!0);if(pf(),Ze=l,qc.current=d,Mt!==null)throw Error(n(261));return Zt=null,an=0,Bt}function tk(){for(;Mt!==null;)zv(Mt)}function nk(){for(;Mt!==null&&!Ku();)zv(Mt)}function zv(i){var o=Bv(i.alternate,i,rr);i.memoizedProps=i.pendingProps,o===null?jv(i):Mt=o,Hf.current=null}function jv(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=KS(l,o,rr),l!==null){Mt=l;return}}else{if(l=QS(l,o),l!==null){l.flags&=32767,Mt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Bt=6,Mt=null;return}}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=i}while(o!==null);Bt===0&&(Bt=5)}function uo(i,o,l){var d=qe,p=mr.transition;try{mr.transition=null,qe=1,rk(i,o,l,d)}finally{mr.transition=p,qe=d}return null}function rk(i,o,l,d){do Ea();while(as!==null);if((Ze&6)!==0)throw Error(n(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(it(i,y),i===Zt&&(Mt=Zt=null,an=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Gc||(Gc=!0,qv(lr,function(){return Ea(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=mr.transition,mr.transition=null;var w=qe;qe=1;var A=Ze;Ze|=4,Hf.current=null,JS(i,l),Pv(l,i),IS(ef),Zi=!!Xh,ef=Xh=null,i.current=l,YS(l),Lh(),Ze=A,qe=w,mr.transition=y}else i.current=l;if(Gc&&(Gc=!1,as=i,Kc=p),y=i.pendingLanes,y===0&&(os=null),Ju(l.stateNode),Bn(i,ot()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Hc)throw Hc=!1,i=Qf,Qf=null,i;return(Kc&1)!==0&&i.tag!==0&&Ea(),y=i.pendingLanes,(y&1)!==0?i===Zf?ql++:(ql=0,Zf=i):ql=0,ns(),null}function Ea(){if(as!==null){var i=Ki(Kc),o=mr.transition,l=qe;try{if(mr.transition=null,qe=16>i?16:i,as===null)var d=!1;else{if(i=as,as=null,Kc=0,(Ze&6)!==0)throw Error(n(331));var p=Ze;for(Ze|=4,fe=i.current;fe!==null;){var y=fe,w=y.child;if((fe.flags&16)!==0){var A=y.deletions;if(A!==null){for(var O=0;O<A.length;O++){var B=A[O];for(fe=B;fe!==null;){var re=fe;switch(re.tag){case 0:case 11:case 15:Ul(8,re,y)}var se=re.child;if(se!==null)se.return=re,fe=se;else for(;fe!==null;){re=fe;var ne=re.sibling,de=re.return;if(kv(re),re===B){fe=null;break}if(ne!==null){ne.return=de,fe=ne;break}fe=de}}}var me=y.alternate;if(me!==null){var ve=me.child;if(ve!==null){me.child=null;do{var At=ve.sibling;ve.sibling=null,ve=At}while(ve!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,fe=w;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ul(9,y,y.return)}var j=y.sibling;if(j!==null){j.return=y.return,fe=j;break e}fe=y.return}}var V=i.current;for(fe=V;fe!==null;){w=fe;var $=w.child;if((w.subtreeFlags&2064)!==0&&$!==null)$.return=w,fe=$;else e:for(w=V;fe!==null;){if(A=fe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Bc(9,A)}}catch(Ee){It(A,A.return,Ee)}if(A===w){fe=null;break e}var ae=A.sibling;if(ae!==null){ae.return=A.return,fe=ae;break e}fe=A.return}}if(Ze=p,ns(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Hs,i)}catch{}d=!0}return d}finally{qe=l,mr.transition=o}}return!1}function Uv(i,o,l){o=ya(l,o),o=sv(i,o,1),i=is(i,o,1),o=Pn(),i!==null&&(Hi(i,1,o),Bn(i,o))}function It(i,o,l){if(i.tag===3)Uv(i,i,l);else for(;o!==null;){if(o.tag===3){Uv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))){i=ya(l,i),i=ov(o,i,1),o=is(o,i,1),i=Pn(),o!==null&&(Hi(o,1,i),Bn(o,i));break}}o=o.return}}function ik(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Pn(),i.pingedLanes|=i.suspendedLanes&l,Zt===i&&(an&l)===l&&(Bt===4||Bt===3&&(an&130023424)===an&&500>ot()-Kf?lo(i,0):Gf|=l),Bn(i,o)}function $v(i,o){o===0&&((i.mode&1)===0?o=1:(o=qo,qo<<=1,(qo&130023424)===0&&(qo=4194304)));var l=Pn();i=Ii(i,o),i!==null&&(Hi(i,o,l),Bn(i,l))}function sk(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),$v(i,l)}function ok(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),$v(i,l)}var Bv;Bv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||zn.current)Un=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Un=!1,GS(i,o,l);Un=(i.flags&131072)!==0}else Un=!1,mt&&(o.flags&1048576)!==0&&Ty(o,bc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Uc(i,o),i=o.pendingProps;var p=ua(o,mn.current);ma(o,l),p=kf(null,o,d,i,p,l);var y=bf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,jn(d)?(y=!0,Ic(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,vf(o),p.updater=zc,o.stateNode=p,p._reactInternals=o,Nf(o,d,i,l),o=Vf(null,o,d,!0,y,l)):(o.tag=0,mt&&y&&lf(o),Cn(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Uc(i,o),i=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=lk(d),i=Nr(d,i),p){case 0:o=Mf(null,o,d,i,l);break e;case 1:o=mv(null,o,d,i,l);break e;case 11:o=cv(null,o,d,i,l);break e;case 14:o=dv(null,o,d,Nr(d.type,i),l);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Nr(d,p),Mf(i,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Nr(d,p),mv(i,o,d,p,l);case 3:e:{if(gv(o),i===null)throw Error(n(387));d=o.pendingProps,y=o.memoizedState,p=y.element,xy(i,o),Nc(o,d,null,l);var w=o.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=ya(Error(n(423)),o),o=yv(i,o,d,l,p);break e}else if(d!==p){p=ya(Error(n(424)),o),o=yv(i,o,d,l,p);break e}else for(nr=Xi(o.stateNode.containerInfo.firstChild),tr=o,mt=!0,xr=null,l=Cy(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ha(),d===p){o=ki(i,o,l);break e}Cn(i,o,d,l)}o=o.child}return o;case 5:return Oy(o),i===null&&df(o),d=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,w=p.children,tf(d,p)?w=null:y!==null&&tf(d,y)&&(o.flags|=32),pv(i,o),Cn(i,o,w,l),o.child;case 6:return i===null&&df(o),null;case 13:return vv(i,o,l);case 4:return _f(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=fa(o,null,d,l):Cn(i,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Nr(d,p),cv(i,o,d,p,l);case 7:return Cn(i,o,o.pendingProps,l),o.child;case 8:return Cn(i,o,o.pendingProps.children,l),o.child;case 12:return Cn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,y=o.memoizedProps,w=p.value,at(Cc,d._currentValue),d._currentValue=w,y!==null)if(Pr(y.value,w)){if(y.children===p.children&&!zn.current){o=ki(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var A=y.dependencies;if(A!==null){w=y.child;for(var O=A.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=Si(-1,l&-l),O.tag=2;var B=y.updateQueue;if(B!==null){B=B.shared;var re=B.pending;re===null?O.next=O:(O.next=re.next,re.next=O),B.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),gf(y.return,l,o),A.lanes|=l;break}O=O.next}}else if(y.tag===10)w=y.type===o.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(n(341));w.lanes|=l,A=w.alternate,A!==null&&(A.lanes|=l),gf(w,l,o),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===o){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Cn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,ma(o,l),p=fr(p),d=d(p),o.flags|=1,Cn(i,o,d,l),o.child;case 14:return d=o.type,p=Nr(d,o.pendingProps),p=Nr(d.type,p),dv(i,o,d,p,l);case 15:return hv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Nr(d,p),Uc(i,o),o.tag=1,jn(d)?(i=!0,Ic(o)):i=!1,ma(o,l),rv(o,d,p),Nf(o,d,p,l),Vf(null,o,d,!0,i,l);case 19:return wv(i,o,l);case 22:return fv(i,o,l)}throw Error(n(156,o.tag))};function qv(i,o){return $o(i,o)}function ak(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(i,o,l,d){return new ak(i,o,l,d)}function np(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lk(i){if(typeof i=="function")return np(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===et)return 14}return 2}function cs(i,o){var l=i.alternate;return l===null?(l=gr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Yc(i,o,l,d,p,y){var w=2;if(d=i,typeof i=="function")np(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case C:return co(l.children,p,y,o);case T:w=8,p|=8;break;case k:return i=gr(12,l,o,p|2),i.elementType=k,i.lanes=y,i;case R:return i=gr(13,l,o,p),i.elementType=R,i.lanes=y,i;case $e:return i=gr(19,l,o,p),i.elementType=$e,i.lanes=y,i;case Re:return Xc(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:w=10;break e;case P:w=9;break e;case M:w=11;break e;case et:w=14;break e;case Xe:w=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=gr(w,l,o,p),o.elementType=i,o.type=d,o.lanes=y,o}function co(i,o,l,d){return i=gr(7,i,d,o),i.lanes=l,i}function Xc(i,o,l,d){return i=gr(22,i,d,o),i.elementType=Re,i.lanes=l,i.stateNode={isHidden:!1},i}function rp(i,o,l){return i=gr(6,i,null,o),i.lanes=l,i}function ip(i,o,l){return o=gr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function uk(i,o,l,d,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function sp(i,o,l,d,p,y,w,A,O){return i=new uk(i,o,l,A,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=gr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(y),i}function ck(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function Wv(i){if(!i)return ts;i=i._reactInternals;e:{if(Ir(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(jn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(jn(l))return _y(i,l,o)}return o}function Hv(i,o,l,d,p,y,w,A,O){return i=sp(l,d,!0,i,p,y,w,A,O),i.context=Wv(null),l=i.current,d=Pn(),p=ls(l),y=Si(d,p),y.callback=o??null,is(l,y,p),i.current.lanes=p,Hi(i,p,d),Bn(i,d),i}function ed(i,o,l,d){var p=o.current,y=Pn(),w=ls(p);return l=Wv(l),o.context===null?o.context=l:o.pendingContext=l,o=Si(y,w),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=is(p,o,w),i!==null&&(Mr(i,p,w,y),xc(i,p,w)),w}function td(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Gv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function op(i,o){Gv(i,o),(i=i.alternate)&&Gv(i,o)}function dk(){return null}var Kv=typeof reportError=="function"?reportError:function(i){console.error(i)};function ap(i){this._internalRoot=i}nd.prototype.render=ap.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));ed(i,o,null,null)},nd.prototype.unmount=ap.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ao(function(){ed(null,i,null,null)}),o[_i]=null}};function nd(i){this._internalRoot=i}nd.prototype.unstable_scheduleHydration=function(i){if(i){var o=nc();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Kr.length&&o!==0&&o<Kr[l].priority;l++);Kr.splice(l,0,i),l===0&&sc(i)}};function lp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function rd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Qv(){}function hk(i,o,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var B=td(w);y.call(B)}}var w=Hv(o,d,i,0,null,!1,!1,"",Qv);return i._reactRootContainer=w,i[_i]=w.current,Rl(i.nodeType===8?i.parentNode:i),ao(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var B=td(O);A.call(B)}}var O=sp(i,0,!1,null,null,!1,!1,"",Qv);return i._reactRootContainer=O,i[_i]=O.current,Rl(i.nodeType===8?i.parentNode:i),ao(function(){ed(o,O,l,d)}),O}function id(i,o,l,d,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var A=p;p=function(){var O=td(w);A.call(O)}}ed(o,w,i,p)}else w=hk(l,o,i,p,d);return td(w)}ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=qi(o.pendingLanes);l!==0&&(Gi(o,l|1),Bn(o,ot()),(Ze&6)===0&&(wa=ot()+500,ns()))}break;case 13:ao(function(){var d=Ii(i,1);if(d!==null){var p=Pn();Mr(d,i,1,p)}}),op(i,1)}},Wo=function(i){if(i.tag===13){var o=Ii(i,134217728);if(o!==null){var l=Pn();Mr(o,i,134217728,l)}op(i,134217728)}},tc=function(i){if(i.tag===13){var o=ls(i),l=Ii(i,o);if(l!==null){var d=Pn();Mr(l,i,o,d)}op(i,o)}},nc=function(){return qe},rc=function(i,o){var l=qe;try{return qe=i,o()}finally{qe=l}},$i=function(i,o,l){switch(o){case"input":if(zi(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var p=Ec(d);if(!p)throw Error(n(90));Et(d),zi(d,p)}}}break;case"textarea":hi(i,l);break;case"select":o=l.value,o!=null&&On(i,!!l.multiple,o,!1)}},xt=Xf,jt=ao;var fk={usingClientEntryPoint:!1,Events:[xl,aa,Ec,ft,Vn,Xf]},Wl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pk={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=hl(i),i===null?null:i.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Hs=sd.inject(pk),Jn=sd}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk,qn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(o))throw Error(n(200));return ck(i,o,null,l)},qn.createRoot=function(i,o){if(!lp(i))throw Error(n(299));var l=!1,d="",p=Kv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=sp(i,1,!1,null,null,l,!1,d,p),i[_i]=o.current,Rl(i.nodeType===8?i.parentNode:i),new ap(o)},qn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=hl(o),i=i===null?null:i.stateNode,i},qn.flushSync=function(i){return ao(i)},qn.hydrate=function(i,o,l){if(!rd(o))throw Error(n(200));return id(null,i,o,!0,l)},qn.hydrateRoot=function(i,o,l){if(!lp(i))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",w=Kv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),o=Hv(o,null,i,1,l??null,p,!1,y,w),i[_i]=o.current,Rl(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new nd(o)},qn.render=function(i,o,l){if(!rd(o))throw Error(n(200));return id(null,i,o,!1,l)},qn.unmountComponentAtNode=function(i){if(!rd(i))throw Error(n(40));return i._reactRootContainer?(ao(function(){id(null,null,i,!1,function(){i._reactRootContainer=null,i[_i]=null})}),!0):!1},qn.unstable_batchedUpdates=Xf,qn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!rd(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return id(i,o,l,!1,d)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var h_;function z0(){if(h_)return hp.exports;h_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hp.exports=Zk(),hp.exports}var f_;function Jk(){if(f_)return ld;f_=1;var t=z0();return ld.createRoot=t.createRoot,ld.hydrateRoot=t.hydrateRoot,ld}var Yk=Jk();const Xk=N0(Yk),p_=t=>{let e;const n=new Set,r=(m,v)=>{const E=typeof m=="function"?m(e):m;if(!Object.is(E,e)){const S=e;e=v??(typeof E!="object"||E===null)?E:Object.assign({},e,E),n.forEach(b=>b(e,S))}},s=()=>e,h={setState:r,getState:s,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m))},f=e=t(r,s,h);return h},eb=(t=>t?p_(t):p_),tb=t=>t;function nb(t,e=tb){const n=Ht.useSyncExternalStore(t.subscribe,Ht.useCallback(()=>e(t.getState()),[t,e]),Ht.useCallback(()=>e(t.getInitialState()),[t,e]));return Ht.useDebugValue(n),n}const m_=t=>{const e=eb(t),n=r=>nb(e,r);return Object.assign(n,e),n},Im=(t=>t?m_(t):m_),oh=Im(t=>({activeModal:null,modalData:null,openModal:(e,n=null)=>t({activeModal:e,modalData:n}),closeModal:()=>t({activeModal:null,modalData:null})}));function rb(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var a;const u=f=>f===null?null:JSON.parse(f,void 0),h=(a=n.getItem(s))!=null?a:null;return h instanceof Promise?h.then(u):u(h)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const Fp=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Fp(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Fp(r)(n)}}}},ib=(t,e)=>(n,r,s)=>{let a={storage:rb(()=>localStorage),partialize:N=>N,version:0,merge:(N,D)=>({...D,...N}),...e},u=!1;const h=new Set,f=new Set;let m=a.storage;if(!m)return t((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...N)},r,s);const v=()=>{const N=a.partialize({...r()});return m.setItem(a.name,{state:N,version:a.version})},E=s.setState;s.setState=(N,D)=>(E(N,D),v());const S=t((...N)=>(n(...N),v()),r,s);s.getInitialState=()=>S;let b;const F=()=>{var N,D;if(!m)return;u=!1,h.forEach(J=>{var G;return J((G=r())!=null?G:S)});const Z=((D=a.onRehydrateStorage)==null?void 0:D.call(a,(N=r())!=null?N:S))||void 0;return Fp(m.getItem.bind(m))(a.name).then(J=>{if(J)if(typeof J.version=="number"&&J.version!==a.version){if(a.migrate){const G=a.migrate(J.state,J.version);return G instanceof Promise?G.then(ee=>[!0,ee]):[!0,G]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,J.state];return[!1,void 0]}).then(J=>{var G;const[ee,X]=J;if(b=a.merge(X,(G=r())!=null?G:S),n(b,!0),ee)return v()}).then(()=>{Z==null||Z(b,void 0),b=r(),u=!0,f.forEach(J=>J(b))}).catch(J=>{Z==null||Z(void 0,J)})};return s.persist={setOptions:N=>{a={...a,...N},N.storage&&(m=N.storage)},clearStorage:()=>{m==null||m.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>F(),hasHydrated:()=>u,onHydrate:N=>(h.add(N),()=>{h.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},a.skipHydration||F(),b||S},sb=ib,Sm=Im()(sb(t=>({sidebarWidth:280,isSidebarOpen:!0,sidebarDensity:"normal",setSidebarWidth:e=>t({sidebarWidth:e}),toggleSidebar:()=>t(e=>({isSidebarOpen:!e.isSidebarOpen})),setSidebarOpen:e=>t({isSidebarOpen:e}),setSidebarDensity:e=>t({sidebarDensity:e})}),{name:"ui-storage",partialize:t=>({sidebarWidth:t.sidebarWidth,sidebarDensity:t.sidebarDensity,isSidebarOpen:t.isSidebarOpen})}));function j0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=j0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ob(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=j0(t))&&(r&&(r+=" "),r+=e);return r}const ab=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},lb=(t,e)=>({classGroupId:t,validator:e}),U0=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Md="-",g_=[],ub="arbitrary..",cb=t=>{const e=hb(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return db(u);const h=u.split(Md),f=h[0]===""&&h.length>1?1:0;return $0(h,f,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const f=r[u],m=n[u];return f?m?ab(m,f):f:m||g_}return n[u]||g_}}},$0=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],a=n.nextPart.get(s);if(a){const m=$0(t,e+1,a);if(m)return m}const u=n.validators;if(u===null)return;const h=e===0?t.join(Md):t.slice(e).join(Md),f=u.length;for(let m=0;m<f;m++){const v=u[m];if(v.validator(h))return v.classGroupId}},db=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?ub+r:void 0})(),hb=t=>{const{theme:e,classGroups:n}=t;return fb(n,e)},fb=(t,e)=>{const n=U0();for(const r in t){const s=t[r];km(s,n,r,e)}return n},km=(t,e,n,r)=>{const s=t.length;for(let a=0;a<s;a++){const u=t[a];pb(u,e,n,r)}},pb=(t,e,n,r)=>{if(typeof t=="string"){mb(t,e,n);return}if(typeof t=="function"){gb(t,e,n,r);return}yb(t,e,n,r)},mb=(t,e,n)=>{const r=t===""?e:B0(e,t);r.classGroupId=n},gb=(t,e,n,r)=>{if(vb(t)){km(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(lb(n,t))},yb=(t,e,n,r)=>{const s=Object.entries(t),a=s.length;for(let u=0;u<a;u++){const[h,f]=s[u];km(f,B0(e,h),n,r)}},B0=(t,e)=>{let n=t;const r=e.split(Md),s=r.length;for(let a=0;a<s;a++){const u=r[a];let h=n.nextPart.get(u);h||(h=U0(),n.nextPart.set(u,h)),n=h}return n},vb=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,_b=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(a,u)=>{n[a]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let u=n[a];if(u!==void 0)return u;if((u=r[a])!==void 0)return s(a,u),u},set(a,u){a in n?n[a]=u:s(a,u)}}},zp="!",y_=":",wb=[],v_=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),Eb=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let u=0,h=0,f=0,m;const v=s.length;for(let N=0;N<v;N++){const D=s[N];if(u===0&&h===0){if(D===y_){a.push(s.slice(f,N)),f=N+1;continue}if(D==="/"){m=N;continue}}D==="["?u++:D==="]"?u--:D==="("?h++:D===")"&&h--}const E=a.length===0?s:s.slice(f);let S=E,b=!1;E.endsWith(zp)?(S=E.slice(0,-1),b=!0):E.startsWith(zp)&&(S=E.slice(1),b=!0);const F=m&&m>f?m-f:void 0;return v_(a,b,S,F)};if(e){const s=e+y_,a=r;r=u=>u.startsWith(s)?a(u.slice(s.length)):v_(wb,!1,u,void 0,!0)}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},Tb=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let a=0;a<n.length;a++){const u=n[a],h=u[0]==="[",f=e.has(u);h||f?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(u)):s.push(u)}return s.length>0&&(s.sort(),r.push(...s)),r}},Ib=t=>({cache:_b(t.cacheSize),parseClassName:Eb(t),sortModifiers:Tb(t),...cb(t)}),Sb=/\s+/,kb=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,u=[],h=t.trim().split(Sb);let f="";for(let m=h.length-1;m>=0;m-=1){const v=h[m],{isExternal:E,modifiers:S,hasImportantModifier:b,baseClassName:F,maybePostfixModifierPosition:N}=n(v);if(E){f=v+(f.length>0?" "+f:f);continue}let D=!!N,Z=r(D?F.substring(0,N):F);if(!Z){if(!D){f=v+(f.length>0?" "+f:f);continue}if(Z=r(F),!Z){f=v+(f.length>0?" "+f:f);continue}D=!1}const J=S.length===0?"":S.length===1?S[0]:a(S).join(":"),G=b?J+zp:J,ee=G+Z;if(u.indexOf(ee)>-1)continue;u.push(ee);const X=s(Z,D);for(let oe=0;oe<X.length;++oe){const C=X[oe];u.push(G+C)}f=v+(f.length>0?" "+f:f)}return f},bb=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=q0(n))&&(s&&(s+=" "),s+=r);return s},q0=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=q0(t[r]))&&(n&&(n+=" "),n+=e);return n},Ab=(t,...e)=>{let n,r,s,a;const u=f=>{const m=e.reduce((v,E)=>E(v),t());return n=Ib(m),r=n.cache.get,s=n.cache.set,a=h,h(f)},h=f=>{const m=r(f);if(m)return m;const v=kb(f,n);return s(f,v),v};return a=u,(...f)=>a(bb(...f))},Rb=[],qt=t=>{const e=n=>n[t]||Rb;return e.isThemeGetter=!0,e},W0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,H0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Cb=/^\d+\/\d+$/,Pb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Db=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ob=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ta=t=>Cb.test(t),je=t=>!!t&&!Number.isNaN(Number(t)),hs=t=>!!t&&Number.isInteger(Number(t)),mp=t=>t.endsWith("%")&&je(t.slice(0,-1)),Ai=t=>Pb.test(t),Mb=()=>!0,Vb=t=>xb.test(t)&&!Nb.test(t),G0=()=>!1,Lb=t=>Db.test(t),Fb=t=>Ob.test(t),zb=t=>!ge(t)&&!ye(t),jb=t=>el(t,Z0,G0),ge=t=>W0.test(t),ho=t=>el(t,J0,Vb),gp=t=>el(t,Wb,je),__=t=>el(t,K0,G0),Ub=t=>el(t,Q0,Fb),ud=t=>el(t,Y0,Lb),ye=t=>H0.test(t),Gl=t=>tl(t,J0),$b=t=>tl(t,Hb),w_=t=>tl(t,K0),Bb=t=>tl(t,Z0),qb=t=>tl(t,Q0),cd=t=>tl(t,Y0,!0),el=(t,e,n)=>{const r=W0.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},tl=(t,e,n=!1)=>{const r=H0.exec(t);return r?r[1]?e(r[1]):n:!1},K0=t=>t==="position"||t==="percentage",Q0=t=>t==="image"||t==="url",Z0=t=>t==="length"||t==="size"||t==="bg-size",J0=t=>t==="length",Wb=t=>t==="number",Hb=t=>t==="family-name",Y0=t=>t==="shadow",Gb=()=>{const t=qt("color"),e=qt("font"),n=qt("text"),r=qt("font-weight"),s=qt("tracking"),a=qt("leading"),u=qt("breakpoint"),h=qt("container"),f=qt("spacing"),m=qt("radius"),v=qt("shadow"),E=qt("inset-shadow"),S=qt("text-shadow"),b=qt("drop-shadow"),F=qt("blur"),N=qt("perspective"),D=qt("aspect"),Z=qt("ease"),J=qt("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...ee(),ye,ge],oe=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[ye,ge,f],k=()=>[Ta,"full","auto",...T()],x=()=>[hs,"none","subgrid",ye,ge],P=()=>["auto",{span:["full",hs,ye,ge]},hs,ye,ge],M=()=>[hs,"auto",ye,ge],R=()=>["auto","min","max","fr",ye,ge],$e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],et=()=>["start","end","center","stretch","center-safe","end-safe"],Xe=()=>["auto",...T()],Re=()=>[Ta,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],H=()=>[t,ye,ge],he=()=>[...ee(),w_,__,{position:[ye,ge]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",Bb,jb,{size:[ye,ge]}],K=()=>[mp,Gl,ho],ue=()=>["","none","full",m,ye,ge],we=()=>["",je,Gl,ho],Pe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[je,mp,w_,__],Le=()=>["","none",F,ye,ge],Fe=()=>["none",je,ye,ge],ke=()=>["none",je,ye,ge],zt=()=>[je,ye,ge],Et=()=>[Ta,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ai],breakpoint:[Ai],color:[Mb],container:[Ai],"drop-shadow":[Ai],ease:["in","out","in-out"],font:[zb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ai],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ai],shadow:[Ai],spacing:["px",je],text:[Ai],"text-shadow":[Ai],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ta,ge,ye,D]}],container:["container"],columns:[{columns:[je,ge,ye,h]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[hs,"auto",ye,ge]}],basis:[{basis:[Ta,"full","auto",h,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,Ta,"auto","initial","none",ge]}],grow:[{grow:["",je,ye,ge]}],shrink:[{shrink:["",je,ye,ge]}],order:[{order:[hs,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":x()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":x()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...$e(),"normal"]}],"justify-items":[{"justify-items":[...et(),"normal"]}],"justify-self":[{"justify-self":["auto",...et()]}],"align-content":[{content:["normal",...$e()]}],"align-items":[{items:[...et(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...et(),{baseline:["","last"]}]}],"place-content":[{"place-content":$e()}],"place-items":[{"place-items":[...et(),"baseline"]}],"place-self":[{"place-self":["auto",...et()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Xe()}],mx:[{mx:Xe()}],my:[{my:Xe()}],ms:[{ms:Xe()}],me:[{me:Xe()}],mt:[{mt:Xe()}],mr:[{mr:Xe()}],mb:[{mb:Xe()}],ml:[{ml:Xe()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Re()}],w:[{w:[h,"screen",...Re()]}],"min-w":[{"min-w":[h,"screen","none",...Re()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...Re()]}],h:[{h:["screen","lh",...Re()]}],"min-h":[{"min-h":["screen","lh","none",...Re()]}],"max-h":[{"max-h":["screen","lh",...Re()]}],"font-size":[{text:["base",n,Gl,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ye,gp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mp,ge]}],"font-family":[{font:[$b,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ye,ge]}],"line-clamp":[{"line-clamp":[je,"none",ye,gp]}],leading:[{leading:[a,...T()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",ye,ho]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[je,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hs,ye,ge],radial:["",ye,ge],conic:[hs,ye,ge]},qb,Ub]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,ye,ge]}],"outline-w":[{outline:["",je,Gl,ho]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",v,cd,ud]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",E,cd,ud]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[je,ho]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",S,cd,ud]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[je,ye,ge]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ee()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:Le()}],brightness:[{brightness:[je,ye,ge]}],contrast:[{contrast:[je,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",b,cd,ud]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",je,ye,ge]}],"hue-rotate":[{"hue-rotate":[je,ye,ge]}],invert:[{invert:["",je,ye,ge]}],saturate:[{saturate:[je,ye,ge]}],sepia:[{sepia:["",je,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[je,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[je,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",je,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[je,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[je,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",je,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",ye,ge]}],ease:[{ease:["linear","initial",Z,ye,ge]}],delay:[{delay:[je,ye,ge]}],animate:[{animate:["none",J,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ye,ge]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:zt()}],"skew-x":[{"skew-x":zt()}],"skew-y":[{"skew-y":zt()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Et()}],"translate-x":[{"translate-x":Et()}],"translate-y":[{"translate-y":Et()}],"translate-z":[{"translate-z":Et()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[je,Gl,ho,gp]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Kb=Ab(Gb);function zr(...t){return Kb(ob(t))}var Aa=z0();const X0=({isOpen:t,onClose:e,title:n,children:r,className:s})=>(q.useEffect(()=>{const a=u=>{u.key==="Escape"&&e()};return t&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t,e]),t?Aa.createPortal(U.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 animate-fade-in",children:[U.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:e}),U.jsxs("div",{className:zr("relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col transform transition-all animate-scale-in",s),children:[n&&U.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center shrink-0",children:[U.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:n}),U.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:U.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),U.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:r})]})]}),document.body):null),Qb=()=>{const{activeModal:t,closeModal:e}=oh(),{sidebarDensity:n,setSidebarDensity:r}=Sm(),[s,a]=q.useState("appearance"),u=t==="settings",h=f=>{f==="dark"?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")};return U.jsx(X0,{isOpen:u,onClose:e,title:"",className:"max-w-2xl h-[600px]",children:U.jsxs("div",{className:"flex h-full -m-6",children:[U.jsxs("div",{className:"w-48 bg-gray-50 dark:bg-gray-800/50 border-r border-gray-100 dark:border-gray-700/50 p-4 space-y-1",children:[U.jsx(yp,{active:s==="general",onClick:()=>a("general"),label:"",icon:""}),U.jsx(yp,{active:s==="appearance",onClick:()=>a("appearance"),label:"",icon:""}),U.jsx(yp,{active:s==="account",onClick:()=>a("account"),label:"",icon:""})]}),U.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[s==="appearance"&&U.jsxs("div",{className:"space-y-6",children:[U.jsxs("section",{children:[U.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-700 dark:text-gray-300",children:""}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx("button",{onClick:()=>h("light"),className:"p-4 border rounded-lg hover:border-blue-500 bg-white shadow-sm w-32 text-center",children:"Light"}),U.jsx("button",{onClick:()=>h("dark"),className:"p-4 border rounded-lg hover:border-blue-500 bg-gray-900 text-white shadow-sm w-32 text-center",children:"Dark"})]})]}),U.jsxs("section",{children:[U.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-700 dark:text-gray-300",children:""}),U.jsx("div",{className:"space-y-2",children:["compact","normal","comfortable","spacious"].map(f=>U.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[U.jsx("input",{type:"radio",name:"density",checked:n===f,onChange:()=>r(f),className:"text-blue-600"}),U.jsx("span",{className:"capitalize text-sm",children:f})]},f))})]})]}),s==="general"&&U.jsx("div",{className:"text-gray-500 text-sm",children:""}),s==="account"&&U.jsx("div",{className:"text-gray-500 text-sm",children:""})]})]})})},yp=({active:t,onClick:e,label:n,icon:r})=>U.jsxs("button",{onClick:e,className:zr("w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors text-left",t?"bg-white dark:bg-gray-700 shadow-sm text-blue-600 dark:text-blue-400 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[U.jsx("span",{children:r}),U.jsx("span",{children:n})]});var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},tE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,v=a>>2,E=(a&3)<<4|h>>4;let S=(h&15)<<2|m>>6,b=m&63;f||(b=64,u||(S=64)),r.push(n[v],n[E],n[S],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const E=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||m==null||E==null)throw new Jb;const S=a<<2|h>>4;if(r.push(S),m!==64){const b=h<<4&240|m>>2;if(r.push(b),E!==64){const F=m<<6&192|E;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(t){const e=eE(t);return tE.encodeByteArray(e,!0)},Vd=function(t){return Yb(t).replace(/\./g,"")},nE=function(t){try{return tE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=()=>Xb().__FIREBASE_DEFAULTS__,tA=()=>{if(typeof process>"u"||typeof E_>"u")return;const t=E_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nE(t[1]);return e&&JSON.parse(e)},ah=()=>{try{return eA()||tA()||nA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rE=t=>{var e,n;return(n=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rA=t=>{const e=rE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iE=()=>{var t;return(t=ah())===null||t===void 0?void 0:t.config},sE=t=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vd(JSON.stringify(n)),Vd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function aA(){var t;const e=(t=ah())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dA(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hA(){return!aA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fA(){try{return typeof indexedDB=="object"}catch{return!1}}function pA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mA,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?gA(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Fi(s,h,r)}}function gA(t,e){return t.replace(yA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yA=/\{\$([^}]+)}/g;function vA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ld(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(T_(a)&&T_(u)){if(!Ld(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function T_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _A(t,e){const n=new wA(t,e);return n.subscribe.bind(n)}class wA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SA(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IA(t){return t===fo?void 0:t}function SA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const bA={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},AA=Ge.INFO,RA={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},CA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=RA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=AA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const PA=(t,e)=>e.some(n=>t instanceof n);let I_,S_;function xA(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,jp=new WeakMap,aE=new WeakMap,_p=new WeakMap,Am=new WeakMap;function DA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Rs(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function OA(t){if(jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});jp.set(t,e)}let Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MA(t){Up=t(Up)}function VA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wp(this),e,...n);return aE.set(r,e.sort?e.sort():[e]),Rs(r)}:NA().includes(t)?function(...e){return t.apply(wp(this),e),Rs(oE.get(this))}:function(...e){return Rs(t.apply(wp(this),e))}}function LA(t){return typeof t=="function"?VA(t):(t instanceof IDBTransaction&&OA(t),PA(t,xA())?new Proxy(t,Up):t)}function Rs(t){if(t instanceof IDBRequest)return DA(t);if(_p.has(t))return _p.get(t);const e=LA(t);return e!==t&&(_p.set(t,e),Am.set(e,t)),e}const wp=t=>Am.get(t);function FA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=Rs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Rs(u.result),f.oldVersion,f.newVersion,Rs(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const zA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],Ep=new Map;function k_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zA.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),s&&f.done]))[0]};return Ep.set(e,a),a}MA(t=>({...t,get:(e,n,r)=>k_(e,n)||t.get(e,n,r),has:(e,n)=>!!k_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($A(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $A(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",b_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new bm("@firebase/app"),BA="@firebase/app-compat",qA="@firebase/analytics-compat",WA="@firebase/analytics",HA="@firebase/app-check-compat",GA="@firebase/app-check",KA="@firebase/auth",QA="@firebase/auth-compat",ZA="@firebase/database",JA="@firebase/data-connect",YA="@firebase/database-compat",XA="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",iR="@firebase/messaging-compat",sR="@firebase/performance",oR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",dR="@firebase/firestore",hR="@firebase/vertexai-preview",fR="@firebase/firestore-compat",pR="firebase",mR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",gR={[$p]:"fire-core",[BA]:"fire-core-compat",[WA]:"fire-analytics",[qA]:"fire-analytics-compat",[GA]:"fire-app-check",[HA]:"fire-app-check-compat",[KA]:"fire-auth",[QA]:"fire-auth-compat",[ZA]:"fire-rtdb",[JA]:"fire-data-connect",[YA]:"fire-rtdb-compat",[XA]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[iR]:"fire-fcm-compat",[sR]:"fire-perf",[oR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[dR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,yR=new Map,qp=new Map;function A_(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(qp.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,t);for(const n of cu.values())A_(n,t);for(const n of yR.values())A_(n,t);return!0}function Rm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Pu("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=mR;function lE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Cs.create("bad-app-name",{appName:String(s)});if(n||(n=iE()),!n)throw Cs.create("no-options");const a=cu.get(s);if(a){if(Ld(n,a.options)&&Ld(r,a.config))return a;throw Cs.create("duplicate-app",{appName:s})}const u=new kA(s);for(const f of qp.values())u.addComponent(f);const h=new _R(n,r,u);return cu.set(s,h),h}function uE(t=Bp){const e=cu.get(t);if(!e&&t===Bp&&iE())return lE();if(!e)throw Cs.create("no-app",{appName:t});return e}function R_(){return Array.from(cu.values())}function Ps(t,e,n){var r;let s=(r=gR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(h.join(" "));return}qa(new ko(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebase-heartbeat-database",ER=1,du="firebase-heartbeat-store";let Tp=null;function cE(){return Tp||(Tp=FA(wR,ER,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),Tp}async function TR(t){try{const n=(await cE()).transaction(du),r=await n.objectStore(du).get(dE(t));return await n.done,r}catch(e){if(e instanceof Fi)Di.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function C_(t,e){try{const r=(await cE()).transaction(du,"readwrite");await r.objectStore(du).put(e,dE(t)),await r.done}catch(n){if(n instanceof Fi)Di.warn(n.message);else{const r=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(r.message)}}}function dE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1024,SR=720*60*60*1e3;class kR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=SR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:r,unsentEntries:s}=bR(this._heartbeatsCache.heartbeats),a=Vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Di.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function bR(t,e=IR){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),x_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),x_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fA()?pA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x_(t){return Vd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){qa(new ko("platform-logger",e=>new UA(e),"PRIVATE")),qa(new ko("heartbeat",e=>new kR(e),"PRIVATE")),Ps($p,b_,t),Ps($p,b_,"esm2017"),Ps("fire-js","")}RR("");var CR="firebase",PR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(CR,PR,"app");function Cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=hE,fE=new Pu("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new bm("@firebase/auth");function NR(t,...e){Fd.logLevel<=Ge.WARN&&Fd.warn(`Auth (${nl}): ${t}`,...e)}function Ed(t,...e){Fd.logLevel<=Ge.ERROR&&Fd.error(`Auth (${nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,...e){throw Pm(t,...e)}function si(t,...e){return Pm(t,...e)}function pE(t,e,n){const r=Object.assign(Object.assign({},xR()),{[e]:n});return new Pu("auth","Firebase",r).create(e,{appName:t.name})}function Eo(t){return pE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fE.create(t,...e)}function De(t,e,...n){if(!t)throw Pm(e,...n)}function Pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function Mi(t,e){t||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DR(){return N_()==="http:"||N_()==="https:"}function N_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DR()||uA()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=oA()||cA()}get(){return OR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Nu(3e4,6e4);function Nm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rl(t,e,n,r,s={}){return gE(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=xu(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},a);return lA()||(m.referrerPolicy="no-referrer"),mE.fetch()(yE(t,t.config.apiHost,n,h),m)})}async function gE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VR),e);try{const s=new zR(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw dd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw dd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw dd(t,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw pE(t,v,m);Oi(t,v)}}catch(s){if(s instanceof Fi)throw s;Oi(t,"network-request-failed",{message:String(s)})}}async function FR(t,e,n,r,s={}){const a=await rl(t,e,n,r,s);return"mfaPendingCredential"in a&&Oi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function yE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?xm(t.config,s):`${t.config.apiScheme}://${s}`}class zR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),LR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=si(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e){return rl(t,"POST","/v1/accounts:delete",e)}async function vE(t,e){return rl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(t,e=!1){const n=Sn(t),r=await n.getIdToken(e),s=Dm(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:eu(Ip(s.auth_time)),issuedAtTime:eu(Ip(s.iat)),expirationTime:eu(Ip(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ip(t){return Number(t)*1e3}function Dm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const s=nE(n);return s?JSON.parse(s):(Ed("Failed to decode base64 JWT payload"),null)}catch(s){return Ed("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function D_(t){const e=Dm(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&$R(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $R({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await hu(t,vE(n,{idToken:r}));De(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_E(a.providerUserInfo):[],h=WR(t.providerData,u),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Hp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(t,E)}async function qR(t){const e=Sn(t);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _E(t){return t.map(e=>{var{providerId:n}=e,r=Cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t,e){const n=await gE(t,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=yE(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",mE.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GR(t,e){return rl(t,"POST","/v2/accounts:revokeToken",Nm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=D_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await HR(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new Pa;return r&&(De(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UR(this,e)}reload(){return qR(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(Eo(this.auth));const e=await this.getIdToken();return await hu(this,jR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,h,f,m,v;const E=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,F=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,D=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,Z=(m=n.createdAt)!==null&&m!==void 0?m:void 0,J=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:ee,isAnonymous:X,providerData:oe,stsTokenManager:C}=n;De(G&&C,e,"internal-error");const T=Pa.fromJSON(this.name,C);De(typeof G=="string",e,"internal-error"),fs(E,e.name),fs(S,e.name),De(typeof ee=="boolean",e,"internal-error"),De(typeof X=="boolean",e,"internal-error"),fs(b,e.name),fs(F,e.name),fs(N,e.name),fs(D,e.name),fs(Z,e.name),fs(J,e.name);const k=new xi({uid:G,auth:e,email:S,emailVerified:ee,displayName:E,isAnonymous:X,photoURL:F,phoneNumber:b,tenantId:N,stsTokenManager:T,createdAt:Z,lastLoginAt:J});return oe&&Array.isArray(oe)&&(k.providerData=oe.map(x=>Object.assign({},x))),D&&(k._redirectEventId=D),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pa;s.updateFromServerResponse(n);const a=new xi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?_E(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Pa;h.updateFromIdToken(r);const f=new xi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;function Ni(t){Mi(t instanceof Function,"Expected a class definition");let e=O_.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wE.type="NONE";const M_=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Td(this.userKey,s.apiKey,a),this.fullPersistenceKey=Td("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xa(Ni(M_),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Ni(M_);const u=Td(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const v=await m._get(u);if(v){const E=xi._fromJSON(e,v);m!==a&&(h=E),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new xa(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new xa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bE(e))return"Blackberry";if(AE(e))return"Webos";if(TE(e))return"Safari";if((e.includes("chrome/")||IE(e))&&!e.includes("edge/"))return"Chrome";if(kE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EE(t=In()){return/firefox\//i.test(t)}function TE(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(t=In()){return/crios\//i.test(t)}function SE(t=In()){return/iemobile/i.test(t)}function kE(t=In()){return/android/i.test(t)}function bE(t=In()){return/blackberry/i.test(t)}function AE(t=In()){return/webos/i.test(t)}function Om(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KR(t=In()){var e;return Om(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QR(){return dA()&&document.documentMode===10}function RE(t=In()){return Om(t)||kE(t)||AE(t)||bE(t)||/windows phone/i.test(t)||SE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e=[]){let n;switch(t){case"Browser":n=V_(In());break;case"Worker":n=`${V_(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e={}){return rl(t,"GET","/v2/passwordPolicy",Nm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=6;class XR{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:YR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new ZR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vE(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(Eo(this));const n=e?Sn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(Eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(Eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JR(this),n=new XR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mm(t){return Sn(t)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tC(t){Vm=t}function nC(t){return Vm.loadJS(t)}function rC(){return Vm.gapiScript}function iC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e){const n=Rm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ld(a,e??{}))return s;Oi(s,"already-initialized")}return n.initialize({options:e})}function oC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aC(t,e,n){const r=Mm(t);De(r._canInitEmulator,r,"emulator-config-failed"),De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=PE(e),{host:u,port:h}=lC(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),uC()}function PE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lC(t){const e=PE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:F_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:F_(u)}}}function F_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,n){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e){return FR(t,"POST","/v1/accounts:signInWithIdp",Nm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="http://localhost";class bo extends xE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Cm(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new bo(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Na(e,n)}buildRequest(){const e={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends NE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Du{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Du{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Du{constructor(){super("twitter.com")}static credential(e,n){return bo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await xi._fromIdTokenResponse(e,r,s),u=z_(r);return new Wa({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=z_(r);return new Wa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Fi{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jd(e,n,r,s)}}function DE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,a,e,r):a})}async function dC(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(t,e,n=!1){const{auth:r}=t;if(bs(r.app))return Promise.reject(Eo(r));const s="reauthenticate";try{const a=await hu(t,DE(r,s,e,t),n);De(a.idToken,r,"internal-error");const u=Dm(a.idToken);De(u,r,"internal-error");const{sub:h}=u;return De(t.uid===h,r,"user-mismatch"),Wa._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Oi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,e,n=!1){if(bs(t.app))return Promise.reject(Eo(t));const r="signIn",s=await DE(t,r,e),a=await Wa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}function pC(t,e,n,r){return Sn(t).onIdTokenChanged(e,n,r)}function mC(t,e,n){return Sn(t).beforeAuthStateChanged(e,n)}const Ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1e3,yC=10;class ME extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);QR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yC):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const vC=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VE.type="SESSION";const LE=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async m=>m(n.origin,a)),f=await _C(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Lm("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const S=E;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(S.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function EC(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function TC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SC(){return FE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",kC=1,$d="firebaseLocalStorage",jE="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function bC(){const t=indexedDB.deleteDatabase(zE);return new Ou(t).toPromise()}function Gp(){const t=indexedDB.open(zE,kC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($d,{keyPath:jE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($d)?e(r):(r.close(),await bC(),e(await Gp()))})})}async function j_(t,e,n){const r=uh(t,!0).put({[jE]:e,value:n});return new Ou(r).toPromise()}async function AC(t,e){const n=uh(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function U_(t,e){const n=uh(t,!0).delete(e);return new Ou(n).toPromise()}const RC=800,CC=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(SC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await j_(e,Ud,"1"),await U_(e,Ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=uh(s,!1).getAll();return new Ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const PC=UE;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e){return e?Ni(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends xE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NC(t){return fC(t.auth,new Fm(t),t.bypassAuthState)}function DC(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),hC(n,new Fm(t),t.bypassAuthState)}async function OC(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),dC(n,new Fm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:Oi(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Nu(2e3,1e4);class Ra extends $E{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MC.get())};e()}}Ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="pendingRedirect",Id=new Map;class LC extends $E{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const r=await FC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FC(t,e){const n=UC(e),r=jC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zC(t,e){Id.set(t._key(),e)}function jC(t){return Ni(t._redirectPersistence)}function UC(t){return Td(VC,t.config.apiKey,t.name)}async function $C(t,e,n=!1){if(bs(t.app))return Promise.reject(Eo(t));const r=Mm(t),s=xC(r,e),u=await new LC(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=600*1e3;class qC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e={}){return rl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KC=/^https?/;async function QC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HC(t);for(const n of e)try{if(ZC(n))return}catch{}Oi(t,"unauthorized-domain")}function ZC(t){const e=Wp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!KC.test(n))return!1;if(GC.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Nu(3e4,6e4);function B_(){const t=oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YC(t){return new Promise((e,n)=>{var r,s,a;function u(){B_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B_(),n(si(t,"network-request-failed"))},timeout:JC.get()})}if(!((s=(r=oi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=oi().gapi)===null||a===void 0)&&a.load)u();else{const h=iC("iframefcb");return oi()[h]=()=>{gapi.load?u():n(si(t,"network-request-failed"))},nC(`${rC()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function XC(t){return Sd=Sd||YC(t),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Nu(5e3,15e3),tP="__/auth/iframe",nP="emulator/auth/iframe",rP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sP(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xm(e,nP):`https://${t.config.authDomain}/${tP}`,r={apiKey:e.apiKey,appName:t.name,v:nl},s=iP.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${xu(r).slice(1)}`}async function oP(t){const e=await XC(t),n=oi().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:sP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rP,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=si(t,"network-request-failed"),h=oi().setTimeout(()=>{a(u)},eP.get());function f(){oi().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lP=500,uP=600,cP="_blank",dP="http://localhost";class q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hP(t,e,n,r=lP,s=uP){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},aP),{width:r.toString(),height:s.toString(),top:a,left:u}),m=In().toLowerCase();n&&(h=IE(m)?cP:n),EE(m)&&(e=e||dP,f.scrollbars="yes");const v=Object.entries(f).reduce((S,[b,F])=>`${S}${b}=${F},`,"");if(KR(m)&&h!=="_self")return fP(e||"",h),new q_(null);const E=window.open(e||"",h,v);De(E,t,"popup-blocked");try{E.focus()}catch{}return new q_(E)}function fP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="__/auth/handler",mP="emulator/auth/handler",gP=encodeURIComponent("fac");async function W_(t,e,n,r,s,a){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nl,eventId:s};if(e instanceof NE){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",vA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof Du){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),m=f?`#${gP}=${encodeURIComponent(f)}`:"";return`${yP(t)}?${xu(h).slice(1)}${m}`}function yP({config:t}){return t.emulator?xm(t,mP):`https://${t.authDomain}/${pP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class vP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=$C,this._overrideRedirectResult=zC}async _openPopup(e,n,r,s){var a;Mi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await W_(e,n,r,Wp(),s);return hP(e,u,Lm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await W_(e,n,r,Wp(),s);return EC(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Mi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oP(e),r=new qC(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sp,{type:Sp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Sp];u!==void 0&&n(!!u),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RE()||TE()||Om()}}const _P=vP;var H_="@firebase/auth",G_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TP(t){qa(new ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(t)},m=new eC(r,s,a,f);return oC(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qa(new ko("auth-internal",e=>{const n=Mm(e.getProvider("auth").getImmediate());return(r=>new wP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(H_,G_,EP(t)),Ps(H_,G_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=300,SP=sE("authIdTokenMaxAge")||IP;let K_=null;const kP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SP)return;const s=n==null?void 0:n.token;K_!==s&&(K_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bP(t=uE()){const e=Rm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sC(t,{popupRedirectResolver:_P,persistence:[PC,vC,LE]}),r=sE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=kP(a.toString());mC(n,u,()=>u(n.currentUser)),pC(n,h=>u(h))}}const s=rE("auth");return s&&aC(n,`http://${s}`),n}function AP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=si("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",AP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TP("Browser");var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,qE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function k(){}k.prototype=T.prototype,C.D=T.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(x,P,M){for(var R=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)R[$e-2]=arguments[$e];return T.prototype[P].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,k){k||(k=0);var x=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)x[P]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(P=0;16>P;++P)x[P]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=C.g[0],k=C.g[1],P=C.g[2];var M=C.g[3],R=T+(M^k&(P^M))+x[0]+3614090360&4294967295;T=k+(R<<7&4294967295|R>>>25),R=M+(P^T&(k^P))+x[1]+3905402710&4294967295,M=T+(R<<12&4294967295|R>>>20),R=P+(k^M&(T^k))+x[2]+606105819&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(T^P&(M^T))+x[3]+3250441966&4294967295,k=P+(R<<22&4294967295|R>>>10),R=T+(M^k&(P^M))+x[4]+4118548399&4294967295,T=k+(R<<7&4294967295|R>>>25),R=M+(P^T&(k^P))+x[5]+1200080426&4294967295,M=T+(R<<12&4294967295|R>>>20),R=P+(k^M&(T^k))+x[6]+2821735955&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(T^P&(M^T))+x[7]+4249261313&4294967295,k=P+(R<<22&4294967295|R>>>10),R=T+(M^k&(P^M))+x[8]+1770035416&4294967295,T=k+(R<<7&4294967295|R>>>25),R=M+(P^T&(k^P))+x[9]+2336552879&4294967295,M=T+(R<<12&4294967295|R>>>20),R=P+(k^M&(T^k))+x[10]+4294925233&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(T^P&(M^T))+x[11]+2304563134&4294967295,k=P+(R<<22&4294967295|R>>>10),R=T+(M^k&(P^M))+x[12]+1804603682&4294967295,T=k+(R<<7&4294967295|R>>>25),R=M+(P^T&(k^P))+x[13]+4254626195&4294967295,M=T+(R<<12&4294967295|R>>>20),R=P+(k^M&(T^k))+x[14]+2792965006&4294967295,P=M+(R<<17&4294967295|R>>>15),R=k+(T^P&(M^T))+x[15]+1236535329&4294967295,k=P+(R<<22&4294967295|R>>>10),R=T+(P^M&(k^P))+x[1]+4129170786&4294967295,T=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(T^k))+x[6]+3225465664&4294967295,M=T+(R<<9&4294967295|R>>>23),R=P+(T^k&(M^T))+x[11]+643717713&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^T&(P^M))+x[0]+3921069994&4294967295,k=P+(R<<20&4294967295|R>>>12),R=T+(P^M&(k^P))+x[5]+3593408605&4294967295,T=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(T^k))+x[10]+38016083&4294967295,M=T+(R<<9&4294967295|R>>>23),R=P+(T^k&(M^T))+x[15]+3634488961&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^T&(P^M))+x[4]+3889429448&4294967295,k=P+(R<<20&4294967295|R>>>12),R=T+(P^M&(k^P))+x[9]+568446438&4294967295,T=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(T^k))+x[14]+3275163606&4294967295,M=T+(R<<9&4294967295|R>>>23),R=P+(T^k&(M^T))+x[3]+4107603335&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^T&(P^M))+x[8]+1163531501&4294967295,k=P+(R<<20&4294967295|R>>>12),R=T+(P^M&(k^P))+x[13]+2850285829&4294967295,T=k+(R<<5&4294967295|R>>>27),R=M+(k^P&(T^k))+x[2]+4243563512&4294967295,M=T+(R<<9&4294967295|R>>>23),R=P+(T^k&(M^T))+x[7]+1735328473&4294967295,P=M+(R<<14&4294967295|R>>>18),R=k+(M^T&(P^M))+x[12]+2368359562&4294967295,k=P+(R<<20&4294967295|R>>>12),R=T+(k^P^M)+x[5]+4294588738&4294967295,T=k+(R<<4&4294967295|R>>>28),R=M+(T^k^P)+x[8]+2272392833&4294967295,M=T+(R<<11&4294967295|R>>>21),R=P+(M^T^k)+x[11]+1839030562&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^T)+x[14]+4259657740&4294967295,k=P+(R<<23&4294967295|R>>>9),R=T+(k^P^M)+x[1]+2763975236&4294967295,T=k+(R<<4&4294967295|R>>>28),R=M+(T^k^P)+x[4]+1272893353&4294967295,M=T+(R<<11&4294967295|R>>>21),R=P+(M^T^k)+x[7]+4139469664&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^T)+x[10]+3200236656&4294967295,k=P+(R<<23&4294967295|R>>>9),R=T+(k^P^M)+x[13]+681279174&4294967295,T=k+(R<<4&4294967295|R>>>28),R=M+(T^k^P)+x[0]+3936430074&4294967295,M=T+(R<<11&4294967295|R>>>21),R=P+(M^T^k)+x[3]+3572445317&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^T)+x[6]+76029189&4294967295,k=P+(R<<23&4294967295|R>>>9),R=T+(k^P^M)+x[9]+3654602809&4294967295,T=k+(R<<4&4294967295|R>>>28),R=M+(T^k^P)+x[12]+3873151461&4294967295,M=T+(R<<11&4294967295|R>>>21),R=P+(M^T^k)+x[15]+530742520&4294967295,P=M+(R<<16&4294967295|R>>>16),R=k+(P^M^T)+x[2]+3299628645&4294967295,k=P+(R<<23&4294967295|R>>>9),R=T+(P^(k|~M))+x[0]+4096336452&4294967295,T=k+(R<<6&4294967295|R>>>26),R=M+(k^(T|~P))+x[7]+1126891415&4294967295,M=T+(R<<10&4294967295|R>>>22),R=P+(T^(M|~k))+x[14]+2878612391&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~T))+x[5]+4237533241&4294967295,k=P+(R<<21&4294967295|R>>>11),R=T+(P^(k|~M))+x[12]+1700485571&4294967295,T=k+(R<<6&4294967295|R>>>26),R=M+(k^(T|~P))+x[3]+2399980690&4294967295,M=T+(R<<10&4294967295|R>>>22),R=P+(T^(M|~k))+x[10]+4293915773&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~T))+x[1]+2240044497&4294967295,k=P+(R<<21&4294967295|R>>>11),R=T+(P^(k|~M))+x[8]+1873313359&4294967295,T=k+(R<<6&4294967295|R>>>26),R=M+(k^(T|~P))+x[15]+4264355552&4294967295,M=T+(R<<10&4294967295|R>>>22),R=P+(T^(M|~k))+x[6]+2734768916&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~T))+x[13]+1309151649&4294967295,k=P+(R<<21&4294967295|R>>>11),R=T+(P^(k|~M))+x[4]+4149444226&4294967295,T=k+(R<<6&4294967295|R>>>26),R=M+(k^(T|~P))+x[11]+3174756917&4294967295,M=T+(R<<10&4294967295|R>>>22),R=P+(T^(M|~k))+x[2]+718787259&4294967295,P=M+(R<<15&4294967295|R>>>17),R=k+(M^(P|~T))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var k=T-this.blockSize,x=this.B,P=this.h,M=0;M<T;){if(P==0)for(;M<=k;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<T;)if(x[P++]=C.charCodeAt(M++),P==this.blockSize){s(this,x),P=0;break}}else for(;M<T;)if(x[P++]=C[M++],P==this.blockSize){s(this,x),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var k=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=k&255,k/=256;for(this.u(C),C=Array(16),T=k=0;4>T;++T)for(var x=0;32>x;x+=8)C[k++]=this.g[T]>>>x&255;return C};function a(C,T){var k=h;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=T(C)}function u(C,T){this.h=T;for(var k=[],x=!0,P=C.length-1;0<=P;P--){var M=C[P]|0;x&&M==T||(k[P]=M,x=!1)}this.g=k}var h={};function f(C){return-128<=C&&128>C?a(C,function(T){return new u([T|0],0>T?-1:0)}):new u([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return E;if(0>C)return D(m(-C));for(var T=[],k=1,x=0;C>=k;x++)T[x]=C/k|0,k*=4294967296;return new u(T,0)}function v(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return D(v(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(T,8)),x=E,P=0;P<C.length;P+=8){var M=Math.min(8,C.length-P),R=parseInt(C.substring(P,P+M),T);8>M?(M=m(Math.pow(T,M)),x=x.j(M).add(m(R))):(x=x.j(k),x=x.add(m(R)))}return x}var E=f(0),S=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(N(this))return-D(this).m();for(var C=0,T=1,k=0;k<this.g.length;k++){var x=this.i(k);C+=(0<=x?x:4294967296+x)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(N(this))return"-"+D(this).toString(C);for(var T=m(Math.pow(C,6)),k=this,x="";;){var P=ee(k,T).g;k=Z(k,P.j(T));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=P,F(k))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function N(C){return C.h==-1}t.l=function(C){return C=Z(this,C),N(C)?-1:F(C)?0:1};function D(C){for(var T=C.g.length,k=[],x=0;x<T;x++)k[x]=~C.g[x];return new u(k,~C.h).add(S)}t.abs=function(){return N(this)?D(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],x=0,P=0;P<=T;P++){var M=x+(this.i(P)&65535)+(C.i(P)&65535),R=(M>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);x=R>>>16,M&=65535,R&=65535,k[P]=R<<16|M}return new u(k,k[k.length-1]&-2147483648?-1:0)};function Z(C,T){return C.add(D(T))}t.j=function(C){if(F(this)||F(C))return E;if(N(this))return N(C)?D(this).j(D(C)):D(D(this).j(C));if(N(C))return D(this.j(D(C)));if(0>this.l(b)&&0>C.l(b))return m(this.m()*C.m());for(var T=this.g.length+C.g.length,k=[],x=0;x<2*T;x++)k[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<C.g.length;P++){var M=this.i(x)>>>16,R=this.i(x)&65535,$e=C.i(P)>>>16,et=C.i(P)&65535;k[2*x+2*P]+=R*et,J(k,2*x+2*P),k[2*x+2*P+1]+=M*et,J(k,2*x+2*P+1),k[2*x+2*P+1]+=R*$e,J(k,2*x+2*P+1),k[2*x+2*P+2]+=M*$e,J(k,2*x+2*P+2)}for(x=0;x<T;x++)k[x]=k[2*x+1]<<16|k[2*x];for(x=T;x<2*T;x++)k[x]=0;return new u(k,0)};function J(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function G(C,T){this.g=C,this.h=T}function ee(C,T){if(F(T))throw Error("division by zero");if(F(C))return new G(E,E);if(N(C))return T=ee(D(C),T),new G(D(T.g),D(T.h));if(N(T))return T=ee(C,D(T)),new G(D(T.g),T.h);if(30<C.g.length){if(N(C)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var k=S,x=T;0>=x.l(C);)k=X(k),x=X(x);var P=oe(k,1),M=oe(x,1);for(x=oe(x,2),k=oe(k,2);!F(x);){var R=M.add(x);0>=R.l(C)&&(P=P.add(k),M=R),x=oe(x,1),k=oe(k,1)}return T=Z(C,P.j(T)),new G(P,T)}for(P=E;0<=C.l(T);){for(k=Math.max(1,Math.floor(C.m()/T.m())),x=Math.ceil(Math.log(k)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=m(k),R=M.j(T);N(R)||0<R.l(C);)k-=x,M=m(k),R=M.j(T);F(M)&&(M=S),P=P.add(M),C=Z(C,R)}return new G(P,C)}t.A=function(C){return ee(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],x=0;x<T;x++)k[x]=this.i(x)&C.i(x);return new u(k,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],x=0;x<T;x++)k[x]=this.i(x)|C.i(x);return new u(k,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],x=0;x<T;x++)k[x]=this.i(x)^C.i(x);return new u(k,this.h^C.h)};function X(C){for(var T=C.g.length+1,k=[],x=0;x<T;x++)k[x]=C.i(x)<<1|C.i(x-1)>>>31;return new u(k,C.h)}function oe(C,T){var k=T>>5;T%=32;for(var x=C.g.length-k,P=[],M=0;M<x;M++)P[M]=0<T?C.i(M+k)>>>T|C.i(M+k+1)<<32-T:C.i(M+k);return new u(P,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,To=u}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,Ql,HE,kd,Kp,GE,KE,QE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in _))break e;_=_[z]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,z={next:function(){if(!I&&_<c.length){var W=_++;return{value:g(W,c[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function E(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function b(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function F(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,z,W){for(var le=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)le[tt-2]=arguments[tt];return g.prototype[z].apply(I,le)}}function N(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function D(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const z=c.length||0,W=I.length||0;c.length=z+W;for(let le=0;le<W;le++)c[z+le]=I[le]}else c.push(I)}}class Z{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var X=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function oe(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function C(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function T(c){const g={};for(const _ in c)g[_]=c[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let _,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(_ in I)c[_]=I[_];for(let W=0;W<k.length;W++)_=k[W],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function P(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function M(c){h.setTimeout(()=>{throw c},0)}function R(){var c=he;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class $e{constructor(){this.h=this.g=null}add(g,_){const I=et.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var et=new Z(()=>new Xe,c=>c.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,H=!1,he=new $e,ce=()=>{const c=h.Promise.resolve(void 0);Re=()=>{c.then(L)}};var L=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){M(_)}var g=et;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}H=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function Pe(c,g){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(X){e:{try{ee(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}F(Pe,ue);var Ce={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Fe(c,g,_,I,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=z,this.key=++Le,this.da=this.fa=!1}function ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c){this.src=c,this.g={},this.h=0}zt.prototype.add=function(c,g,_,I,z){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var le=kn(c,g,I,z);return-1<le?(g=c[le],_||(g.fa=!1)):(g=new Fe(g,this.src,W,!!I,z),g.fa=_,c.push(g)),g};function Et(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],z=Array.prototype.indexOf.call(I,g,void 0),W;(W=0<=z)&&Array.prototype.splice.call(I,z,1),W&&(ke(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function kn(c,g,_,I){for(var z=0;z<c.length;++z){var W=c[z];if(!W.da&&W.listener==g&&W.capture==!!_&&W.ha==I)return z}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),Qn={};function sr(c,g,_,I,z){if(Array.isArray(g)){for(var W=0;W<g.length;W++)sr(c,g[W],_,I,z);return null}return _=zs(_),c&&c[Te]?c.K(g,_,m(I)?!!I.capture:!1,z):zi(c,g,_,!1,I,z)}function zi(c,g,_,I,z,W){if(!g)throw Error("Invalid event type");var le=m(z)?!!z.capture:!!z,tt=di(c);if(tt||(c[tn]=tt=new zt(c)),_=tt.add(g,_,I,le,W),_.proxy)return _;if(I=Fs(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)we||(z=le),z===void 0&&(z=!1),c.addEventListener(g.toString(),I,z);else if(c.attachEvent)c.attachEvent(On(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function c(_){return g.call(c.src,c.listener,_)}const g=qr;return c}function Br(c,g,_,I,z){if(Array.isArray(g))for(var W=0;W<g.length;W++)Br(c,g[W],_,I,z);else I=m(I)?!!I.capture:!!I,_=zs(_),c&&c[Te]?(c=c.i,g=String(g).toString(),g in c.g&&(W=c.g[g],_=kn(W,_,I,z),-1<_&&(ke(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[g],c.h--)))):c&&(c=di(c))&&(g=c.g[g.toString()],c=-1,g&&(c=kn(g,_,I,z)),(_=-1<c?g[c]:null)&&Gt(_))}function Gt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Te])Et(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(On(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=di(g))?(Et(_,c),_.h==0&&(_.src=null,g[tn]=null)):ke(c)}}}function On(c){return c in Qn?Qn[c]:Qn[c]="on"+c}function qr(c,g){if(c.da)c=!0;else{g=new Pe(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&Gt(c),c=_.call(I,g)}return c}function di(c){return c=c[tn],c instanceof zt?c:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function zs(c){return typeof c=="function"?c:(c[hi]||(c[hi]=function(g){return c.handleEvent(g)}),c[hi])}function bt(){K.call(this),this.i=new zt(this),this.M=this,this.F=null}F(bt,K),bt.prototype[Te]=!0,bt.prototype.removeEventListener=function(c,g,_,I){Br(this,c,g,_,I)};function st(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ue(g,c);else if(g instanceof ue)g.target=g.target||c;else{var z=g;g=new ue(I,c),x(g,z)}if(z=!0,_)for(var W=_.length-1;0<=W;W--){var le=g.g=_[W];z=fn(le,I,!0,g)&&z}if(le=g.g=c,z=fn(le,I,!0,g)&&z,z=fn(le,I,!1,g)&&z,_)for(W=0;W<_.length;W++)le=g.g=_[W],z=fn(le,I,!1,g)&&z}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)ke(_[I]);delete c.g[g],c.h--}}this.F=null},bt.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},bt.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function fn(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,W=0;W<g.length;++W){var le=g[W];if(le&&!le.da&&le.capture==_){var tt=le.listener,Ut=le.ha||le.src;le.fa&&Et(c.i,le),z=tt.call(Ut,I)!==!1&&z}}return z&&!I.defaultPrevented}function wr(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function Er(c){c.g=wr(()=>{c.g=null,c.i&&(c.i=!1,Er(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class pn extends K{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){K.call(this),this.h=c,this.g={}}F(Wr,K);var js=[];function Us(c){oe(c.g,function(g,_){this.g.hasOwnProperty(_)&&Gt(g)},c),c.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Us(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=h.JSON.stringify,ji=h.JSON.parse,$s=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Hr(){}Hr.prototype.h=null;function Ui(c){return c.h||(c.h=c.i())}function $i(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rt(){ue.call(this,"d")}F(rt,ue);function Pt(){ue.call(this,"c")}F(Pt,ue);var ft={},Vn=null;function xt(){return Vn=Vn||new bt}ft.La="serverreachability";function jt(c){ue.call(this,ft.La,c)}F(jt,ue);function Nt(c){const g=xt();st(g,new jt(g))}ft.STAT_EVENT="statevent";function or(c,g){ue.call(this,ft.STAT_EVENT,c),this.stat=g}F(or,ue);function ze(c){const g=xt();st(g,new or(g,c))}ft.Ma="timingevent";function bn(c,g){ue.call(this,ft.Ma,c),this.size=g}F(bn,ue);function Tt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function nn(){this.g=!0}nn.prototype.xa=function(){this.g=!1};function Zn(c,g,_,I,z,W){c.info(function(){if(c.g)if(W)for(var le="",tt=W.split("&"),Ut=0;Ut<tt.length;Ut++){var Ke=tt[Ut].split("=");if(1<Ke.length){var Kt=Ke[0];Ke=Ke[1];var Ot=Kt.split("_");le=2<=Ot.length&&Ot[1]=="type"?le+(Kt+"="+Ke+"&"):le+(Kt+"=redacted&")}}else le=null;else le=W;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+g+`
`+_+`
`+le})}function ar(c,g,_,I,z,W,le){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+g+`
`+_+`
`+W+" "+le})}function Dt(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Bs(c,_)+(I?" "+I:"")})}function Tr(c,g){c.info(function(){return"TIMEOUT: "+g})}nn.prototype.info=function(){};function Bs(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return fi(_)}catch{return g}}var jo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function qs(){}F(qs,Hr),qs.prototype.g=function(){return new XMLHttpRequest},qs.prototype.i=function(){return{}},Ir=new qs;function Sr(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gu}function Gu(){this.i=null,this.g="",this.h=!1}var hl={},Uo={};function $o(c,g,_){c.L=1,c.v=Gi(Yn(g)),c.m=_,c.P=!0,fl(c,null)}function fl(c,g){c.F=Date.now(),ot(c),c.A=Yn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Qi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Gu,c.g=dc(c.j,_?g:null,!c.m),0<c.O&&(c.M=new pn(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(js[0]=z.toString()),z=js);for(var W=0;W<z.length;W++){var le=sr(_,z[W],I||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Nt(),Zn(c.i,c.u,c.A,c.l,c.R,c.m)}Sr.prototype.ca=function(c){c=c.target;const g=this.M;g&&Fn(c)==3?g.j():this.Y(c)},Sr.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Fn(this.g);var g=this.g.Ba();const cr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||_l(this.g)))){this.J||Ot!=4||g==7||(g==8||0>=cr?Nt(3):Nt(2)),Ws(this);var _=this.g.Z();this.X=_;t:if(Ku(this)){var I=_l(this.g);c="";var z=I.length,W=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Bi(this);var le="";break t}this.h.i=new h.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(W&&g==z-1)});I.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,ar(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ut=this.g;if((tt=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(tt)){var Ke=tt;break t}}Ke=null}if(_=Ke)Dt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pl(this,_);else{this.o=!1,this.s=3,ze(12),lr(this),Bi(this);break e}}if(this.P){_=!0;let er;for(;!this.J&&this.C<le.length;)if(er=Lh(this,le),er==Uo){Ot==4&&(this.s=4,ze(14),_=!1),Dt(this.i,this.l,null,"[Incomplete Response]");break}else if(er==hl){this.s=4,ze(15),Dt(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Dt(this.i,this.l,er,null),pl(this,er);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||le.length!=0||this.h.h||(this.s=1,ze(16),_=!1),this.o=this.o&&_,!_)Dt(this.i,this.l,le,"[Invalid Chunked Response]"),lr(this),Bi(this);else if(0<le.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),El(Kt),Kt.M=!0,ze(11))}}else Dt(this.i,this.l,le,null),pl(this,le);Ot==4&&lr(this),this.o&&!this.J&&(Ot==4?Xo(this.j,this):(this.o=!1,ot(this)))}else Ko(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),lr(this),Bi(this)}}}catch{}finally{}};function Ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lh(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Uo:(_=Number(g.substring(_,I)),isNaN(_)?hl:(I+=1,I+_>g.length?Uo:(g=g.slice(I,I+_),c.C=I+_,g)))}Sr.prototype.cancel=function(){this.J=!0,lr(this)};function ot(c){c.S=Date.now()+c.I,Qu(c,c.I)}function Qu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(S(c.ba,c),g)}function Ws(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Sr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tr(this.i,this.A),this.L!=2&&(Nt(),ze(17)),lr(this),this.s=2,Bi(this)):Qu(this,this.S-c)};function Bi(c){c.j.G==0||c.J||Xo(c.j,c)}function lr(c){Ws(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Us(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function pl(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||An(_.h,c))){if(!c.K&&An(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Yo(_),Cr(_);else break e;Jo(_),ze(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(S(_.Za,_),6e3));if(1>=Ju(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vi(_,11)}else if((c.K||_.g==c)&&Yo(_),!J(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Ke=z[g];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const Kt=Ke[3];Kt!=null&&(_.la=Kt,_.j.info("VER="+_.la));const Ot=Ke[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const cr=Ke[5];cr!=null&&typeof cr=="number"&&0<cr&&(I=1.5*cr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const er=c.g;if(er){const Ys=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var W=I.h;W.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ml(W,W.h),W.h=null))}if(I.D){const ta=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;ta&&(I.ya=ta,it(I.I,I.D,ta))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var le=c;if(I.qa=cc(I,I.J?I.ia:null,I.W),le.K){Yu(I.h,le);var tt=le,Ut=I.L;Ut&&(tt.I=Ut),tt.B&&(Ws(tt),ot(tt)),I.g=le}else Js(I);0<_.i.length&&Zr(_)}else Ke[0]!="stop"&&Ke[0]!="close"||vi(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?vi(_,7):sn(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}Nt(4)}catch{}}var Zu=class{constructor(c,g){this.g=c,this.map=g}};function Hs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ju(c){return c.h?1:c.g?c.g.size:0}function An(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ml(c,g){c.g?c.g.add(g):c.h=g}function Yu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Hs.prototype.cancel=function(){if(this.i=Xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return N(c.i)}function Bo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function qo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function qi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=qo(c),I=Bo(c),z=I.length,W=0;W<z;W++)g.call(void 0,I[W],_&&_[W],c)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),z=null;if(0<=I){var W=c[_].substring(0,I);z=c[_].substring(I+1)}else W=c[_];g(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pi){this.h=c.h,Ks(this,c.j),this.o=c.o,this.g=c.g,Wi(this,c.s),this.l=c.l;var g=c.i,_=new Gr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Hi(this,_),this.m=c.m}else c&&(g=String(c).match(Gs))?(this.h=!1,Ks(this,g[1]||"",!0),this.o=qe(g[2]||""),this.g=qe(g[3]||"",!0),Wi(this,g[4]),this.l=qe(g[5]||"",!0),Hi(this,g[6]||"",!0),this.m=qe(g[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}pi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ki(g,Wo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ki(g,Wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ki(_,_.charAt(0)=="/"?nc:tc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ki(_,gl)),c.join("")};function Yn(c){return new pi(c)}function Ks(c,g,_){c.j=_?qe(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Hi(c,g,_){g instanceof Gr?(c.i=g,Kr(c.i,c.h)):(_||(g=Ki(g,rc)),c.i=new Gr(g,c.h))}function it(c,g,_){c.i.set(g,_)}function Gi(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qe(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ki(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ec),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ec(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,tc=/[#\?:]/g,nc=/[#\?]/g,rc=/[#\?@]/g,gl=/#/g;function Gr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Fh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=Gr.prototype,t.add=function(c,g){rn(this),this.i=null,c=ur(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function kr(c,g){rn(c),g=ur(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function br(c,g){return rn(c),g=ur(c,g),c.g.has(g)}t.forEach=function(c,g){rn(this),this.g.forEach(function(_,I){_.forEach(function(z){c.call(g,z,I,this)},this)},this)},t.na=function(){rn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const z=c[I];for(let W=0;W<z.length;W++)_.push(g[I])}return _},t.V=function(c){rn(this);let g=[];if(typeof c=="string")br(this,c)&&(g=g.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return rn(this),this.i=null,c=ur(this,c),br(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Qi(c,g,_){kr(c,g),0<_.length&&(c.i=null,c.g.set(ur(c,g),N(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const W=encodeURIComponent(String(I)),le=this.V(I);for(I=0;I<le.length;I++){var z=W;le[I]!==""&&(z+="="+encodeURIComponent(String(le[I]))),c.push(z)}}return this.i=c.join("&")};function ur(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Kr(c,g){g&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(_,I){var z=I.toLowerCase();I!=z&&(kr(this,I),Qi(this,z,_))},c)),c.j=g}function zh(c,g){const _=new nn;if(h.Image){const I=new Image;I.onload=b(Ln,_,"TestLoadImage: loaded",!0,g,I),I.onerror=b(Ln,_,"TestLoadImage: error",!1,g,I),I.onabort=b(Ln,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=b(Ln,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function ic(c,g){const _=new nn,I=new AbortController,z=setTimeout(()=>{I.abort(),Ln(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(z),W.ok?Ln(_,"TestPingServer: ok",!0,g):Ln(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Ln(_,"TestPingServer: error",!1,g)})}function Ln(c,g,_,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(_)}catch{}}function jh(){this.g=new $s}function sc(c,g,_){const I=_||"";try{qi(c,function(z,W){let le=z;m(z)&&(le=fi(z)),g.push(I+W+"="+encodeURIComponent(le))})}catch(z){throw g.push(I+"type="+encodeURIComponent("_badmap")),z}}function mi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(mi,Hr),mi.prototype.g=function(){return new Qs(this.l,this.j)},mi.prototype.i=(function(c){return function(){return c}})({});function Qs(c,g){bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Qs,bt),t=Qs.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Rr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ar(this):Rr(this),this.readyState==3&&oc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},t.Qa=function(c){this.g&&(this.response=c,Ar(this))},t.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Rr(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gi(c){let g="";return oe(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Zi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=gi(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):it(c,g,_))}function pt(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(pt,bt);var Uh=/^https?$/i,yl=["POST","PUT"];t=pt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?Ui(this.o):Ui(Ir),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(W){Zs(this,W);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)_.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())_.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(yl,g,void 0))||I||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of _)this.g.setRequestHeader(W,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Go(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Zs(this,W)}};function Zs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ho(c),Xn(c)}function Ho(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),Xn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vl(this):this.bb())},t.bb=function(){vl(this)};function vl(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)wr(c.Ea,0,c);else if(st(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=le===0){var z=String(c.D).match(Gs)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),I=!Uh.test(z?z.toLowerCase():"")}_=I}if(_)st(c,"complete"),st(c,"success");else{c.m=6;try{var W=2<Fn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Ho(c)}}finally{Xn(c)}}}}function Xn(c,g){if(c.g){Go(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||st(c,"ready");try{_.onreadystatechange=I}catch{}}}function Go(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ji(g)}};function _l(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ko(c){const g={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(J(c[I]))continue;var _=P(c[I]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=g[z]||[];g[z]=W,W.push(_)}C(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function wl(c){this.Aa=0,this.i=[],this.j=new nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,c),this.cb=Qr("retryDelaySeedMs",1e4,c),this.Wa=Qr("forwardChannelMaxRetries",2,c),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hs(c&&c.concurrentRequestLimit),this.Da=new jh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wl.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,I){ze(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=cc(this,null,this.W),Zr(this)};function sn(c){if(Qo(c),c.G==3){var g=c.U++,_=Yn(c.I);if(it(_,"SID",c.K),it(_,"RID",g),it(_,"TYPE","terminate"),yi(c,_),g=new Sr(c,c.j,g),g.L=2,g.v=Gi(Yn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=dc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}uc(c)}function Cr(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function Qo(c){Cr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Yo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Zr(c){if(!Jn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Re||ce(),H||(Re(),H=!0),he.add(g,c),c.B=0}}function $h(c,g){return Ju(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(S(c.Ga,c,g),lc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Sr(this,this.j,c);let W=this.o;if(this.S&&(W?(W=T(W),x(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ji(this,z,g),_=Yn(this.I),it(_,"RID",c),it(_,"CVER",22),this.D&&it(_,"X-HTTP-Session-Id",this.D),yi(this,_),W&&(this.O?g="headers="+encodeURIComponent(String(gi(W)))+"&"+g:this.m&&Zi(_,this.m,W)),ml(this.h,z),this.Ua&&it(_,"TYPE","init"),this.P?(it(_,"$req",g),it(_,"SID","null"),z.T=!0,$o(z,_,null)):$o(z,_,g),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Jn(this.h)||Zo(this))};function Zo(c,g){var _;g?_=g.l:_=c.U++;const I=Yn(c.I);it(I,"SID",c.K),it(I,"RID",_),it(I,"AID",c.T),yi(c,I),c.m&&c.o&&Zi(I,c.m,c.o),_=new Sr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ji(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ml(c.h,_),$o(_,I,g)}function yi(c,g){c.H&&oe(c.H,function(_,I){it(g,I,_)}),c.l&&qi({},function(_,I){it(g,I,_)})}function Ji(c,g,_){_=Math.min(c.i.length,_);var I=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let W=-1;for(;;){const le=["count="+_];W==-1?0<_?(W=z[0].g,le.push("ofs="+W)):W=0:le.push("ofs="+W);let tt=!0;for(let Ut=0;Ut<_;Ut++){let Ke=z[Ut].g;const Kt=z[Ut].map;if(Ke-=W,0>Ke)W=Math.max(0,z[Ut].g-100),tt=!1;else try{sc(Kt,le,"req"+Ke+"_")}catch{I&&I(Kt)}}if(tt){I=le.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function Js(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Re||ce(),H||(Re(),H=!0),he.add(g,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(S(c.Fa,c),lc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(S(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),Cr(this),ac(this))};function El(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new Sr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Yn(c.qa);it(g,"RID","rpc"),it(g,"SID",c.K),it(g,"AID",c.T),it(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(g,"TO",c.ja),it(g,"TYPE","xmlhttp"),yi(c,g),c.m&&c.o&&Zi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Gi(Yn(g)),_.m=null,_.P=!0,fl(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Cr(this),Jo(this),ze(19))};function Yo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Xo(c,g){var _=null;if(c.g==g){Yo(c),El(c),c.g=null;var I=2}else if(An(c.h,g))_=g.D,Yu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;I=xt(),st(I,new bn(I,_)),Zr(c)}else Js(c);else if(z=g.s,z==3||z==0&&0<g.X||!(I==1&&$h(c,g)||I==2&&Jo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function lc(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function vi(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),I=c.Xa;const z=!I;I=new pi(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ks(I,"https"),Gi(I),z?zh(I.toString(),_):ic(I.toString(),_)}else ze(2);c.G=0,c.l&&c.l.sa(g),uc(c),Qo(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function uc(c){if(c.G=0,c.ka=[],c.l){const g=Xu(c.h);(g.length!=0||c.i.length!=0)&&(D(c.ka,g),D(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function cc(c,g,_){var I=_ instanceof pi?Yn(_):new pi(_);if(I.g!="")g&&(I.g=g+"."+I.g),Wi(I,I.s);else{var z=h.location;I=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var W=new pi(null);I&&Ks(W,I),g&&(W.g=g),z&&Wi(W,z),_&&(W.l=_),I=W}return _=c.D,g=c.ya,_&&g&&it(I,_,g),it(I,"VER",c.la),yi(c,I),I}function dc(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new pt(new mi({eb:_})):new pt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tl(){}t=Tl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ea(){}ea.prototype.g=function(c,g){return new Rn(c,g)};function Rn(c,g){bt.call(this),this.g=new wl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!J(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jr(this)}F(Rn,bt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){sn(this.g)},Rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=fi(c),c=_);g.i.push(new Zu(g.Ya++,c)),g.G==3&&Zr(g)},Rn.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,Rn.aa.N.call(this)};function hc(c){rt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}F(hc,rt);function fc(){Pt.call(this),this.status=1}F(fc,Pt);function Jr(c){this.g=c}F(Jr,Tl),Jr.prototype.ua=function(){st(this.g,"a")},Jr.prototype.ta=function(c){st(this.g,new hc(c))},Jr.prototype.sa=function(c){st(this.g,new fc)},Jr.prototype.ra=function(){st(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,QE=function(){return new ea},KE=function(){return xt()},GE=ft,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,kd=jo,Hu.COMPLETE="complete",HE=Hu,$i.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Ql=$i,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,WE=pt}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new bm("@firebase/firestore");function Kl(){return Ao.logLevel}function _e(t,...e){if(Ao.logLevel<=Ge.DEBUG){const n=e.map(zm);Ao.debug(`Firestore (${il}): ${t}`,...n)}}function Vi(t,...e){if(Ao.logLevel<=Ge.ERROR){const n=e.map(zm);Ao.error(`Firestore (${il}): ${t}`,...n)}}function Ha(t,...e){if(Ao.logLevel<=Ge.WARN){const n=e.map(zm);Ao.warn(`Firestore (${il}): ${t}`,...n)}}function zm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+t;throw Vi(e),new Error(e)}function nt(t,e){t||Oe()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class CP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PP{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Io,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Io)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new ZE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new En(e)}}class xP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){nt(this.o===void 0);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string"),this.R=n.token,new DP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=MP(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new kt(0,0))}static max(){return new Me(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),u=n.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ht extends fu{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends fu{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return VP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new un(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}function LP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Ds(s,Se.empty(),e)}function FP(t){return new Ds(t.readTime,t.key,-1)}class Ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ds(Me.min(),Se.empty(),-1)}static max(){return new Ds(Me.max(),Se.empty(),-1)}}function zP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==jP)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let s=0,a=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++a,u&&a===s&&n()}),(f=>r(f)))})),u=!0,a===s&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((s=>s?ie.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((v=>{u[m]=v,++h,h===a&&r(u)}),(v=>s(v)))}}))}static doWhile(e,n){return new ie(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function $P(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jm.oe=-1;function ch(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function BP(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??ln.RED,this.left=s??ln.EMPTY,this.right=a??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new ln(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ln.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,r,s,a){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new ir([])}unionWith(e){let n=new cn(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new XE("Invalid base64 string: "+a):a}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const qP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(nt(!!t),typeof t=="string"){let e=0;const n=qP.exec(t);if(nt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $m(t){const e=t.mapValue.fields.__previous_value__;return Um(e)?$m(e):e}function pu(t){const e=Os(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,s,a,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class mu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd={mapValue:{}};function Co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Um(t)?4:GP(t)?9007199254740991:HP(t)?10:11:Oe()}function ui(t,e){if(t===e)return!0;const n=Co(t);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Os(s.timestampValue),h=Os(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Ro(s.bytesValue).isEqual(Ro(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Rt(s.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Rt(s.integerValue)===Rt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Rt(s.doubleValue),h=Rt(a.doubleValue);return u===h?Bd(u)===Bd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(J_(u)!==J_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!ui(u[f],h[f])))return!1;return!0})(t,e);default:return Oe()}}function gu(t,e){return(t.values||[]).find((n=>ui(n,e)))!==void 0}function Ka(t,e){if(t===e)return 0;const n=Co(t),r=Co(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Rt(a.integerValue||a.doubleValue),f=Rt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return X_(t.timestampValue,e.timestampValue);case 4:return X_(pu(t),pu(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return(function(a,u){const h=Ro(a),f=Ro(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=Ye(h[m],f[m]);if(v!==0)return v}return Ye(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Ye(Rt(a.latitude),Rt(u.latitude));return h!==0?h:Ye(Rt(a.longitude),Rt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ew(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var h,f,m,v;const E=a.fields||{},S=u.fields||{},b=(h=E.value)===null||h===void 0?void 0:h.arrayValue,F=(f=S.value)===null||f===void 0?void 0:f.arrayValue,N=Ye(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:ew(b,F)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===pd.mapValue&&u===pd.mapValue)return 0;if(a===pd.mapValue)return 1;if(u===pd.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const S=Ye(f[E],v[E]);if(S!==0)return S;const b=Ka(h[f[E]],m[v[E]]);if(b!==0)return b}return Ye(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Oe()}}function X_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Os(t),r=Os(e),s=Ye(n.seconds,r.seconds);return s!==0?s:Ye(n.nanos,r.nanos)}function ew(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ka(n[s],r[s]);if(a)return a}return Ye(n.length,r.length)}function Qa(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Qp(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Qp(n.fields[u])}`;return s+"}"})(t.mapValue):Oe()}function tw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zp(t){return!!t&&"integerValue"in t}function Bm(t){return!!t&&"arrayValue"in t}function nw(t){return!!t&&"nullValue"in t}function rw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function HP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=tu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=un.emptyPath(),r={},s=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=h.popLast()}u?r[h.lastSegment()]=tu(u):s.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){No(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Wn(tu(this.value))}}function eT(t){const e=[];return No(t.fields,((n,r)=>{const s=new un([n]);if(bd(r)){const a=eT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,s,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Me.min(),Me.min(),Me.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,s){return new Tn(e,1,n,Me.min(),r,s,0)}static newNoDocument(e,n){return new Tn(e,2,n,Me.min(),Me.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Me.min(),Me.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.position=e,this.inclusive=n}}function iw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),n.key):r=Ka(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function KP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{}class Lt extends tT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZP(e,n,r):n==="array-contains"?new XP(e,r):n==="in"?new ex(e,r):n==="not-in"?new tx(e,r):n==="array-contains-any"?new nx(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JP(e,r):new YP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends tT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ur(e,n)}matches(e){return nT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nT(t){return t.op==="and"}function rT(t){return QP(t)&&nT(t)}function QP(t){for(const e of t.filters)if(e instanceof Ur)return!1;return!0}function Jp(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(rT(t))return t.filters.map((e=>Jp(e))).join(",");{const e=t.filters.map((n=>Jp(n))).join(",");return`${t.op}(${e})`}}function iT(t,e){return t instanceof Lt?(function(r,s){return s instanceof Lt&&r.op===s.op&&r.field.isEqual(s.field)&&ui(r.value,s.value)})(t,e):t instanceof Ur?(function(r,s){return s instanceof Ur&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,h)=>a&&iT(u,s.filters[h])),!0):!1})(t,e):void Oe()}function sT(t){return t instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`})(t):t instanceof Ur?(function(n){return n.op.toString()+" {"+n.getFilters().map(sT).join(" ,")+"}"})(t):"Filter"}class ZP extends Lt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class JP extends Lt{constructor(e,n){super(e,"in",n),this.keys=oT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YP extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=oT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Se.fromName(r.referenceValue)))}class XP extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bm(n)&&gu(n.arrayValue,this.value)}}class ex extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class tx extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gu(this.value.arrayValue,n)}}class nx extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>gu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function ow(t,e=null,n=[],r=[],s=null,a=null,u=null){return new rx(t,e,n,r,s,a,u)}function qm(t){const e=Ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qa(r))).join(",")),e.ue=n}return e.ue}function Wm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sw(t.startAt,e.startAt)&&sw(t.endAt,e.endAt)}function Yp(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ix(t,e,n,r,s,a,u,h){return new sl(t,e,n,r,s,a,u,h)}function Hm(t){return new sl(t)}function aw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aT(t){return t.collectionGroup!==null}function nu(t){const e=Ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new cn(un.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new yu(a,r))})),n.has(un.keyField().canonicalString())||e.ce.push(new yu(un.keyField(),r))}return e.ce}function ai(t){const e=Ve(t);return e.le||(e.le=sx(e,nu(t))),e.le}function sx(t,e){if(t.limitType==="F")return ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new yu(s.field,a)}));const n=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;return ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xp(t,e){const n=t.filters.concat([e]);return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function em(t,e,n){return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dh(t,e){return Wm(ai(t),ai(e))&&t.limitType===e.limitType}function lT(t){return`${qm(ai(t))}|lt:${t.limitType}`}function Ia(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>sT(s))).join(", ")}]`),ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Qa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Qa(s))).join(",")),`Target(${r})`})(ai(t))}; limitType=${t.limitType})`}function hh(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of nu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(u,h,f){const m=iw(u,h,f);return u.inclusive?m<=0:m<0})(r.startAt,nu(r),s)||r.endAt&&!(function(u,h,f){const m=iw(u,h,f);return u.inclusive?m>=0:m>0})(r.endAt,nu(r),s))})(t,e)}function ox(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uT(t){return(e,n)=>{let r=!1;for(const s of nu(t)){const a=ax(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function ax(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Ka(f,m):Oe()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new _t(Se.comparator);function Li(){return lx}const cT=new _t(Se.comparator);function Zl(...t){let e=cT;for(const n of t)e=e.insert(n.key,n);return e}function dT(t){let e=cT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function po(){return ru()}function hT(){return ru()}function ru(){return new ol((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ux=new _t(Se.comparator),cx=new cn(Se.comparator);function Be(...t){let e=cx;for(const n of t)e=e.add(n);return e}const dx=new cn(Ye);function hx(){return dx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function fT(t){return{integerValue:""+t}}function fx(t,e){return BP(e)?fT(e):Gm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function px(t,e,n){return t instanceof vu?(function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Um(a)&&(a=$m(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}})(n,e):t instanceof _u?mT(t,e):t instanceof wu?gT(t,e):(function(s,a){const u=pT(s,a),h=lw(u)+lw(s.Pe);return Zp(u)&&Zp(s.Pe)?fT(h):Gm(s.serializer,h)})(t,e)}function mx(t,e,n){return t instanceof _u?mT(t,e):t instanceof wu?gT(t,e):n}function pT(t,e){return t instanceof Wd?(function(r){return Zp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class vu extends fh{}class _u extends fh{constructor(e){super(),this.elements=e}}function mT(t,e){const n=yT(e);for(const r of t.elements)n.some((s=>ui(s,r)))||n.push(r);return{arrayValue:{values:n}}}class wu extends fh{constructor(e){super(),this.elements=e}}function gT(t,e){let n=yT(e);for(const r of t.elements)n=n.filter((s=>!ui(s,r)));return{arrayValue:{values:n}}}class Wd extends fh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lw(t){return Rt(t.integerValue||t.doubleValue)}function yT(t){return Bm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.field=e,this.transform=n}}function yx(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof _u&&s instanceof _u||r instanceof wu&&s instanceof wu?Ga(r.elements,s.elements,ui):r instanceof Wd&&s instanceof Wd?ui(r.Pe,s.Pe):r instanceof vu&&s instanceof vu})(t.transform,e.transform)}class vx{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ph{}function vT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Km(t.key,jr.none()):new Lu(t.key,t.data,jr.none());{const n=t.data,r=Wn.empty();let s=new cn(un.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Vs(t.key,r,new ir(s.toArray()),jr.none())}}function _x(t,e,n){t instanceof Lu?(function(s,a,u){const h=s.value.clone(),f=cw(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Vs?(function(s,a,u){if(!Ad(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=cw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(_T(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function iu(t,e,n,r){return t instanceof Lu?(function(a,u,h,f){if(!Ad(a.precondition,u))return h;const m=a.value.clone(),v=dw(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Vs?(function(a,u,h,f){if(!Ad(a.precondition,u))return h;const m=dw(a.fieldTransforms,f,u),v=u.data;return v.setAll(_T(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(a,u,h){return Ad(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function wx(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=pT(r.transform,s||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function uw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ga(r,s,((a,u)=>yx(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends ph{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Vs extends ph{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _T(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function cw(t,e,n){const r=new Map;nt(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,mx(u,h,n[s]))}return r}function dw(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,px(a,u,e))}return r}class Km extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ex extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&_x(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hT();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(s.key)?null:h;const f=vT(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,((n,r)=>uw(n,r)))&&Ga(this.baseMutations,e.baseMutations,((n,r)=>uw(n,r)))}}class Qm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){nt(e.mutations.length===r.length);let s=(function(){return ux})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Qm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Qe;function kx(t){switch(t){default:return Oe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function wT(t){if(t===void 0)return Vi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Vt.OK:return te.OK;case Vt.CANCELLED:return te.CANCELLED;case Vt.UNKNOWN:return te.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return te.INTERNAL;case Vt.UNAVAILABLE:return te.UNAVAILABLE;case Vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Vt.NOT_FOUND:return te.NOT_FOUND;case Vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Vt.ABORTED:return te.ABORTED;case Vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Vt.DATA_LOSS:return te.DATA_LOSS;default:return Oe()}}(Qe=Vt||(Vt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new To([4294967295,4294967295],0);function hw(t){const e=bx().encode(t),n=new qE;return n.update(e),new Uint8Array(n.digest())}function fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new To([n,r],0),new To([s,a],0)]}class Zm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=To.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(To.fromNumber(r)));return s.compare(Ax)===1&&(s=new To([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hw(e),[r,s]=fw(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Zm(a,s,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.Ie===0)return;const n=hw(e),[r,s]=fw(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mh(Me.min(),s,new _t(Ye),Li(),Be())}}class Fu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class ET{constructor(e,n){this.targetId=e,this.me=n}}class TT{constructor(e,n,r=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class pw{constructor(){this.fe=0,this.ge=gw(),this.pe=dn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),n=Be(),r=Be();return this.ge.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Oe()}})),new Fu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=gw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Rx{constructor(e){this.Le=e,this.Be=new Map,this.ke=Li(),this.qe=mw(),this.Qe=new _t(Ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Oe()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,s)=>{this.ze(s)&&n(s)}))}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(Yp(a))if(r===0){const u=new Se(a.path);this.Ue(n,u,Tn.newNoDocument(u,Me.min()))}else nt(r===1);else{const u=this.Ye(n);if(u!==r){const h=this.Ze(e),f=h?this.Xe(h,e,u):1;if(f!==0){this.je(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,h;try{u=Ro(r).toUint8Array()}catch(f){if(f instanceof XE)return Ha("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Zm(u,s,a)}catch(f){return Ha(f instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,a,null),s++)})),s}rt(e){const n=new Map;this.Be.forEach(((a,u)=>{const h=this.Je(u);if(h){if(a.current&&Yp(h.target)){const f=new Se(h.target.path);this.ke.get(f)!==null||this.it(u,f)||this.Ue(u,f,Tn.newNoDocument(f,e))}a.be&&(n.set(u,a.ve()),a.Ce())}}));let r=Be();this.qe.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.ke.forEach(((a,u)=>u.setReadTime(e)));const s=new mh(e,n,this.Qe,this.ke,r);return this.ke=Li(),this.qe=mw(),this.Qe=new _t(Ye),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new cn(Ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pw),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mw(){return new _t(Se.comparator)}function gw(){return new _t(Se.comparator)}const Cx={asc:"ASCENDING",desc:"DESCENDING"},Px={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xx={and:"AND",or:"OR"};class Nx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tm(t,e){return t.useProto3Json||ch(e)?e:{value:e}}function Hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dx(t,e){return Hd(t,e.toTimestamp())}function li(t){return nt(!!t),Me.fromTimestamp((function(n){const r=Os(n);return new kt(r.seconds,r.nanos)})(t))}function Jm(t,e){return nm(t,e).canonicalString()}function nm(t,e){const n=(function(s){return new ht(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ST(t){const e=ht.fromString(t);return nt(CT(e)),e}function rm(t,e){return Jm(t.databaseId,e.path)}function kp(t,e){const n=ST(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(bT(n))}function kT(t,e){return Jm(t.databaseId,e)}function Ox(t){const e=ST(t);return e.length===4?ht.emptyPath():bT(e)}function im(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bT(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yw(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function Mx(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(nt(v===void 0||typeof v=="string"),dn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?te.UNKNOWN:wT(m.code);return new pe(v,m.message||"")})(u);n=new TT(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kp(t,r.document.name),a=li(r.document.updateTime),u=r.document.createTime?li(r.document.createTime):Me.min(),h=new Wn({mapValue:{fields:r.document.fields}}),f=Tn.newFoundDocument(s,a,u,h),m=r.targetIds||[],v=r.removedTargetIds||[];n=new Rd(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kp(t,r.document),a=r.readTime?li(r.readTime):Me.min(),u=Tn.newNoDocument(s,a),h=r.removedTargetIds||[];n=new Rd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kp(t,r.document),a=r.removedTargetIds||[];n=new Rd([],a,s,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new Sx(s,a),h=r.targetId;n=new ET(h,u)}}return n}function Vx(t,e){let n;if(e instanceof Lu)n={update:yw(t,e.key,e.value)};else if(e instanceof Km)n={delete:rm(t,e.key)};else if(e instanceof Vs)n={update:yw(t,e.key,e.data),updateMask:Wx(e.fieldMask)};else{if(!(e instanceof Ex))return Oe();n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof vu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _u)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof wu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wd)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Oe()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:Dx(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe()})(t,e.precondition)),n}function Lx(t,e){return t&&t.length>0?(nt(e!==void 0),t.map((n=>(function(s,a){let u=s.updateTime?li(s.updateTime):li(a);return u.isEqual(Me.min())&&(u=li(a)),new vx(u,s.transformResults||[])})(n,e)))):[]}function Fx(t,e){return{documents:[kT(t,e.path)]}}function zx(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kT(t,s);const a=(function(m){if(m.length!==0)return RT(Ur.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(S){return{field:Sa(S.field),direction:$x(S.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=tm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:s}}function jx(t){let e=Ox(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){nt(r===1);const v=n.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(E){const S=AT(E);return S instanceof Ur&&rT(S)?S.getFilters():[S]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((S=>(function(F){return new yu(ka(F.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(S)))})(n.orderBy));let h=null;n.limit&&(h=(function(E){let S;return S=typeof E=="object"?E.value:E,ch(S)?null:S})(n.limit));let f=null;n.startAt&&(f=(function(E){const S=!!E.before,b=E.values||[];return new qd(b,S)})(n.startAt));let m=null;return n.endAt&&(m=(function(E){const S=!E.before,b=E.values||[];return new qd(b,S)})(n.endAt)),ix(e,s,u,a,h,"F",f,m)}function Ux(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ka(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ka(n.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ka(n.unaryFilter.field);return Lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ka(n.unaryFilter.field);return Lt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}})(t):t.fieldFilter!==void 0?(function(n){return Lt.create(ka(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ur.create(n.compositeFilter.filters.map((r=>AT(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe()}})(n.compositeFilter.op))})(t):Oe()}function $x(t){return Cx[t]}function Bx(t){return Px[t]}function qx(t){return xx[t]}function Sa(t){return{fieldPath:t.canonicalString()}}function ka(t){return un.fromServerFormat(t.fieldPath)}function RT(t){return t instanceof Lt?(function(n){if(n.op==="=="){if(rw(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(nw(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rw(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(nw(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:Bx(n.op),value:n.value}}})(t):t instanceof Ur?(function(n){const r=n.getFilters().map((s=>RT(s)));return r.length===1?r[0]:{compositeFilter:{op:qx(n.op),filters:r}}})(t):Oe()}function Wx(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function CT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,s,a=Me.min(),u=Me.min(),h=dn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.ct=e}}function Gx(t){const e=jx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.un=new Qx}addToCollectionParentIndex(e,n){return this.un.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ds.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Qx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new cn(ht.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Za(0)}static kn(){return new Za(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.changes=new ol((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&iu(r.mutation,s,ir.empty(),kt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const s=po();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let u=Zl();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=po();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,s){let a=Li();const u=ru(),h=(function(){return ru()})();return n.forEach(((f,m)=>{const v=r.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof Vs)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),iu(v.mutation,m,v.mutation.getFieldMask(),kt.now())):u.set(m.key,ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),n.forEach(((m,v)=>{var E;return h.set(m,new Jx(v,(E=u.get(m))!==null&&E!==void 0?E:null))})),h)))}recalculateAndSaveOverlays(e,n){const r=ru();let s=new _t(((u,h)=>u-h)),a=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let v=r.get(f)||ir.empty();v=h.applyToLocalView(m,v),r.set(f,v);const E=(s.get(h.batchId)||Be()).add(f);s=s.insert(h.batchId,E)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,E=hT();v.forEach((S=>{if(!a.has(S)){const b=vT(n.get(S),r.get(S));b!==null&&E.set(S,b),a=a.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ie.resolve(po());let h=-1,f=a;return u.next((m=>ie.forEach(m,((v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{f=f.insert(v,S)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Be()))).next((v=>({batchId:h,changes:dT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let s=Zl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=Zl();return this.indexManager.getCollectionParents(e,a).next((h=>ie.forEach(h,(f=>{const m=(function(E,S){return new sl(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((v=>{v.forEach(((E,S)=>{u=u.insert(E,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Tn.newInvalidDocument(v)))}));let h=Zl();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&iu(v.mutation,m,ir.empty(),kt.now()),hh(n,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ie.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:li(s.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(s){return{name:s.name,query:Gx(s.bundledQuery),readTime:li(s.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.overlays=new _t(Se.comparator),this.Ir=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=po();return ie.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.ht(e,n,a)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const s=po(),a=n.length+1,u=new Se(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new _t(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=po(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=po(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=s)););return ie.resolve(h)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ix(n,r));let a=this.Ir.get(n);a===void 0&&(a=Be(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Tr=new cn(Xt.Er),this.dr=new cn(Xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Xt(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Se(new ht([])),r=new Xt(n,e),s=new Xt(n,e+1),a=[];return this.dr.forEachInRange([r,s],(u=>{this.Vr(u),a.push(u.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Se(new ht([])),r=new Xt(n,e),s=new Xt(n,e+1);let a=Be();return this.dr.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new Xt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Se.comparator(e.key,n.key)||Ye(e.wr,n.wr)}static Ar(e,n){return Ye(e.wr,n.wr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new cn(Xt.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Tx(a,n,r,s);this.mutationQueue.push(u);for(const h of s)this.br=this.br.add(new Xt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],(u=>{const h=this.Dr(u.wr);a.push(h)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cn(Ye);return n.forEach((s=>{const a=new Xt(s,0),u=new Xt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],(h=>{r=r.add(h.wr)}))})),ie.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const u=new Xt(new Se(a),0);let h=new cn(Ye);return this.br.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(h=h.add(f.wr)),!0)}),u),ie.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach((r=>{const s=this.Dr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){nt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ie.forEach(n.mutations,(s=>{const a=new Xt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Xt(n,0),s=this.br.firstAfterOrEqual(r);return ie.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.Mr=e,this.docs=(function(){return new _t(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Tn.newInvalidDocument(s))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Li();const u=n.path,h=new Se(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||zP(FP(v),r)<=0||(s.has(v.key)||hh(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Oe()}Or(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new i1(this)}getSize(e){return ie.resolve(this.size)}}class i1 extends Zx{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.persistence=e,this.Nr=new ol((n=>qm(n)),Wm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ym,this.targetCount=0,this.kr=Za.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,s)=>n(s))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Kn(n),ie.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),ie.waitFor(a).next((()=>s))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.qr={},this.overlays={},this.Qr=new jm(0),this.Kr=!1,this.Kr=!0,this.$r=new t1,this.referenceDelegate=e(this),this.Ur=new s1(this),this.indexManager=new Kx,this.remoteDocumentCache=(function(s){return new r1(s)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new Hx(n),this.Gr=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new n1(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new a1(this.Qr.next());return this.referenceDelegate.zr(),r(s).next((a=>this.referenceDelegate.jr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Hr(e,n){return ie.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class a1 extends UP{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Jr=new Ym,this.Yr=null}static Zr(e){return new Xm(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((s=>this.Xr.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,(r=>{const s=Se.fromPath(r);return this.ei(e,s).next((a=>{a||n.removeEntry(s,Me.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return ie.or([()=>ie.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Be(),s=Be();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new eg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return hA()?8:$P(In())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.Zi(e,n,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new l1;return this.Xi(e,n,u).next((h=>{if(a.result=h,this.zi)return this.es(e,n,u,h.size)}))})).next((()=>a.result))}es(e,n,r,s){return r.documentReadCount<this.ji?(Kl()<=Ge.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(Kl()<=Ge.DEBUG&&_e("QueryEngine","Query:",Ia(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Kl()<=Ge.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):ie.resolve())}Yi(e,n){if(aw(n))return ie.resolve(null);let r=ai(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=em(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Be(...a);return this.Ji.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.ts(n,h);return this.ns(n,m,u,f.readTime)?this.Yi(e,em(n,null,"F")):this.rs(e,m,n,f)}))))})))))}Zi(e,n,r,s){return aw(n)||s.isEqual(Me.min())?ie.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const u=this.ts(n,a);return this.ns(n,u,r,s)?ie.resolve(null):(Kl()<=Ge.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ia(n)),this.rs(e,u,n,LP(s,-1)).next((h=>h)))}))}ts(e,n){let r=new cn(uT(e));return n.forEach(((s,a)=>{hh(e,a)&&(r=r.add(a))})),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return Kl()<=Ge.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ds.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new _t(Ye),this._s=new ol((a=>qm(a)),Wm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function d1(t,e,n,r){return new c1(t,e,n,r)}async function PT(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=Be();for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((m=>({hs:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function h1(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const E=m.batch,S=E.keys();let b=ie.resolve();return S.forEach((F=>{b=b.next((()=>v.getEntry(f,F))).next((N=>{const D=m.docVersions.get(F);nt(D!==null),N.version.compareTo(D)<0&&(E.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),v.addEntry(N)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,E)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Be();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function xT(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function f1(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const h=[];e.targetChanges.forEach(((v,E)=>{const S=s.get(E);if(!S)return;h.push(n.Ur.removeMatchingKeys(a,v.removedDocuments,E).next((()=>n.Ur.addMatchingKeys(a,v.addedDocuments,E))));let b=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(dn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),s=s.insert(E,b),(function(N,D,Z){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,b,v)&&h.push(n.Ur.updateTargetData(a,b))}));let f=Li(),m=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(p1(a,u,e.documentUpdates).next((v=>{f=v.Ps,m=v.Is}))),!r.isEqual(Me.min())){const v=n.Ur.getLastRemoteSnapshotVersion(a).next((E=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return ie.waitFor(h).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.os=s,a)))}function p1(t,e,n){let r=Be(),s=Be();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=Li();return n.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):_e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Ps:u,Is:s}}))}function m1(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function g1(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Ur.getTargetData(r,e).next((a=>a?(s=a,ie.resolve(s)):n.Ur.allocateTargetId(r).next((u=>(s=new As(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function sm(t,e,n){const r=Ve(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Vu(u))throw u;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function vw(t,e,n){const r=Ve(t);let s=Me.min(),a=Be();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const E=Ve(f),S=E._s.get(v);return S!==void 0?ie.resolve(E.os.get(S)):E.Ur.getTargetData(m,v)})(r,u,ai(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(u,e,n?s:Me.min(),n?a:Be()))).next((h=>(y1(r,ox(e),h),{documents:h,Ts:a})))))}function y1(t,e,n){let r=t.us.get(e)||Me.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class _w{constructor(){this.activeTargetIds=hx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v1{constructor(){this.so=new _w,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function bp(){return md===null?md=(function(){return 268435456+Math.round(2147483648*Math.random())})():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class T1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,u){const h=bp(),f=this.xo(n,r.toUriEncodedString());_e("RestConnection",`Sending RPC '${n}' ${h}:`,f,s);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,u),this.No(n,f,m,s).then((v=>(_e("RestConnection",`Received RPC '${n}' ${h}: `,v),v)),(v=>{throw Ha("RestConnection",`RPC '${n}' ${h} failed with error: `,v,"url: ",f,"request:",s),v}))}Lo(n,r,s,a,u,h){return this.Mo(n,r,s,a,u)}Oo(n,r,s){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,u)=>n[u]=a)),s&&s.headers.forEach(((a,u)=>n[u]=a))}xo(n,r){const s=w1[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=bp();return new Promise(((u,h)=>{const f=new WE;f.setWithCredentials(!0),f.listenOnce(HE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case kd.NO_ERROR:const v=f.getResponseJson();_e(wn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case kd.TIMEOUT:_e(wn,`RPC '${e}' ${a} timed out`),h(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const E=f.getStatus();if(_e(wn,`RPC '${e}' ${a} failed with status:`,E,"response text:",f.getResponseText()),E>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S==null?void 0:S.error;if(b&&b.status&&b.message){const F=(function(D){const Z=D.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Z)>=0?Z:te.UNKNOWN})(b.status);h(new pe(F,b.message))}else h(new pe(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{_e(wn,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(s);_e(wn,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",m,r,15)}))}Bo(e,n,r){const s=bp(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=QE(),h=KE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");_e(wn,`Creating RPC '${e}' stream ${s}: ${v}`,f);const E=u.createWebChannel(v,f);let S=!1,b=!1;const F=new E1({Io:D=>{b?_e(wn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(S||(_e(wn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),S=!0),_e(wn,`RPC '${e}' stream ${s} sending:`,D),E.send(D))},To:()=>E.close()}),N=(D,Z,J)=>{D.listen(Z,(G=>{try{J(G)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return N(E,Ql.EventType.OPEN,(()=>{b||(_e(wn,`RPC '${e}' stream ${s} transport opened.`),F.yo())})),N(E,Ql.EventType.CLOSE,(()=>{b||(b=!0,_e(wn,`RPC '${e}' stream ${s} transport closed`),F.So())})),N(E,Ql.EventType.ERROR,(D=>{b||(b=!0,Ha(wn,`RPC '${e}' stream ${s} transport errored:`,D),F.So(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),N(E,Ql.EventType.MESSAGE,(D=>{var Z;if(!b){const J=D.data[0];nt(!!J);const G=J,ee=G.error||((Z=G[0])===null||Z===void 0?void 0:Z.error);if(ee){_e(wn,`RPC '${e}' stream ${s} received error:`,ee);const X=ee.status;let oe=(function(k){const x=Vt[k];if(x!==void 0)return wT(x)})(X),C=ee.message;oe===void 0&&(oe=te.INTERNAL,C="Unknown error status: "+X+" with message "+ee.message),b=!0,F.So(new pe(oe,C)),E.close()}else _e(wn,`RPC '${e}' stream ${s} received:`,J),F.bo(J)}})),N(h,GE.STAT_EVENT,(D=>{D.stat===Kp.PROXY?_e(wn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Kp.NOPROXY&&_e(wn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{F.wo()}),0),F}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){return new Nx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,r,s,a,u,h,f){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.Yo===n&&this.P_(r,s)}),(r=>{e((()=>{const s=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((s=>{r((()=>this.I_(s)))})),this.stream.onMessage((s=>{r((()=>++this.e_==1?this.E_(s):this.onNext(s)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I1 extends DT{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Mx(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?li(u.readTime):Me.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=im(this.serializer),n.addTarget=(function(a,u){let h;const f=u.target;if(h=Yp(f)?{documents:Fx(a,f)}:{query:zx(a,f)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=IT(a,u.resumeToken);const m=tm(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){h.readTime=Hd(a,u.snapshotVersion.toTimestamp());const m=tm(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=Ux(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=im(this.serializer),n.removeTarget=e,this.a_(n)}}class S1 extends DT{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Lx(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=im(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Vx(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Mo(e,nm(n,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(te.UNKNOWN,a.toString())}))}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Lo(e,nm(n,r),s,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(te.UNKNOWN,u.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class b1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(n),this.D_=!1):_e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((u=>{r.enqueueAndForget((async()=>{Do(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const m=Ve(f);m.L_.add(4),await zu(m),m.q_.set("Unknown"),m.L_.delete(4),await yh(m)})(this))}))})),this.q_=new b1(r,s)}}async function yh(t){if(Do(t))for(const e of t.B_)await e(!0)}async function zu(t){for(const e of t.B_)await e(!1)}function OT(t,e){const n=Ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ig(n)?rg(n):al(n).r_()&&ng(n,e))}function tg(t,e){const n=Ve(t),r=al(n);n.N_.delete(e),r.r_()&&MT(n,e),n.N_.size===0&&(r.r_()?r.o_():Do(n)&&n.q_.set("Unknown"))}function ng(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).A_(e)}function MT(t,e){t.Q_.xe(e),al(t).R_(e)}function rg(t){t.Q_=new Rx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),al(t).start(),t.q_.v_()}function ig(t){return Do(t)&&!al(t).n_()&&t.N_.size>0}function Do(t){return Ve(t).L_.size===0}function VT(t){t.Q_=void 0}async function R1(t){t.q_.set("Online")}async function C1(t){t.N_.forEach(((e,n)=>{ng(t,e)}))}async function P1(t,e){VT(t),ig(t)?(t.q_.M_(e),rg(t)):t.q_.set("Unknown")}async function x1(t,e,n){if(t.q_.set("Online"),e instanceof TT&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const h of a.targetIds)s.N_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.N_.delete(h),s.Q_.removeTarget(h))})(t,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof Rd?t.Q_.Ke(e):e instanceof ET?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const r=await xT(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const h=a.Q_.rt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.N_.get(m);v&&a.N_.set(m,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const v=a.N_.get(f);if(!v)return;a.N_.set(f,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),MT(a,f);const E=new As(v.target,f,m,v.sequenceNumber);ng(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!Vu(e))throw e;t.L_.add(1),await zu(t),t.q_.set("Offline"),n||(n=()=>xT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await yh(t)}))}function LT(t,e){return e().catch((n=>Gd(t,n,e)))}async function vh(t){const e=Ve(t),n=Ms(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;N1(e);)try{const s=await m1(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,D1(e,s)}catch(s){await Gd(e,s)}FT(e)&&zT(e)}function N1(t){return Do(t)&&t.O_.length<10}function D1(t,e){t.O_.push(e);const n=Ms(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FT(t){return Do(t)&&!Ms(t).n_()&&t.O_.length>0}function zT(t){Ms(t).start()}async function O1(t){Ms(t).p_()}async function M1(t){const e=Ms(t);for(const n of t.O_)e.m_(n.mutations)}async function V1(t,e,n){const r=t.O_.shift(),s=Qm.from(r,e,n);await LT(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await vh(t)}async function L1(t,e){e&&Ms(t).V_&&await(async function(r,s){if((function(u){return kx(u)&&u!==te.ABORTED})(s.code)){const a=r.O_.shift();Ms(r).s_(),await LT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await vh(r)}})(t,e),FT(t)&&zT(t)}async function Ew(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=Do(n);n.L_.add(3),await zu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await yh(n)}async function F1(t,e){const n=Ve(t);e?(n.L_.delete(2),await yh(n)):e||(n.L_.add(2),await zu(n),n.q_.set("Unknown"))}function al(t){return t.K_||(t.K_=(function(n,r,s){const a=Ve(n);return a.w_(),new I1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:R1.bind(null,t),Ro:C1.bind(null,t),mo:P1.bind(null,t),d_:x1.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),ig(t)?rg(t):t.q_.set("Unknown")):(await t.K_.stop(),VT(t))}))),t.K_}function Ms(t){return t.U_||(t.U_=(function(n,r,s){const a=Ve(n);return a.w_(),new S1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:O1.bind(null,t),mo:L1.bind(null,t),f_:M1.bind(null,t),g_:V1.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await vh(t)):(await t.U_.stop(),t.O_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,h=new sg(e,n,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),Vu(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new Da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.W_=new _t(Se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ja{constructor(e,n,r,s,a,u,h,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ja(e,n,Da.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class j1{constructor(){this.queries=Iw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ve(n),a=s.queries;s.queries=Iw(),a.forEach(((u,h)=>{for(const f of h.j_)f.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function Iw(){return new ol((t=>lT(t)),dh)}async function U1(t,e){const n=Ve(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new z1,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=og(u,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&ag(n)}async function $1(t,e){const n=Ve(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B1(t,e){const n=Ve(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const h of u.j_)h.X_(s)&&(r=!0);u.z_=s}}r&&ag(n)}function q1(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function ag(t){t.Y_.forEach((e=>{e.next()}))}var om,Sw;(Sw=om||(om={})).ea="default",Sw.Cache="cache";class W1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.key=e}}class UT{constructor(e){this.key=e}}class H1{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=uT(e),this.Ra=new Da(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Tw,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,E)=>{const S=s.get(v),b=hh(this.query,E)?E:null,F=!!S&&this.mutatedKeys.has(S.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;S&&b?S.data.isEqual(b.data)?F!==N&&(r.track({type:3,doc:b}),D=!0):this.ga(S,b)||(r.track({type:2,doc:b}),D=!0,(f&&this.Aa(b,f)>0||m&&this.Aa(b,m)<0)&&(h=!0)):!S&&b?(r.track({type:0,doc:b}),D=!0):S&&!b&&(r.track({type:1,doc:S}),D=!0,(f||m)&&(h=!0)),D&&(b?(u=u.add(b),a=N?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{Ra:u,fa:r,ns:h,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort(((v,E)=>(function(b,F){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return N(b)-N(F)})(v.type,E.type)||this.Aa(v.doc,E.doc))),this.pa(r),s=s!=null&&s;const h=n&&!s?this.ya():[],f=this.da.size===0&&this.current&&!s?1:0,m=f!==this.Ea;return this.Ea=f,u.length!==0||m?{snapshot:new Ja(this.query,e.Ra,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new UT(r))})),this.da.forEach((r=>{e.has(r)||n.push(new jT(r))})),n}ba(e){this.Ta=e.Ts,this.da=Be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ja.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class G1{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class K1{constructor(e){this.key=e,this.va=!1}}class Q1{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new ol((h=>lT(h)),dh),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(Se.comparator),this.Na=new Map,this.La=new Ym,this.Ba={},this.ka=new Map,this.qa=Za.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Z1(t,e,n=!0){const r=GT(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await $T(r,e,n,!0),s}async function J1(t,e){const n=GT(t);await $T(n,e,!0,!1)}async function $T(t,e,n,r){const s=await g1(t.localStore,ai(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await Y1(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&OT(t.remoteStore,s),h}async function Y1(t,e,n,r,s){t.Ka=(E,S,b)=>(async function(N,D,Z,J){let G=D.view.ma(Z);G.ns&&(G=await vw(N.localStore,D.query,!1).then((({documents:C})=>D.view.ma(C,G))));const ee=J&&J.targetChanges.get(D.targetId),X=J&&J.targetMismatches.get(D.targetId)!=null,oe=D.view.applyChanges(G,N.isPrimaryClient,ee,X);return bw(N,D.targetId,oe.wa),oe.snapshot})(t,E,S,b);const a=await vw(t.localStore,e,!0),u=new H1(e,a.Ts),h=u.ma(a.documents),f=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=u.applyChanges(h,t.isPrimaryClient,f);bw(t,n,m.wa);const v=new G1(e,n,u);return t.Fa.set(e,v),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function X1(t,e,n){const r=Ve(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter((u=>!dh(u,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sm(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&tg(r.remoteStore,s.targetId),am(r,s.targetId)})).catch(Mu)):(am(r,s.targetId),await sm(r.localStore,s.targetId,!0))}async function eN(t,e){const n=Ve(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tg(n.remoteStore,r.targetId))}async function tN(t,e,n){const r=lN(t);try{const s=await(function(u,h){const f=Ve(u),m=kt.now(),v=h.reduce(((b,F)=>b.add(F.key)),Be());let E,S;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let F=Li(),N=Be();return f.cs.getEntries(b,v).next((D=>{F=D,F.forEach(((Z,J)=>{J.isValidDocument()||(N=N.add(Z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,F))).next((D=>{E=D;const Z=[];for(const J of h){const G=wx(J,E.get(J.key).overlayedDocument);G!=null&&Z.push(new Vs(J.key,G,eT(G.value.mapValue),jr.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,Z,h)})).next((D=>{S=D;const Z=D.applyToLocalDocumentSet(E,N);return f.documentOverlayCache.saveOverlays(b,D.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:dT(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let m=u.Ba[u.currentUser.toKey()];m||(m=new _t(Ye)),m=m.insert(h,f),u.Ba[u.currentUser.toKey()]=m})(r,s.batchId,n),await ju(r,s.changes),await vh(r.remoteStore)}catch(s){const a=og(s,"Failed to persist write");n.reject(a)}}async function BT(t,e){const n=Ve(t);try{const r=await f1(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=n.Na.get(a);u&&(nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.va=!0:s.modifiedDocuments.size>0?nt(u.va):s.removedDocuments.size>0&&(nt(u.va),u.va=!1))})),await ju(n,r,e)}catch(r){await Mu(r)}}function kw(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach(((a,u)=>{const h=u.view.Z_(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=Ve(u);f.onlineState=h;let m=!1;f.queries.forEach(((v,E)=>{for(const S of E.j_)S.Z_(h)&&(m=!0)})),m&&ag(f)})(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nN(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let u=new _t(Se.comparator);u=u.insert(a,Tn.newNoDocument(a,Me.min()));const h=Be().add(a),f=new mh(Me.min(),new Map,new _t(Ye),u,h);await BT(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),lg(r)}else await sm(r.localStore,e,!1).then((()=>am(r,e,n))).catch(Mu)}async function rN(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await h1(n.localStore,e);WT(n,r,null),qT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,s)}catch(s){await Mu(s)}}async function iN(t,e,n){const r=Ve(t);try{const s=await(function(u,h){const f=Ve(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((E=>(nt(E!==null),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);WT(r,e,n),qT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,s)}catch(s){await Mu(s)}}function qT(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function WT(t,e,n){const r=Ve(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||HT(t,r)}))}function HT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(tg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lg(t))}function bw(t,e,n){for(const r of n)r instanceof jT?(t.La.addReference(r.key,e),sN(t,r)):r instanceof UT?(_e("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HT(t,r.key)):Oe()}function sN(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(_e("SyncEngine","New document in limbo: "+n),t.xa.add(r),lg(t))}function lg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Se(ht.fromString(e)),r=t.qa.next();t.Na.set(r,new K1(n)),t.Oa=t.Oa.insert(n,r),OT(t.remoteStore,new As(ai(Hm(n.path)),r,"TargetPurposeLimboResolution",jm.oe))}}async function ju(t,e,n){const r=Ve(t),s=[],a=[],u=[];r.Fa.isEmpty()||(r.Fa.forEach(((h,f)=>{u.push(r.Ka(f,e,n).then((m=>{var v;if((m||n)&&r.isPrimaryClient){const E=m?!m.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){s.push(m);const E=eg.Wi(f.targetId,m);a.push(E)}})))})),await Promise.all(u),r.Ca.d_(s),await(async function(f,m){const v=Ve(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(m,(S=>ie.forEach(S.$i,(b=>v.persistence.referenceDelegate.addReference(E,S.targetId,b))).next((()=>ie.forEach(S.Ui,(b=>v.persistence.referenceDelegate.removeReference(E,S.targetId,b)))))))))}catch(E){if(!Vu(E))throw E;_e("LocalStore","Failed to update sequence numbers: "+E)}for(const E of m){const S=E.targetId;if(!E.fromCache){const b=v.os.get(S),F=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(F);v.os=v.os.insert(S,N)}}})(r.localStore,a))}async function oN(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await PT(n.localStore,e);n.currentUser=e,(function(a,u){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new pe(te.CANCELLED,u))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.hs)}}function aN(t,e){const n=Ve(t),r=n.Na.get(e);if(r&&r.va)return Be().add(r.key);{let s=Be();const a=n.Ma.get(e);if(!a)return s;for(const u of a){const h=n.Fa.get(u);s=s.unionWith(h.view.Va)}return s}}function GT(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nN.bind(null,e),e.Ca.d_=B1.bind(null,e.eventManager),e.Ca.$a=q1.bind(null,e.eventManager),e}function lN(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return d1(this.persistence,new u1,e.initialUser,this.serializer)}Ga(e){return new o1(Xm.Zr,this.serializer)}Wa(e){return new v1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oN.bind(null,this.syncEngine),await F1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j1})()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),r=(function(a){return new T1(a)})(e.databaseInfo);return(function(a,u,h,f){return new k1(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,u,h){return new A1(r,s,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>kw(this.syncEngine,n,0)),(function(){return ww.D()?new ww:new _1})())}createSyncEngine(e,n){return(function(s,a,u,h,f,m,v){const E=new Q1(s,a,u,h,f,m);return v&&(E.Qa=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Ve(s);_e("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await zu(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=JE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{_e("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(_e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=og(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rp(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await PT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Aw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dN(t);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Ew(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Ew(e.remoteStore,s))),t._onlineComponents=e}async function dN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await Rp(t,new Kd)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await Rp(t,new Kd);return t._offlineComponents}async function KT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await Aw(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await Aw(t,new lm))),t._onlineComponents}function hN(t){return KT(t).then((e=>e.syncEngine))}async function Rw(t){const e=await KT(t),n=e.eventManager;return n.onListen=Z1.bind(null,e.syncEngine),n.onUnlisten=X1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eN.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fN(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pw(t){if(!Se.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xw(t){if(Se.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nw(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RP;switch(r.type){case"firstParty":return new NP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Cw.get(n);r&&(_e("ComponentProvider","Removing Datastore"),Cw.delete(n),r.terminate())})(this),Promise.resolve()}}function pN(t,e,n,r={}){var s;const a=(t=xs(t,wh))._getSettings(),u=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=En.MOCK_USER;else{h=sA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new En(m)}t._authCredentials=new CP(new ZE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oo(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Ns extends Oo{constructor(e,n,r){super(e,n,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Se(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function Eh(t,e,...n){if(t=Sn(t),ZT("collection","path",e),t instanceof wh){const r=ht.fromString(e,...n);return xw(r),new Ns(t,null,r)}{if(!(t instanceof Hn||t instanceof Ns))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return xw(r),new Ns(t.firestore,null,r)}}function Th(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=JE.newId()),ZT("doc","path",e),t instanceof wh){const r=ht.fromString(e,...n);return Pw(r),new Hn(t,null,new Se(r))}{if(!(t instanceof Hn||t instanceof Ns))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return Pw(r),new Hn(t.firestore,t instanceof Ns?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NT(this,"async_queue_retry"),this.Vu=()=>{const r=Ap();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Io;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vu(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const s=(function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h})(r);throw Vi("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=sg.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(s),s}fu(){this.Eu&&Oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Ow(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Ya extends wh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Dw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dw(e),this._firestoreClient=void 0,await e}}}function mN(t,e){const n=typeof t=="object"?t:uE(),r=typeof t=="string"?t:"(default)",s=Rm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=rA("firestore");a&&pN(s,...a)}return s}function JT(t){if(t._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gN(t),t._firestoreClient}function gN(t){var e,n,r;const s=t._freezeSettings(),a=(function(h,f,m,v){return new WP(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,QT(v.experimentalLongPollingOptions),v.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new cN(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(dn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class vN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class YT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class dg{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(XT(this.Cu)&&yN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _N{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gh(e)}Qu(e,n,r,s=!1){return new dg({Cu:e,methodName:n,qu:r,path:un.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(t){const e=t._freezeSettings(),n=gh(t._databaseId);return new _N(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wN(t,e,n,r,s,a={}){const u=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);pg("Data must be an object, but it was:",u,r);const h=eI(r,u);let f,m;if(a.merge)f=new ir(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const S=um(e,E,n);if(!u.contains(S))throw new pe(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);nI(v,S)||v.push(S)}f=new ir(v),m=u.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,m=u.fieldTransforms;return new vN(new Wn(h),f,m)}class kh extends Sh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}class fg extends Sh{_toFieldTransform(e){return new gx(e.path,new vu)}isEqual(e){return e instanceof fg}}function EN(t,e,n,r){const s=t.Qu(1,e,n);pg("Data must be an object, but it was:",s,r);const a=[],u=Wn.empty();No(r,((f,m)=>{const v=mg(e,f,n);m=Sn(m);const E=s.Nu(v);if(m instanceof kh)a.push(v);else{const S=Uu(m,E);S!=null&&(a.push(v),u.set(v,S))}}));const h=new ir(a);return new YT(u,h,s.fieldTransforms)}function TN(t,e,n,r,s,a){const u=t.Qu(1,e,n),h=[um(e,r,n)],f=[s];if(a.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)h.push(um(e,a[S])),f.push(a[S+1]);const m=[],v=Wn.empty();for(let S=h.length-1;S>=0;--S)if(!nI(m,h[S])){const b=h[S];let F=f[S];F=Sn(F);const N=u.Nu(b);if(F instanceof kh)m.push(b);else{const D=Uu(F,N);D!=null&&(m.push(b),v.set(b,D))}}const E=new ir(m);return new YT(v,E,u.fieldTransforms)}function IN(t,e,n,r=!1){return Uu(n,t.Qu(r?4:3,e))}function Uu(t,e){if(tI(t=Sn(t)))return pg("Unsupported field value:",e,t),eI(t,e);if(t instanceof Sh)return(function(r,s){if(!XT(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const h of r){let f=Uu(h,s.Lu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fx(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:Hd(s.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hd(s.serializer,a)}}if(r instanceof ug)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xa)return{bytesValue:IT(s.serializer,r._byteString)};if(r instanceof Hn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cg)return(function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return Gm(h.serializer,f)}))}}}}}})(r,s);throw s.Bu(`Unsupported field value: ${_h(r)}`)})(t,e)}function eI(t,e){const n={};return YE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,((r,s)=>{const a=Uu(s,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function tI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof ug||t instanceof Xa||t instanceof Hn||t instanceof Sh||t instanceof cg)}function pg(t,e,n){if(!tI(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const r=_h(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function um(t,e,n){if((e=Sn(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return mg(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const SN=new RegExp("[~\\*/\\[\\]]");function mg(t,e,n){if(e.search(SN)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new pe(te.INVALID_ARGUMENT,h+t+f)}function nI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kN extends rI{data(){return super.data()}}function gg(t,e){return typeof e=="string"?mg(t,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class iI extends yg{}function vg(t,e,...n){let r=[];e instanceof yg&&r.push(e),r=r.concat(n),(function(a){const u=a.filter((f=>f instanceof wg)).length,h=a.filter((f=>f instanceof _g)).length;if(u>1||u>0&&h>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class _g extends iI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _g(e,n,r)}_apply(e){const n=this._parse(e);return sI(e._query,n),new Oo(e.firestore,e.converter,Xp(e._query,n))}_parse(e){const n=hg(e.firestore);return(function(a,u,h,f,m,v,E){let S;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Vw(E,v);const b=[];for(const F of E)b.push(Mw(f,a,F));S={arrayValue:{values:b}}}else S=Mw(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Vw(E,v),S=IN(h,u,E,v==="in"||v==="not-in");return Lt.create(m,v,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)sI(u,f),u=Xp(u,f)})(e._query,n),new Oo(e.firestore,e.converter,Xp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends iI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Eg(e,n)}_apply(e){const n=(function(s,a,u){if(s.startAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(a,u)})(e._query,this._field,this._direction);return new Oo(e.firestore,e.converter,(function(s,a){const u=s.explicitOrderBy.concat([a]);return new sl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function AN(t,e="asc"){const n=e,r=gg("orderBy",t);return Eg._create(r,n)}function Mw(t,e,n){if(typeof(n=Sn(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aT(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!Se.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tw(t,new Se(r))}if(n instanceof Hn)return tw(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function Vw(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sI(t,e){const n=(function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RN{convertValue(e,n="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((u=>Rt(u.doubleValue)));return new cg(a)}convertGeoPoint(e){return new ug(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$m(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Os(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);nt(CT(r));const s=new mu(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return s.isEqual(n)||Vi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oI extends rI{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cd extends oI{data(e={}){return super.data(e)}}class PN{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Cd(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new Cd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Yl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Cd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Yl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:xN(h.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}class aI extends RN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function lI(t,e,n,...r){t=xs(t,Hn);const s=xs(t.firestore,Ya),a=hg(s);let u;return u=typeof(e=Sn(e))=="string"||e instanceof Ih?TN(a,"updateDoc",t._key,e,n,r):EN(a,"updateDoc",t._key,e),Ig(s,[u.toMutation(t._key,jr.exists(!0))])}function NN(t){return Ig(xs(t.firestore,Ya),[new Km(t._key,jr.none())])}function DN(t,e){const n=xs(t.firestore,Ya),r=Th(t),s=CN(t.converter,e);return Ig(n,[wN(hg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then((()=>r))}function Tg(t,...e){var n,r,s;t=Sn(t);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Ow(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Ow(e[u])){const E=e[u];e[u]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[u+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[u+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let f,m,v;if(t instanceof Hn)m=xs(t.firestore,Ya),v=Hm(t._key.path),f={next:E=>{e[u]&&e[u](ON(m,t,E))},error:e[u+1],complete:e[u+2]};else{const E=xs(t,Oo);m=xs(E.firestore,Ya),v=E._query;const S=new aI(m);f={next:b=>{e[u]&&e[u](new PN(m,S,E,b))},error:e[u+1],complete:e[u+2]},bN(t._query)}return(function(S,b,F,N){const D=new uN(N),Z=new W1(b,D,F);return S.asyncQueue.enqueueAndForget((async()=>U1(await Rw(S),Z))),()=>{D.Za(),S.asyncQueue.enqueueAndForget((async()=>$1(await Rw(S),Z)))}})(JT(m),v,h,f)}function Ig(t,e){return(function(r,s){const a=new Io;return r.asyncQueue.enqueueAndForget((async()=>tN(await hN(r),s,a))),a.promise})(JT(t),e)}function ON(t,e,n){const r=n.docs.get(e._key),s=new aI(t);return new oI(t,s,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function uI(){return new fg("serverTimestamp")}(function(e,n=!0){(function(s){il=s})(nl),qa(new ko("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ya(new PP(r.getProvider("auth-internal")),new OP(r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(m.options.projectId,v)})(u,s),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ps(Z_,"4.7.3",e),Ps(Z_,"4.7.3","esm2017")})();const Lw={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function MN(){if(typeof window<"u"&&window.GLOBAL_FIREBASE_CONFIG&&window.GLOBAL_FIREBASE_CONFIG.apiKey)return window.GLOBAL_FIREBASE_CONFIG;try{if(import.meta&&Lw){const t=Lw,e={apiKey:t.VITE_FIREBASE_API_KEY,authDomain:t.VITE_FIREBASE_AUTH_DOMAIN,projectId:t.VITE_FIREBASE_PROJECT_ID,storageBucket:t.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:t.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:t.VITE_FIREBASE_APP_ID,measurementId:t.VITE_FIREBASE_MEASUREMENT_ID};if(e.apiKey)return e}}catch{}if(typeof __firebase_config<"u")try{return typeof __firebase_config=="object"?__firebase_config:JSON.parse(__firebase_config)}catch(t){return console.error("[Firebase] Config parse failed (legacy):",t),null}return console.error("[Firebase] All config sources failed. Check index.html injection."),null}const Pd=MN();if(!(Pd!=null&&Pd.apiKey)){const t="[Firebase] Configuration is missing or invalid. Application cannot start.";throw console.error(t),new Error(t)}let cm;R_().length>0?(cm=R_()[0],console.log("[Firebase] Using existing app instance.")):(cm=lE(Pd),console.log("[Firebase] Initialized new app instance."));const cI=cm,bh=bP(cI),Mo=mN(cI);function VN(){return typeof window<"u"&&window.GLOBAL_APP_ID?window.GLOBAL_APP_ID:typeof __app_id<"u"?__app_id:"default-app-id"}function ba(t){return`artifacts/${VN()}/users/${t}`}function Fw(t,e){return`${ba(t)}/workspaces/${e}`}const Vo={users:t=>ba(t),filters:t=>`${ba(t)}/filters`,labels:t=>`${ba(t)}/labels`,workspaces:t=>`${ba(t)}/workspaces`,timeblocks:t=>`${ba(t)}/timeblocks`,tasks:(t,e)=>`${Fw(t,e)}/tasks`,projects:(t,e)=>`${Fw(t,e)}/projects`};function LN(t,e){if(!t)return e([]),()=>{};const n=Vo.labels(t),r=vg(Eh(Mo,n));return Tg(r,s=>{const a=s.docs.map(u=>({id:u.id,...u.data()}));e(a)},s=>{console.error("[Labels] Subscription error:",s),e([])})}function FN(t,e){var s;const n=typeof t=="function"?t:e,r=(s=bh.currentUser)==null?void 0:s.uid;return r&&typeof n=="function"?LN(r,n):(typeof n=="function"&&n([]),()=>{})}function Y(t,e,n){function r(h,f){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:f,constr:u,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,f);const m=u.prototype,v=Object.keys(m);for(let E=0;E<v.length;E++){const S=v[E];S in h||(h[S]=m[S].bind(h))}}const s=(n==null?void 0:n.Parent)??Object;class a extends s{}Object.defineProperty(a,"name",{value:t});function u(h){var f;const m=n!=null&&n.Parent?new a:this;r(m,h),(f=m._zod).deferred??(f.deferred=[]);for(const v of m._zod.deferred)v();return m}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:h=>{var f,m;return n!=null&&n.Parent&&h instanceof n.Parent?!0:(m=(f=h==null?void 0:h._zod)==null?void 0:f.traits)==null?void 0:m.has(t)}}),Object.defineProperty(u,"name",{value:t}),u}class Oa extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class dI extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const hI={};function Po(t){return hI}function fI(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function dm(t,e){return typeof e=="bigint"?e.toString():e}function Sg(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function kg(t){return t==null}function bg(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function zN(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(s=Number.parseInt(f[1]))}const a=n>s?n:s,u=Number.parseInt(t.toFixed(a).replace(".","")),h=Number.parseInt(e.toFixed(a).replace(".",""));return u%h/10**a}const zw=Symbol("evaluating");function ut(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==zw)return r===void 0&&(r=zw,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function Lo(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Fo(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function jw(t){return JSON.stringify(t)}function jN(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const pI="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Zd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const UN=Sg(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Eu(t){if(Zd(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Zd(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function mI(t){return Eu(t)?{...t}:Array.isArray(t)?[...t]:t}const $N=new Set(["string","number","symbol"]);function Ah(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ls(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Ie(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function BN(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const qN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function WN(t,e){const n=t._zod.def,r=Fo(t._zod.def,{get shape(){const s={};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(s[a]=n.shape[a])}return Lo(this,"shape",s),s},checks:[]});return Ls(t,r)}function HN(t,e){const n=t._zod.def,r=Fo(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete s[a]}return Lo(this,"shape",s),s},checks:[]});return Ls(t,r)}function GN(t,e){if(!Eu(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Fo(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return Lo(this,"shape",a),a},checks:[]});return Ls(t,s)}function KN(t,e){if(!Eu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return Lo(this,"shape",r),r},checks:t._zod.def.checks};return Ls(t,n)}function QN(t,e){const n=Fo(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Lo(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Ls(t,n)}function ZN(t,e,n){const r=Fo(e._zod.def,{get shape(){const s=e._zod.def.shape,a={...s};if(n)for(const u in n){if(!(u in s))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(a[u]=t?new t({type:"optional",innerType:s[u]}):s[u])}else for(const u in s)a[u]=t?new t({type:"optional",innerType:s[u]}):s[u];return Lo(this,"shape",a),a},checks:[]});return Ls(e,r)}function JN(t,e,n){const r=Fo(e._zod.def,{get shape(){const s=e._zod.def.shape,a={...s};if(n)for(const u in n){if(!(u in a))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(a[u]=new t({type:"nonoptional",innerType:s[u]}))}else for(const u in s)a[u]=new t({type:"nonoptional",innerType:s[u]});return Lo(this,"shape",a),a},checks:[]});return Ls(e,r)}function Ca(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function gI(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function gd(t){return typeof t=="string"?t:t==null?void 0:t.message}function xo(t,e,n){var s,a,u,h,f,m;const r={...t,path:t.path??[]};if(!t.message){const v=gd((u=(a=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:a.error)==null?void 0:u.call(a,t))??gd((h=e==null?void 0:e.error)==null?void 0:h.call(e,t))??gd((f=n.customError)==null?void 0:f.call(n,t))??gd((m=n.localeError)==null?void 0:m.call(n,t))??"Invalid input";r.message=v}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function Ag(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Tu(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const yI=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,dm,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},vI=Y("$ZodError",yI),_I=Y("$ZodError",yI,{Parent:Error});function YN(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function XN(t,e=n=>n.message){const n={_errors:[]},r=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(u=>r({issues:u}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(e(a));else{let u=n,h=0;for(;h<a.path.length;){const f=a.path[h];h===a.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(e(a))):u[f]=u[f]||{_errors:[]},u=u[f],h++}}};return r(t),n}const Rg=t=>(e,n,r,s)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},a);if(u instanceof Promise)throw new Oa;if(u.issues.length){const h=new((s==null?void 0:s.Err)??t)(u.issues.map(f=>xo(f,a,Po())));throw pI(h,s==null?void 0:s.callee),h}return u.value},Cg=t=>async(e,n,r,s)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},a);if(u instanceof Promise&&(u=await u),u.issues.length){const h=new((s==null?void 0:s.Err)??t)(u.issues.map(f=>xo(f,a,Po())));throw pI(h,s==null?void 0:s.callee),h}return u.value},Rh=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new Oa;return a.issues.length?{success:!1,error:new(t??vI)(a.issues.map(u=>xo(u,s,Po())))}:{success:!0,data:a.value}},eD=Rh(_I),Ch=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},s);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(u=>xo(u,s,Po())))}:{success:!0,data:a.value}},tD=Ch(_I),nD=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Rg(t)(e,n,s)},rD=t=>(e,n,r)=>Rg(t)(e,n,r),iD=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cg(t)(e,n,s)},sD=t=>async(e,n,r)=>Cg(t)(e,n,r),oD=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Rh(t)(e,n,s)},aD=t=>(e,n,r)=>Rh(t)(e,n,r),lD=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ch(t)(e,n,s)},uD=t=>async(e,n,r)=>Ch(t)(e,n,r),cD=/^[cC][^\s-]{8,}$/,dD=/^[0-9a-z]+$/,hD=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,fD=/^[0-9a-vA-V]{20}$/,pD=/^[A-Za-z0-9]{27}$/,mD=/^[a-zA-Z0-9_-]{21}$/,gD=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,yD=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Uw=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,vD=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_D="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function wD(){return new RegExp(_D,"u")}const ED=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ID=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,SD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kD=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wI=/^[A-Za-z0-9_-]*$/,bD=/^\+(?:[0-9]){6,14}[0-9]$/,EI="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",AD=new RegExp(`^${EI}$`);function TI(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function RD(t){return new RegExp(`^${TI(t)}$`)}function CD(t){const e=TI({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${EI}T(?:${r})$`)}const PD=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},xD=/^-?\d+$/,ND=/^-?\d+(?:\.\d+)?/,DD=/^[^A-Z]*$/,OD=/^[^a-z]*$/,Gn=Y("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),II={number:"number",bigint:"bigint",object:"date"},SI=Y("$ZodCheckLessThan",(t,e)=>{Gn.init(t,e);const n=II[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,a=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),kI=Y("$ZodCheckGreaterThan",(t,e)=>{Gn.init(t,e);const n=II[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,a=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),MD=Y("$ZodCheckMultipleOf",(t,e)=>{Gn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):zN(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),VD=Y("$ZodCheckNumberFormat",(t,e)=>{var u;Gn.init(t,e),e.format=e.format||"float64";const n=(u=e.format)==null?void 0:u.includes("int"),r=n?"int":"number",[s,a]=qN[e.format];t._zod.onattach.push(h=>{const f=h._zod.bag;f.format=e.format,f.minimum=s,f.maximum=a,n&&(f.pattern=xD)}),t._zod.check=h=>{const f=h.value;if(n){if(!Number.isInteger(f)){h.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:f,inst:t});return}if(!Number.isSafeInteger(f)){f>0?h.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):h.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}f<s&&h.issues.push({origin:"number",input:f,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),f>a&&h.issues.push({origin:"number",input:f,code:"too_big",maximum:a,inst:t})}}),LD=Y("$ZodCheckMaxLength",(t,e)=>{var n;Gn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!kg(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const u=Ag(s);r.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),FD=Y("$ZodCheckMinLength",(t,e)=>{var n;Gn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!kg(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const u=Ag(s);r.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),zD=Y("$ZodCheckLengthEquals",(t,e)=>{var n;Gn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!kg(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,a=s.length;if(a===e.length)return;const u=Ag(s),h=a>e.length;r.issues.push({origin:u,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Ph=Y("$ZodCheckStringFormat",(t,e)=>{var n,r;Gn.init(t,e),t._zod.onattach.push(s=>{const a=s._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),jD=Y("$ZodCheckRegex",(t,e)=>{Ph.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),UD=Y("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=DD),Ph.init(t,e)}),$D=Y("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=OD),Ph.init(t,e)}),BD=Y("$ZodCheckIncludes",(t,e)=>{Gn.init(t,e);const n=Ah(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),qD=Y("$ZodCheckStartsWith",(t,e)=>{Gn.init(t,e);const n=new RegExp(`^${Ah(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),WD=Y("$ZodCheckEndsWith",(t,e)=>{Gn.init(t,e);const n=new RegExp(`.*${Ah(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),HD=Y("$ZodCheckOverwrite",(t,e)=>{Gn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class GD{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(u=>u),s=Math.min(...r.map(u=>u.length-u.trimStart().length)),a=r.map(u=>u.slice(s)).map(u=>" ".repeat(this.indent*2)+u);for(const u of a)this.content.push(u)}compile(){const e=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...n,s.join(`
`))}}const KD={major:4,minor:2,patch:1},Ct=Y("$ZodType",(t,e)=>{var s;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=KD;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const u of a._zod.onattach)u(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(s=t._zod.deferred)==null||s.push(()=>{t._zod.run=t._zod.parse});else{const a=(h,f,m)=>{let v=Ca(h),E;for(const S of f){if(S._zod.def.when){if(!S._zod.def.when(h))continue}else if(v)continue;const b=h.issues.length,F=S._zod.check(h);if(F instanceof Promise&&(m==null?void 0:m.async)===!1)throw new Oa;if(E||F instanceof Promise)E=(E??Promise.resolve()).then(async()=>{await F,h.issues.length!==b&&(v||(v=Ca(h,b)))});else{if(h.issues.length===b)continue;v||(v=Ca(h,b))}}return E?E.then(()=>h):h},u=(h,f,m)=>{if(Ca(h))return h.aborted=!0,h;const v=a(f,r,m);if(v instanceof Promise){if(m.async===!1)throw new Oa;return v.then(E=>t._zod.parse(E,m))}return t._zod.parse(v,m)};t._zod.run=(h,f)=>{if(f.skipChecks)return t._zod.parse(h,f);if(f.direction==="backward"){const v=t._zod.parse({value:h.value,issues:[]},{...f,skipChecks:!0});return v instanceof Promise?v.then(E=>u(E,h,f)):u(v,h,f)}const m=t._zod.parse(h,f);if(m instanceof Promise){if(f.async===!1)throw new Oa;return m.then(v=>a(v,r,f))}return a(m,r,f)}}t["~standard"]={validate:a=>{var u;try{const h=eD(t,a);return h.success?{value:h.data}:{issues:(u=h.error)==null?void 0:u.issues}}catch{return tD(t,a).then(f=>{var m;return f.success?{value:f.data}:{issues:(m=f.error)==null?void 0:m.issues}})}},vendor:"zod",version:1}}),Pg=Y("$ZodString",(t,e)=>{var n;Ct.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??PD(t._zod.bag),t._zod.parse=(r,s)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),gt=Y("$ZodStringFormat",(t,e)=>{Ph.init(t,e),Pg.init(t,e)}),QD=Y("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=yD),gt.init(t,e)}),ZD=Y("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Uw(r))}else e.pattern??(e.pattern=Uw());gt.init(t,e)}),JD=Y("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=vD),gt.init(t,e)}),YD=Y("$ZodURL",(t,e)=>{gt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),XD=Y("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=wD()),gt.init(t,e)}),eO=Y("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=mD),gt.init(t,e)}),tO=Y("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=cD),gt.init(t,e)}),nO=Y("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=dD),gt.init(t,e)}),rO=Y("$ZodULID",(t,e)=>{e.pattern??(e.pattern=hD),gt.init(t,e)}),iO=Y("$ZodXID",(t,e)=>{e.pattern??(e.pattern=fD),gt.init(t,e)}),sO=Y("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=pD),gt.init(t,e)}),oO=Y("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=CD(e)),gt.init(t,e)}),aO=Y("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=AD),gt.init(t,e)}),lO=Y("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=RD(e)),gt.init(t,e)}),uO=Y("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=gD),gt.init(t,e)}),cO=Y("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=ED),gt.init(t,e),t._zod.bag.format="ipv4"}),dO=Y("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=TD),gt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),hO=Y("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=ID),gt.init(t,e)}),fO=Y("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=SD),gt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,a]=r;if(!a)throw new Error;const u=Number(a);if(`${u}`!==a)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function bI(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const pO=Y("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=kD),gt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{bI(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function mO(t){if(!wI.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return bI(n)}const gO=Y("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=wI),gt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{mO(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),yO=Y("$ZodE164",(t,e)=>{e.pattern??(e.pattern=bD),gt.init(t,e)});function vO(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const _O=Y("$ZodJWT",(t,e)=>{gt.init(t,e),t._zod.check=n=>{vO(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),AI=Y("$ZodNumber",(t,e)=>{Ct.init(t,e),t._zod.pattern=t._zod.bag.pattern??ND,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const a=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...a?{received:a}:{}}),n}}),wO=Y("$ZodNumberFormat",(t,e)=>{VD.init(t,e),AI.init(t,e)}),EO=Y("$ZodUnknown",(t,e)=>{Ct.init(t,e),t._zod.parse=n=>n}),TO=Y("$ZodNever",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),IO=Y("$ZodDate",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const s=n.value,a=s instanceof Date;return a&&!Number.isNaN(s.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:s,...a?{received:"Invalid Date"}:{},inst:t}),n}});function $w(t,e,n){t.issues.length&&e.issues.push(...gI(n,t.issues)),e.value[n]=t.value}const SO=Y("$ZodArray",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const a=[];for(let u=0;u<s.length;u++){const h=s[u],f=e.element._zod.run({value:h,issues:[]},r);f instanceof Promise?a.push(f.then(m=>$w(m,n,u))):$w(f,n,u)}return a.length?Promise.all(a).then(()=>n):n}});function Jd(t,e,n,r){t.issues.length&&e.issues.push(...gI(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function RI(t){var r,s,a,u;const e=Object.keys(t.shape);for(const h of e)if(!((u=(a=(s=(r=t.shape)==null?void 0:r[h])==null?void 0:s._zod)==null?void 0:a.traits)!=null&&u.has("$ZodType")))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const n=BN(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function CI(t,e,n,r,s,a){const u=[],h=s.keySet,f=s.catchall._zod,m=f.def.type;for(const v in e){if(h.has(v))continue;if(m==="never"){u.push(v);continue}const E=f.run({value:e[v],issues:[]},r);E instanceof Promise?t.push(E.then(S=>Jd(S,n,v,e))):Jd(E,n,v,e)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:a}),t.length?Promise.all(t).then(()=>n):n}const kO=Y("$ZodObject",(t,e)=>{Ct.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...h};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Sg(()=>RI(e));ut(t._zod,"propValues",()=>{const h=e.shape,f={};for(const m in h){const v=h[m]._zod;if(v.values){f[m]??(f[m]=new Set);for(const E of v.values)f[m].add(E)}}return f});const s=Zd,a=e.catchall;let u;t._zod.parse=(h,f)=>{u??(u=r.value);const m=h.value;if(!s(m))return h.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),h;h.value={};const v=[],E=u.shape;for(const S of u.keys){const F=E[S]._zod.run({value:m[S],issues:[]},f);F instanceof Promise?v.push(F.then(N=>Jd(N,h,S,m))):Jd(F,h,S,m)}return a?CI(v,m,h,f,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),bO=Y("$ZodObjectJIT",(t,e)=>{kO.init(t,e);const n=t._zod.parse,r=Sg(()=>RI(e)),s=S=>{const b=new GD(["shape","payload","ctx"]),F=r.value,N=G=>{const ee=jw(G);return`shape[${ee}]._zod.run({ value: input[${ee}], issues: [] }, ctx)`};b.write("const input = payload.value;");const D=Object.create(null);let Z=0;for(const G of F.keys)D[G]=`key_${Z++}`;b.write("const newResult = {};");for(const G of F.keys){const ee=D[G],X=jw(G);b.write(`const ${ee} = ${N(G)};`),b.write(`
        if (${ee}.issues.length) {
          payload.issues = payload.issues.concat(${ee}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${X}, ...iss.path] : [${X}]
          })));
        }
        
        
        if (${ee}.value === undefined) {
          if (${X} in input) {
            newResult[${X}] = undefined;
          }
        } else {
          newResult[${X}] = ${ee}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const J=b.compile();return(G,ee)=>J(S,G,ee)};let a;const u=Zd,h=!hI.jitless,m=h&&UN.value,v=e.catchall;let E;t._zod.parse=(S,b)=>{E??(E=r.value);const F=S.value;return u(F)?h&&m&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(a||(a=s(e.shape)),S=a(S,b),v?CI([],F,S,b,E,t):S):n(S,b):(S.issues.push({expected:"object",code:"invalid_type",input:F,inst:t}),S)}});function Bw(t,e,n,r){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const s=t.filter(a=>!Ca(a));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(u=>xo(u,r,Po())))}),e)}const AO=Y("$ZodUnion",(t,e)=>{Ct.init(t,e),ut(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),ut(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),ut(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),ut(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${s.map(a=>bg(a.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,a)=>{if(n)return r(s,a);let u=!1;const h=[];for(const f of e.options){const m=f._zod.run({value:s.value,issues:[]},a);if(m instanceof Promise)h.push(m),u=!0;else{if(m.issues.length===0)return m;h.push(m)}}return u?Promise.all(h).then(f=>Bw(f,s,t,a)):Bw(h,s,t,a)}}),RO=Y("$ZodIntersection",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,a=e.left._zod.run({value:s,issues:[]},r),u=e.right._zod.run({value:s,issues:[]},r);return a instanceof Promise||u instanceof Promise?Promise.all([a,u]).then(([f,m])=>qw(n,f,m)):qw(n,a,u)}});function hm(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Eu(t)&&Eu(e)){const n=Object.keys(e),r=Object.keys(t).filter(a=>n.indexOf(a)!==-1),s={...t,...e};for(const a of r){const u=hm(t[a],e[a]);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};s[a]=u.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],a=e[r],u=hm(s,a);if(!u.valid)return{valid:!1,mergeErrorPath:[r,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function qw(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Ca(t))return t;const r=hm(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const CO=Y("$ZodEnum",(t,e)=>{Ct.init(t,e);const n=fI(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>$N.has(typeof s)).map(s=>typeof s=="string"?Ah(s):s.toString()).join("|")})$`),t._zod.parse=(s,a)=>{const u=s.value;return r.has(u)||s.issues.push({code:"invalid_value",values:n,input:u,inst:t}),s}}),PO=Y("$ZodTransform",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new dI(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(u=>(n.value=u,n));if(s instanceof Promise)throw new Oa;return n.value=s,n}});function Ww(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const xO=Y("$ZodOptional",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ut(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ut(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${bg(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>Ww(a,n.value)):Ww(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),NO=Y("$ZodNullable",(t,e)=>{Ct.init(t,e),ut(t._zod,"optin",()=>e.innerType._zod.optin),ut(t._zod,"optout",()=>e.innerType._zod.optout),ut(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${bg(n.source)}|null)$`):void 0}),ut(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),DO=Y("$ZodDefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",ut(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>Hw(a,e)):Hw(s,e)}});function Hw(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const OO=Y("$ZodPrefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",ut(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),MO=Y("$ZodNonOptional",(t,e)=>{Ct.init(t,e),ut(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>Gw(a,t)):Gw(s,t)}});function Gw(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const VO=Y("$ZodCatch",(t,e)=>{Ct.init(t,e),ut(t._zod,"optin",()=>e.innerType._zod.optin),ut(t._zod,"optout",()=>e.innerType._zod.optout),ut(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(u=>xo(u,r,Po()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(a=>xo(a,r,Po()))},input:n.value}),n.issues=[]),n)}}),LO=Y("$ZodPipe",(t,e)=>{Ct.init(t,e),ut(t._zod,"values",()=>e.in._zod.values),ut(t._zod,"optin",()=>e.in._zod.optin),ut(t._zod,"optout",()=>e.out._zod.optout),ut(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=e.out._zod.run(n,r);return a instanceof Promise?a.then(u=>yd(u,e.in,r)):yd(a,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(a=>yd(a,e.out,r)):yd(s,e.out,r)}});function yd(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const FO=Y("$ZodReadonly",(t,e)=>{Ct.init(t,e),ut(t._zod,"propValues",()=>e.innerType._zod.propValues),ut(t._zod,"values",()=>e.innerType._zod.values),ut(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),ut(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(Kw):Kw(s)}});function Kw(t){return t.value=Object.freeze(t.value),t}const zO=Y("$ZodCustom",(t,e)=>{Gn.init(t,e),Ct.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(a=>Qw(a,n,r,t));Qw(s,n,r,t)}});function Qw(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Tu(s))}}var Zw;class jO{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function UO(){return new jO}(Zw=globalThis).__zod_globalRegistry??(Zw.__zod_globalRegistry=UO());const Xl=globalThis.__zod_globalRegistry;function $O(t,e){return new t({type:"string",...Ie(e)})}function BO(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ie(e)})}function Jw(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ie(e)})}function qO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ie(e)})}function WO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ie(e)})}function HO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ie(e)})}function GO(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ie(e)})}function KO(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ie(e)})}function QO(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ie(e)})}function ZO(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ie(e)})}function JO(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ie(e)})}function YO(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ie(e)})}function XO(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ie(e)})}function e2(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ie(e)})}function t2(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ie(e)})}function n2(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ie(e)})}function r2(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ie(e)})}function i2(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ie(e)})}function s2(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ie(e)})}function o2(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ie(e)})}function a2(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ie(e)})}function l2(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ie(e)})}function u2(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ie(e)})}function c2(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ie(e)})}function d2(t,e){return new t({type:"string",format:"date",check:"string_format",...Ie(e)})}function h2(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ie(e)})}function f2(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ie(e)})}function p2(t,e){return new t({type:"number",checks:[],...Ie(e)})}function m2(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ie(e)})}function g2(t){return new t({type:"unknown"})}function y2(t,e){return new t({type:"never",...Ie(e)})}function v2(t,e){return new t({type:"date",...Ie(e)})}function Yw(t,e){return new SI({check:"less_than",...Ie(e),value:t,inclusive:!1})}function xd(t,e){return new SI({check:"less_than",...Ie(e),value:t,inclusive:!0})}function Xw(t,e){return new kI({check:"greater_than",...Ie(e),value:t,inclusive:!1})}function Nd(t,e){return new kI({check:"greater_than",...Ie(e),value:t,inclusive:!0})}function e0(t,e){return new MD({check:"multiple_of",...Ie(e),value:t})}function PI(t,e){return new LD({check:"max_length",...Ie(e),maximum:t})}function Yd(t,e){return new FD({check:"min_length",...Ie(e),minimum:t})}function xI(t,e){return new zD({check:"length_equals",...Ie(e),length:t})}function _2(t,e){return new jD({check:"string_format",format:"regex",...Ie(e),pattern:t})}function w2(t){return new UD({check:"string_format",format:"lowercase",...Ie(t)})}function E2(t){return new $D({check:"string_format",format:"uppercase",...Ie(t)})}function T2(t,e){return new BD({check:"string_format",format:"includes",...Ie(e),includes:t})}function I2(t,e){return new qD({check:"string_format",format:"starts_with",...Ie(e),prefix:t})}function S2(t,e){return new WD({check:"string_format",format:"ends_with",...Ie(e),suffix:t})}function ll(t){return new HD({check:"overwrite",tx:t})}function k2(t){return ll(e=>e.normalize(t))}function b2(){return ll(t=>t.trim())}function A2(){return ll(t=>t.toLowerCase())}function R2(){return ll(t=>t.toUpperCase())}function C2(){return ll(t=>jN(t))}function P2(t,e,n){return new t({type:"array",element:e,...Ie(n)})}function x2(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ie(n)})}function N2(t){const e=D2(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Tu(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(Tu(s))}},t(n.value,n)));return e}function D2(t,e){const n=new Gn({check:"custom",...Ie(e)});return n._zod.check=t,n}function NI(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??Xl,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function hn(t,e,n={path:[],schemaPath:[]}){var v,E;var r;const s=t._zod.def,a=e.seen.get(t);if(a)return a.count++,n.schemaPath.includes(t)&&(a.cycle=n.path),a.schema;const u={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,u);const h=(E=(v=t._zod).toJSONSchema)==null?void 0:E.call(v);if(h)u.schema=h;else{const S={...n,schemaPath:[...n.schemaPath,t],path:n.path},b=t._zod.parent;if(b)u.ref=b,hn(b,e,S),e.seen.get(b).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,u.schema,S);else{const F=u.schema,N=e.processors[s.type];if(!N)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);N(t,e,F,S)}}const f=e.metadataRegistry.get(t);return f&&Object.assign(u.schema,f),e.io==="input"&&xn(t)&&(delete u.schema.examples,delete u.schema.default),e.io==="input"&&u.schema._prefault&&((r=u.schema).default??(r.default=u.schema._prefault)),delete u.schema._prefault,e.seen.get(t).schema}function DI(t,e){var a,u,h;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=f=>{var b;const m=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const F=(b=t.external.registry.get(f[0]))==null?void 0:b.id,N=t.external.uri??(Z=>Z);if(F)return{ref:N(F)};const D=f[1].defId??f[1].schema.id??`schema${t.counter++}`;return f[1].defId=D,{defId:D,ref:`${N("__shared")}#/${m}/${D}`}}if(f[1]===n)return{ref:"#"};const E=`#/${m}/`,S=f[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:E+S}},s=f=>{if(f[1].schema.$ref)return;const m=f[1],{ref:v,defId:E}=r(f);m.def={...m.schema},E&&(m.defId=E);const S=m.schema;for(const b in S)delete S[b];S.$ref=v};if(t.cycles==="throw")for(const f of t.seen.entries()){const m=f[1];if(m.cycle)throw new Error(`Cycle detected: #/${(a=m.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of t.seen.entries()){const m=f[1];if(e===f[0]){s(f);continue}if(t.external){const E=(u=t.external.registry.get(f[0]))==null?void 0:u.id;if(e!==f[0]&&E){s(f);continue}}if((h=t.metadataRegistry.get(f[0]))==null?void 0:h.id){s(f);continue}if(m.cycle){s(f);continue}if(m.count>1&&t.reused==="ref"){s(f);continue}}}function OI(t,e){var u,h,f;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=m=>{const v=t.seen.get(m),E=v.def??v.schema,S={...E};if(v.ref===null)return;const b=v.ref;if(v.ref=null,b){r(b);const F=t.seen.get(b).schema;F.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(E.allOf=E.allOf??[],E.allOf.push(F)):(Object.assign(E,F),Object.assign(E,S))}v.isParent||t.override({zodSchema:m,jsonSchema:E,path:v.path??[]})};for(const m of[...t.seen.entries()].reverse())r(m[0]);const s={};if(t.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":t.target,(u=t.external)!=null&&u.uri){const m=(h=t.external.registry.get(e))==null?void 0:h.id;if(!m)throw new Error("Schema is missing an `id` property");s.$id=t.external.uri(m)}Object.assign(s,n.def??n.schema);const a=((f=t.external)==null?void 0:f.defs)??{};for(const m of t.seen.entries()){const v=m[1];v.def&&v.defId&&(a[v.defId]=v.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?s.$defs=a:s.definitions=a);try{const m=JSON.parse(JSON.stringify(s));return Object.defineProperty(m,"~standard",{value:{...e["~standard"],jsonSchema:{input:Xd(e,"input"),output:Xd(e,"output")}},enumerable:!1,writable:!1}),m}catch{throw new Error("Error converting schema to JSON.")}}function xn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return xn(r.element,n);if(r.type==="set")return xn(r.valueType,n);if(r.type==="lazy")return xn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return xn(r.innerType,n);if(r.type==="intersection")return xn(r.left,n)||xn(r.right,n);if(r.type==="record"||r.type==="map")return xn(r.keyType,n)||xn(r.valueType,n);if(r.type==="pipe")return xn(r.in,n)||xn(r.out,n);if(r.type==="object"){for(const s in r.shape)if(xn(r.shape[s],n))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(xn(s,n))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(xn(s,n))return!0;return!!(r.rest&&xn(r.rest,n))}return!1}const O2=(t,e={})=>n=>{const r=NI({...n,processors:e});return hn(t,r),DI(r,t),OI(r,t)},Xd=(t,e)=>n=>{const{libraryOptions:r,target:s}=n??{},a=NI({...r??{},target:s,io:e,processors:{}});return hn(t,a),DI(a,t),OI(a,t)},M2={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},V2=(t,e,n,r)=>{const s=n;s.type="string";const{minimum:a,maximum:u,format:h,patterns:f,contentEncoding:m}=t._zod.bag;if(typeof a=="number"&&(s.minLength=a),typeof u=="number"&&(s.maxLength=u),h&&(s.format=M2[h]??h,s.format===""&&delete s.format),m&&(s.contentEncoding=m),f&&f.size>0){const v=[...f];v.length===1?s.pattern=v[0].source:v.length>1&&(s.allOf=[...v.map(E=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:E.source}))])}},L2=(t,e,n,r)=>{const s=n,{minimum:a,maximum:u,format:h,multipleOf:f,exclusiveMaximum:m,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?s.type="integer":s.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.minimum=v,s.exclusiveMinimum=!0):s.exclusiveMinimum=v),typeof a=="number"&&(s.minimum=a,typeof v=="number"&&e.target!=="draft-04"&&(v>=a?delete s.minimum:delete s.exclusiveMinimum)),typeof m=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.maximum=m,s.exclusiveMaximum=!0):s.exclusiveMaximum=m),typeof u=="number"&&(s.maximum=u,typeof m=="number"&&e.target!=="draft-04"&&(m<=u?delete s.maximum:delete s.exclusiveMaximum)),typeof f=="number"&&(s.multipleOf=f)},F2=(t,e,n,r)=>{n.not={}},z2=(t,e,n,r)=>{},j2=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},U2=(t,e,n,r)=>{const s=t._zod.def,a=fI(s.entries);a.every(u=>typeof u=="number")&&(n.type="number"),a.every(u=>typeof u=="string")&&(n.type="string"),n.enum=a},$2=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},B2=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},q2=(t,e,n,r)=>{const s=n,a=t._zod.def,{minimum:u,maximum:h}=t._zod.bag;typeof u=="number"&&(s.minItems=u),typeof h=="number"&&(s.maxItems=h),s.type="array",s.items=hn(a.element,e,{...r,path:[...r.path,"items"]})},W2=(t,e,n,r)=>{var m;const s=n,a=t._zod.def;s.type="object",s.properties={};const u=a.shape;for(const v in u)s.properties[v]=hn(u[v],e,{...r,path:[...r.path,"properties",v]});const h=new Set(Object.keys(u)),f=new Set([...h].filter(v=>{const E=a.shape[v]._zod;return e.io==="input"?E.optin===void 0:E.optout===void 0}));f.size>0&&(s.required=Array.from(f)),((m=a.catchall)==null?void 0:m._zod.def.type)==="never"?s.additionalProperties=!1:a.catchall?a.catchall&&(s.additionalProperties=hn(a.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(s.additionalProperties=!1)},H2=(t,e,n,r)=>{const s=t._zod.def,a=s.inclusive===!1,u=s.options.map((h,f)=>hn(h,e,{...r,path:[...r.path,a?"oneOf":"anyOf",f]}));a?n.oneOf=u:n.anyOf=u},G2=(t,e,n,r)=>{const s=t._zod.def,a=hn(s.left,e,{...r,path:[...r.path,"allOf",0]}),u=hn(s.right,e,{...r,path:[...r.path,"allOf",1]}),h=m=>"allOf"in m&&Object.keys(m).length===1,f=[...h(a)?a.allOf:[a],...h(u)?u.allOf:[u]];n.allOf=f},K2=(t,e,n,r)=>{const s=t._zod.def,a=hn(s.innerType,e,r),u=e.seen.get(t);e.target==="openapi-3.0"?(u.ref=s.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},Q2=(t,e,n,r)=>{const s=t._zod.def;hn(s.innerType,e,r);const a=e.seen.get(t);a.ref=s.innerType},Z2=(t,e,n,r)=>{const s=t._zod.def;hn(s.innerType,e,r);const a=e.seen.get(t);a.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},J2=(t,e,n,r)=>{const s=t._zod.def;hn(s.innerType,e,r);const a=e.seen.get(t);a.ref=s.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},Y2=(t,e,n,r)=>{const s=t._zod.def;hn(s.innerType,e,r);const a=e.seen.get(t);a.ref=s.innerType;let u;try{u=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=u},X2=(t,e,n,r)=>{const s=t._zod.def,a=e.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;hn(a,e,r);const u=e.seen.get(t);u.ref=a},eM=(t,e,n,r)=>{const s=t._zod.def;hn(s.innerType,e,r);const a=e.seen.get(t);a.ref=s.innerType,n.readOnly=!0},tM=(t,e,n,r)=>{const s=t._zod.def;hn(s.innerType,e,r);const a=e.seen.get(t);a.ref=s.innerType},nM=Y("ZodISODateTime",(t,e)=>{oO.init(t,e),wt.init(t,e)});function rM(t){return c2(nM,t)}const iM=Y("ZodISODate",(t,e)=>{aO.init(t,e),wt.init(t,e)});function sM(t){return d2(iM,t)}const oM=Y("ZodISOTime",(t,e)=>{lO.init(t,e),wt.init(t,e)});function aM(t){return h2(oM,t)}const lM=Y("ZodISODuration",(t,e)=>{uO.init(t,e),wt.init(t,e)});function uM(t){return f2(lM,t)}const cM=(t,e)=>{vI.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>XN(t,n)},flatten:{value:n=>YN(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,dm,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,dm,2)}},isEmpty:{get(){return t.issues.length===0}}})},_r=Y("ZodError",cM,{Parent:Error}),dM=Rg(_r),hM=Cg(_r),fM=Rh(_r),pM=Ch(_r),mM=nD(_r),gM=rD(_r),yM=iD(_r),vM=sD(_r),_M=oD(_r),wM=aD(_r),EM=lD(_r),TM=uD(_r),Ft=Y("ZodType",(t,e)=>(Ct.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Xd(t,"input"),output:Xd(t,"output")}}),t.toJSONSchema=O2(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Fo(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>Ls(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>dM(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>fM(t,n,r),t.parseAsync=async(n,r)=>hM(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>pM(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>mM(t,n,r),t.decode=(n,r)=>gM(t,n,r),t.encodeAsync=async(n,r)=>yM(t,n,r),t.decodeAsync=async(n,r)=>vM(t,n,r),t.safeEncode=(n,r)=>_M(t,n,r),t.safeDecode=(n,r)=>wM(t,n,r),t.safeEncodeAsync=async(n,r)=>EM(t,n,r),t.safeDecodeAsync=async(n,r)=>TM(t,n,r),t.refine=(n,r)=>t.check(dV(n,r)),t.superRefine=n=>t.check(hV(n)),t.overwrite=n=>t.check(ll(n)),t.optional=()=>i0(t),t.nullable=()=>s0(t),t.nullish=()=>i0(s0(t)),t.nonoptional=n=>sV(t,n),t.array=()=>Ng(t),t.or=n=>LI([t,n]),t.and=n=>JM(t,n),t.transform=n=>o0(t,XM(n)),t.default=n=>nV(t,n),t.prefault=n=>iV(t,n),t.catch=n=>aV(t,n),t.pipe=n=>o0(t,n),t.readonly=()=>cV(t),t.describe=n=>{const r=t.clone();return Xl.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=Xl.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Xl.get(t);const r=t.clone();return Xl.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),MI=Y("_ZodString",(t,e)=>{Pg.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(r,s,a)=>V2(t,r,s);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(_2(...r)),t.includes=(...r)=>t.check(T2(...r)),t.startsWith=(...r)=>t.check(I2(...r)),t.endsWith=(...r)=>t.check(S2(...r)),t.min=(...r)=>t.check(Yd(...r)),t.max=(...r)=>t.check(PI(...r)),t.length=(...r)=>t.check(xI(...r)),t.nonempty=(...r)=>t.check(Yd(1,...r)),t.lowercase=r=>t.check(w2(r)),t.uppercase=r=>t.check(E2(r)),t.trim=()=>t.check(b2()),t.normalize=(...r)=>t.check(k2(...r)),t.toLowerCase=()=>t.check(A2()),t.toUpperCase=()=>t.check(R2()),t.slugify=()=>t.check(C2())}),IM=Y("ZodString",(t,e)=>{Pg.init(t,e),MI.init(t,e),t.email=n=>t.check(BO(SM,n)),t.url=n=>t.check(KO(kM,n)),t.jwt=n=>t.check(u2(jM,n)),t.emoji=n=>t.check(QO(bM,n)),t.guid=n=>t.check(Jw(t0,n)),t.uuid=n=>t.check(qO(vd,n)),t.uuidv4=n=>t.check(WO(vd,n)),t.uuidv6=n=>t.check(HO(vd,n)),t.uuidv7=n=>t.check(GO(vd,n)),t.nanoid=n=>t.check(ZO(AM,n)),t.guid=n=>t.check(Jw(t0,n)),t.cuid=n=>t.check(JO(RM,n)),t.cuid2=n=>t.check(YO(CM,n)),t.ulid=n=>t.check(XO(PM,n)),t.base64=n=>t.check(o2(LM,n)),t.base64url=n=>t.check(a2(FM,n)),t.xid=n=>t.check(e2(xM,n)),t.ksuid=n=>t.check(t2(NM,n)),t.ipv4=n=>t.check(n2(DM,n)),t.ipv6=n=>t.check(r2(OM,n)),t.cidrv4=n=>t.check(i2(MM,n)),t.cidrv6=n=>t.check(s2(VM,n)),t.e164=n=>t.check(l2(zM,n)),t.datetime=n=>t.check(rM(n)),t.date=n=>t.check(sM(n)),t.time=n=>t.check(aM(n)),t.duration=n=>t.check(uM(n))});function lt(t){return $O(IM,t)}const wt=Y("ZodStringFormat",(t,e)=>{gt.init(t,e),MI.init(t,e)}),SM=Y("ZodEmail",(t,e)=>{JD.init(t,e),wt.init(t,e)}),t0=Y("ZodGUID",(t,e)=>{QD.init(t,e),wt.init(t,e)}),vd=Y("ZodUUID",(t,e)=>{ZD.init(t,e),wt.init(t,e)}),kM=Y("ZodURL",(t,e)=>{YD.init(t,e),wt.init(t,e)}),bM=Y("ZodEmoji",(t,e)=>{XD.init(t,e),wt.init(t,e)}),AM=Y("ZodNanoID",(t,e)=>{eO.init(t,e),wt.init(t,e)}),RM=Y("ZodCUID",(t,e)=>{tO.init(t,e),wt.init(t,e)}),CM=Y("ZodCUID2",(t,e)=>{nO.init(t,e),wt.init(t,e)}),PM=Y("ZodULID",(t,e)=>{rO.init(t,e),wt.init(t,e)}),xM=Y("ZodXID",(t,e)=>{iO.init(t,e),wt.init(t,e)}),NM=Y("ZodKSUID",(t,e)=>{sO.init(t,e),wt.init(t,e)}),DM=Y("ZodIPv4",(t,e)=>{cO.init(t,e),wt.init(t,e)}),OM=Y("ZodIPv6",(t,e)=>{dO.init(t,e),wt.init(t,e)}),MM=Y("ZodCIDRv4",(t,e)=>{hO.init(t,e),wt.init(t,e)}),VM=Y("ZodCIDRv6",(t,e)=>{fO.init(t,e),wt.init(t,e)}),LM=Y("ZodBase64",(t,e)=>{pO.init(t,e),wt.init(t,e)}),FM=Y("ZodBase64URL",(t,e)=>{gO.init(t,e),wt.init(t,e)}),zM=Y("ZodE164",(t,e)=>{yO.init(t,e),wt.init(t,e)}),jM=Y("ZodJWT",(t,e)=>{_O.init(t,e),wt.init(t,e)}),VI=Y("ZodNumber",(t,e)=>{AI.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(r,s,a)=>L2(t,r,s),t.gt=(r,s)=>t.check(Xw(r,s)),t.gte=(r,s)=>t.check(Nd(r,s)),t.min=(r,s)=>t.check(Nd(r,s)),t.lt=(r,s)=>t.check(Yw(r,s)),t.lte=(r,s)=>t.check(xd(r,s)),t.max=(r,s)=>t.check(xd(r,s)),t.int=r=>t.check(n0(r)),t.safe=r=>t.check(n0(r)),t.positive=r=>t.check(Xw(0,r)),t.nonnegative=r=>t.check(Nd(0,r)),t.negative=r=>t.check(Yw(0,r)),t.nonpositive=r=>t.check(xd(0,r)),t.multipleOf=(r,s)=>t.check(e0(r,s)),t.step=(r,s)=>t.check(e0(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function xg(t){return p2(VI,t)}const UM=Y("ZodNumberFormat",(t,e)=>{wO.init(t,e),VI.init(t,e)});function n0(t){return m2(UM,t)}const $M=Y("ZodUnknown",(t,e)=>{EO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>z2()});function r0(){return g2($M)}const BM=Y("ZodNever",(t,e)=>{TO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>F2(t,n,r)});function qM(t){return y2(BM,t)}const WM=Y("ZodDate",(t,e)=>{IO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(r,s,a)=>j2(t,r),t.min=(r,s)=>t.check(Nd(r,s)),t.max=(r,s)=>t.check(xd(r,s));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function HM(t){return v2(WM,t)}const GM=Y("ZodArray",(t,e)=>{SO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>q2(t,n,r,s),t.element=e.element,t.min=(n,r)=>t.check(Yd(n,r)),t.nonempty=n=>t.check(Yd(1,n)),t.max=(n,r)=>t.check(PI(n,r)),t.length=(n,r)=>t.check(xI(n,r)),t.unwrap=()=>t.element});function Ng(t,e){return P2(GM,t,e)}const KM=Y("ZodObject",(t,e)=>{bO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>W2(t,n,r,s),ut(t,"shape",()=>e.shape),t.keyof=()=>Dg(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:r0()}),t.loose=()=>t.clone({...t._zod.def,catchall:r0()}),t.strict=()=>t.clone({...t._zod.def,catchall:qM()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>GN(t,n),t.safeExtend=n=>KN(t,n),t.merge=n=>QN(t,n),t.pick=n=>WN(t,n),t.omit=n=>HN(t,n),t.partial=(...n)=>ZN(FI,t,n[0]),t.required=(...n)=>JN(zI,t,n[0])});function zo(t,e){const n={type:"object",shape:t??{},...Ie(e)};return new KM(n)}const QM=Y("ZodUnion",(t,e)=>{AO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>H2(t,n,r,s),t.options=e.options});function LI(t,e){return new QM({type:"union",options:t,...Ie(e)})}const ZM=Y("ZodIntersection",(t,e)=>{RO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>G2(t,n,r,s)});function JM(t,e){return new ZM({type:"intersection",left:t,right:e})}const fm=Y("ZodEnum",(t,e)=>{CO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(r,s,a)=>U2(t,r,s),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const a={};for(const u of r)if(n.has(u))a[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new fm({...e,checks:[],...Ie(s),entries:a})},t.exclude=(r,s)=>{const a={...e.entries};for(const u of r)if(n.has(u))delete a[u];else throw new Error(`Key ${u} not found in enum`);return new fm({...e,checks:[],...Ie(s),entries:a})}});function Dg(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new fm({type:"enum",entries:n,...Ie(e)})}const YM=Y("ZodTransform",(t,e)=>{PO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>B2(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new dI(t.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(Tu(a,n.value,e));else{const u=a;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(Tu(u))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(a=>(n.value=a,n)):(n.value=s,n)}});function XM(t){return new YM({type:"transform",transform:t})}const FI=Y("ZodOptional",(t,e)=>{xO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>tM(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function i0(t){return new FI({type:"optional",innerType:t})}const eV=Y("ZodNullable",(t,e)=>{NO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>K2(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function s0(t){return new eV({type:"nullable",innerType:t})}const tV=Y("ZodDefault",(t,e)=>{DO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>Z2(t,n,r,s),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function nV(t,e){return new tV({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():mI(e)}})}const rV=Y("ZodPrefault",(t,e)=>{OO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>J2(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function iV(t,e){return new rV({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():mI(e)}})}const zI=Y("ZodNonOptional",(t,e)=>{MO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>Q2(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function sV(t,e){return new zI({type:"nonoptional",innerType:t,...Ie(e)})}const oV=Y("ZodCatch",(t,e)=>{VO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>Y2(t,n,r,s),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function aV(t,e){return new oV({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const lV=Y("ZodPipe",(t,e)=>{LO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>X2(t,n,r,s),t.in=e.in,t.out=e.out});function o0(t,e){return new lV({type:"pipe",in:t,out:e})}const uV=Y("ZodReadonly",(t,e)=>{FO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>eM(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function cV(t){return new uV({type:"readonly",innerType:t})}const jI=Y("ZodCustom",(t,e)=>{zO.init(t,e),Ft.init(t,e),t._zod.processJSONSchema=(n,r,s)=>$2(t,n)});function dV(t,e={}){return x2(jI,t,e)}function hV(t){return N2(t)}function fV(t,e={error:`Input not instance of ${t.name}`}){const n=new jI({type:"custom",check:"custom",fn:r=>r instanceof t,abort:!0,...Ie(e)});return n._zod.bag.Class=t,n}const So=LI([HM(),fV(kt),lt()]).nullable().optional(),pV=zo({type:Dg(["none","daily","weekly","weekdays","monthly"]).nullable(),days:Ng(xg()).optional()}).nullable().optional();zo({id:lt().optional(),title:lt().min(1,"Title is required"),description:lt().nullable().optional(),status:Dg(["todo","completed","archived"]).default("todo"),dueDate:So,completedAt:So,createdAt:So,ownerId:lt(),projectId:lt().nullable().optional(),labelIds:Ng(lt()).optional(),timeBlockId:lt().nullable().optional(),duration:xg().optional(),recurrence:pV});zo({id:lt().optional(),name:lt().min(1,"Project name is required"),color:lt().optional(),ownerId:lt(),createdAt:So});zo({id:lt().optional(),name:lt().min(1,"Label name is required"),color:lt().optional(),ownerId:lt(),createdAt:So});zo({id:lt().optional(),name:lt().min(1,"Workspace name is required"),createdAt:So});zo({id:lt().optional(),name:lt().min(1),query:lt(),createdAt:So});zo({id:lt().optional(),name:lt(),start:lt(),end:lt(),color:lt().optional(),order:xg().optional()});const mV="currentWorkspaceId";function $u(){return localStorage.getItem(mV)}const Og=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0),s=$u();return q.useEffect(()=>{const a=FN(s||"",u=>{e(u),r(!1)});return()=>a()},[s]),{labels:t,loading:n}};function gV(t,e,n){const r=Vo.projects(t,e),s=vg(Eh(Mo,r),AN("createdAt","asc"));return Tg(s,a=>{const u=a.docs.map(h=>({id:h.id,...h.data()}));n(u)},a=>{console.error("Error subscribing to projects:",a),n([])})}const yV=(t,e)=>{const n=typeof t=="function"?t:e,r=typeof t=="string"?t:$u(),s=bh.currentUser;return s&&r&&typeof n=="function"?gV(s.uid,r,n):(typeof n=="function"&&n([]),()=>{})},Mg=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0),s=$u();return q.useEffect(()=>{if(!s){r(!1);return}const a=yV(s,u=>{e(u),r(!1)});return()=>a()},[s]),{projects:t,loading:n}},Cp=t=>t instanceof kt?t.toDate():t instanceof Date?t:void 0,UI=t=>t instanceof Date?kt.fromDate(t):t;function vV(t,e){const n=e.recurrence||null;return{id:t,...e,createdAt:Cp(e.createdAt)||void 0,dueDate:Cp(e.dueDate)||void 0,recurrence:n,completedAt:Cp(e.completedAt)||void 0,ownerId:e.ownerId||"",title:e.title||""}}const a0=new Map;function _V(t,e,n){const r=u=>{typeof n=="function"&&n(u)};if(!t||!e)return r([]),()=>{};const s=Vo.tasks(t,e),a=vg(Eh(Mo,s));return Tg(a,u=>{const h=u.docs.map(f=>vV(f.id,f.data()));a0.set(e,h),r(h)},u=>{console.error("[Tasks] Subscription error:",u),a0.set(e,[]),r([])})}async function wV(t,e,n){try{const r=Vo.tasks(t,e),s={...n};return s.dueDate&&(s.dueDate=UI(s.dueDate)),delete s.id,await DN(Eh(Mo,r),{...s,ownerId:t,status:"todo",createdAt:uI()})}catch(r){throw console.error("[Tasks] addTaskRaw failed:",r),r}}async function EV(t,e,n,r){try{const s=Vo.tasks(t,e),a={status:r};r==="completed"?a.completedAt=uI():a.completedAt=null,await lI(Th(Mo,s,n),a)}catch(s){throw console.error("[Tasks] updateTaskStatusRaw failed:",s),s}}async function TV(t,e,n,r){try{const s=Vo.tasks(t,e),a={...r};a.dueDate!==void 0&&(a.dueDate=UI(a.dueDate)),await lI(Th(Mo,s,n),a)}catch(s){throw console.error("[Tasks] updateTaskRaw failed:",s),s}}async function IV(t,e,n){try{const r=Vo.tasks(t,e);await NN(Th(Mo,r,n))}catch(r){throw console.error("[Tasks] deleteTaskRaw failed:",r),r}}function xh(){var n;const t=(n=bh.currentUser)==null?void 0:n.uid,e=$u();if(!t||!e)throw new Error("Authentication or Workspace required.");return{userId:t,workspaceId:e}}async function SV(t){const{userId:e,workspaceId:n}=xh();return wV(e,n,t)}async function kV(t,e){const{userId:n,workspaceId:r}=xh();return TV(n,r,t,e)}async function bV(t){const{userId:e,workspaceId:n}=xh();return IV(e,n,t)}async function AV(t,e){const{userId:n,workspaceId:r}=xh();return EV(n,r,t,e==="completed"?"todo":"completed")}function RV(t,e){const n=bh.currentUser;return!n||!t?(typeof e=="function"&&e([]),()=>{}):_V(n.uid,t,e)}const CV=()=>{const{activeModal:t,modalData:e,closeModal:n}=oh(),r=t==="task-detail",s=e,[a,u]=q.useState(""),[h,f]=q.useState(""),[m,v]=q.useState(null),[E,S]=q.useState("todo"),{projects:b}=Mg();Og(),q.useEffect(()=>{s&&(u(s.title),f(s.description||""),v(s.projectId||null),S(s.status||"todo"))},[s]);const F=async()=>{if(!(!s||!s.id))try{await kV(s.id,{title:a,description:h,projectId:m==="none"?null:m,status:E}),n()}catch(D){console.error("Failed to update task",D),alert("Failed to update task")}},N=async()=>{!s||!s.id||confirm("Are you sure you want to delete this task?")&&(await bV(s.id),n())};return s?U.jsx(X0,{isOpen:r,onClose:n,title:"Edit Task",className:"max-w-2xl h-[80vh]",children:U.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),U.jsx("input",{type:"text",value:a,onChange:D=>u(D.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 outline-none"})]}),U.jsxs("div",{className:"flex-1",children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),U.jsx("textarea",{value:h,onChange:D=>f(D.target.value),className:"w-full h-full min-h-[150px] p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 outline-none resize-none"})]}),U.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project"}),U.jsxs("select",{value:m||"none",onChange:D=>v(D.target.value==="none"?null:D.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[U.jsx("option",{value:"none",children:"No Project"}),b.map(D=>U.jsx("option",{value:D.id,children:D.name},D.id))]})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),U.jsxs("select",{value:E,onChange:D=>S(D.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[U.jsx("option",{value:"todo",children:"To Do"}),U.jsx("option",{value:"completed",children:"Completed"})]})]})]}),U.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700",children:[U.jsx("button",{onClick:N,className:"px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:"Delete"}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition",children:"Cancel"}),U.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded transition font-medium",children:"Save Changes"})]})]})]})}):null},PV=()=>U.jsxs(U.Fragment,{children:[U.jsx(Qb,{}),U.jsx(CV,{})]}),Nh=Im(t=>({filterType:"inbox",targetId:null,query:"",setFilter:(e,n=null)=>t({filterType:e,targetId:n,query:""}),setSearchQuery:e=>t({query:e,filterType:"search"}),clearFilter:()=>t({filterType:"all",targetId:null,query:""})})),xV=[{id:"inbox",name:"",icon:"",color:"text-blue-500"},{id:"today",name:"",icon:"",color:"text-green-500"},{id:"upcoming",name:"",icon:"",color:"text-purple-500"},{id:"important",name:"",icon:"",color:"text-amber-400"},{id:"all",name:"",icon:"",color:"text-gray-500"}],NV=()=>{const{filterType:t,setFilter:e}=Nh();return U.jsx("ul",{className:"space-y-0.5",children:xV.map(n=>{const r=t===n.id;return U.jsx("li",{children:U.jsxs("button",{onClick:()=>e(n.id),className:zr("w-full flex items-center px-3 py-1.5 text-sm rounded-md transition-colors text-left gap-3",r?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[U.jsx("span",{className:n.color,children:n.icon}),U.jsx("span",{children:n.name})]})},n.id)})})},DV=()=>{const{labels:t,loading:e}=Og(),{filterType:n,targetId:r,setFilter:s}=Nh();return e?U.jsx("div",{className:"px-4 py-2 text-xs text-gray-400",children:"Loading labels..."}):t.length===0?U.jsx("div",{className:"px-4 py-2 text-xs text-gray-400",children:"No labels found."}):U.jsx("ul",{className:"space-y-0.5",children:t.map(a=>{const u=n==="label"&&r===a.id;return U.jsx("li",{children:U.jsxs("button",{onClick:()=>s("label",a.id),className:zr("w-full flex items-center px-3 py-1.5 text-sm rounded-md transition-colors text-left gap-2 group",u?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[U.jsx("span",{className:"w-3 h-3 rounded-full opacity-75 group-hover:opacity-100",style:{backgroundColor:a.color||"#9ca3af"}}),U.jsx("span",{className:"truncate",children:a.name})]})},a.id)})})};function OV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return q.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Dh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ul(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Vg(t){return"nodeType"in t}function Kn(t){var e,n;return t?ul(t)?t:Vg(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Lg(t){const{Document:e}=Kn(t);return t instanceof e}function Bu(t){return ul(t)?!1:t instanceof Kn(t).HTMLElement}function $I(t){return t instanceof Kn(t).SVGElement}function cl(t){return t?ul(t)?t.document:Vg(t)?Lg(t)?t:Bu(t)||$I(t)?t.ownerDocument:document:document:document}const ci=Dh?q.useLayoutEffect:q.useEffect;function Fg(t){const e=q.useRef(t);return ci(()=>{e.current=t}),q.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function MV(){const t=q.useRef(null),e=q.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=q.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Iu(t,e){e===void 0&&(e=[t]);const n=q.useRef(t);return ci(()=>{n.current!==t&&(n.current=t)},e),n}function qu(t,e){const n=q.useRef();return q.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function eh(t){const e=Fg(t),n=q.useRef(null),r=q.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function pm(t){const e=q.useRef();return q.useEffect(()=>{e.current=t},[t]),e.current}let Pp={};function Wu(t,e){return q.useMemo(()=>{if(e)return e;const n=Pp[t]==null?0:Pp[t]+1;return Pp[t]=n,t+"-"+n},[t,e])}function BI(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,u)=>{const h=Object.entries(u);for(const[f,m]of h){const v=a[f];v!=null&&(a[f]=v+t*m)}return a},{...e})}}const Ma=BI(1),Su=BI(-1);function VV(t){return"clientX"in t&&"clientY"in t}function zg(t){if(!t)return!1;const{KeyboardEvent:e}=Kn(t.target);return e&&t instanceof e}function LV(t){if(!t)return!1;const{TouchEvent:e}=Kn(t.target);return e&&t instanceof e}function mm(t){if(LV(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return VV(t)?{x:t.clientX,y:t.clientY}:null}const ku=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ku.Translate.toString(t),ku.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),l0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function FV(t){return t.matches(l0)?t:t.querySelector(l0)}const zV={display:"none"};function jV(t){let{id:e,value:n}=t;return Ht.createElement("div",{id:e,style:zV},n)}function UV(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ht.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function $V(){const[t,e]=q.useState("");return{announce:q.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const qI=q.createContext(null);function BV(t){const e=q.useContext(qI);q.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function qV(){const[t]=q.useState(()=>new Set),e=q.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[q.useCallback(r=>{let{type:s,event:a}=r;t.forEach(u=>{var h;return(h=u[s])==null?void 0:h.call(u,a)})},[t]),e]}const WV={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},HV={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function GV(t){let{announcements:e=HV,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=WV}=t;const{announce:a,announcement:u}=$V(),h=Wu("DndLiveRegion"),[f,m]=q.useState(!1);if(q.useEffect(()=>{m(!0)},[]),BV(q.useMemo(()=>({onDragStart(E){let{active:S}=E;a(e.onDragStart({active:S}))},onDragMove(E){let{active:S,over:b}=E;e.onDragMove&&a(e.onDragMove({active:S,over:b}))},onDragOver(E){let{active:S,over:b}=E;a(e.onDragOver({active:S,over:b}))},onDragEnd(E){let{active:S,over:b}=E;a(e.onDragEnd({active:S,over:b}))},onDragCancel(E){let{active:S,over:b}=E;a(e.onDragCancel({active:S,over:b}))}}),[a,e])),!f)return null;const v=Ht.createElement(Ht.Fragment,null,Ht.createElement(jV,{id:r,value:s.draggable}),Ht.createElement(UV,{id:h,announcement:u}));return n?Aa.createPortal(v,n):v}var Wt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Wt||(Wt={}));function th(){}function u0(t,e){return q.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function KV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return q.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const $r=Object.freeze({x:0,y:0});function WI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function HI(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function QV(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function c0(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function GI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function d0(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const ZV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=d0(e,e.left,e.top),a=[];for(const u of r){const{id:h}=u,f=n.get(h);if(f){const m=WI(d0(f),s);a.push({id:h,data:{droppableContainer:u,value:m}})}}return a.sort(HI)},JV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=c0(e),a=[];for(const u of r){const{id:h}=u,f=n.get(h);if(f){const m=c0(f),v=s.reduce((S,b,F)=>S+WI(m[F],b),0),E=Number((v/4).toFixed(4));a.push({id:h,data:{droppableContainer:u,value:E}})}}return a.sort(HI)};function YV(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),u=s-r,h=a-n;if(r<s&&n<a){const f=e.width*e.height,m=t.width*t.height,v=u*h,E=v/(f+m-v);return Number(E.toFixed(4))}return 0}const XV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const a of r){const{id:u}=a,h=n.get(u);if(h){const f=YV(h,e);f>0&&s.push({id:u,data:{droppableContainer:a,value:f}})}}return s.sort(QV)};function eL(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function KI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:$r}function tL(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((u,h)=>({...u,top:u.top+t*h.y,bottom:u.bottom+t*h.y,left:u.left+t*h.x,right:u.right+t*h.x}),{...n})}}const nL=tL(1);function rL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function iL(t,e,n){const r=rL(e);if(!r)return t;const{scaleX:s,scaleY:a,x:u,y:h}=r,f=t.left-u-(1-s)*parseFloat(n),m=t.top-h-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),v=s?t.width/s:t.width,E=a?t.height/a:t.height;return{width:v,height:E,top:m,right:f+v,bottom:m+E,left:f}}const sL={ignoreTransform:!1};function dl(t,e){e===void 0&&(e=sL);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:v}=Kn(t).getComputedStyle(t);m&&(n=iL(n,m,v))}const{top:r,left:s,width:a,height:u,bottom:h,right:f}=n;return{top:r,left:s,width:a,height:u,bottom:h,right:f}}function h0(t){return dl(t,{ignoreTransform:!0})}function oL(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function aL(t,e){return e===void 0&&(e=Kn(t).getComputedStyle(t)),e.position==="fixed"}function lL(t,e){e===void 0&&(e=Kn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?n.test(a):!1})}function Oh(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(Lg(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Bu(s)||$I(s)||n.includes(s))return n;const a=Kn(t).getComputedStyle(s);return s!==t&&lL(s,a)&&n.push(s),aL(s,a)?n:r(s.parentNode)}return t?r(t):n}function QI(t){const[e]=Oh(t,1);return e??null}function xp(t){return!Dh||!t?null:ul(t)?t:Vg(t)?Lg(t)||t===cl(t).scrollingElement?window:Bu(t)?t:null:null}function ZI(t){return ul(t)?t.scrollX:t.scrollLeft}function JI(t){return ul(t)?t.scrollY:t.scrollTop}function gm(t){return{x:ZI(t),y:JI(t)}}var en;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(en||(en={}));function YI(t){return!Dh||!t?!1:t===document.scrollingElement}function XI(t){const e={x:0,y:0},n=YI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,u=t.scrollTop>=r.y,h=t.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:u,isRight:h,maxScroll:r,minScroll:e}}const uL={x:.2,y:.2};function cL(t,e,n,r,s){let{top:a,left:u,right:h,bottom:f}=n;r===void 0&&(r=10),s===void 0&&(s=uL);const{isTop:m,isBottom:v,isLeft:E,isRight:S}=XI(t),b={x:0,y:0},F={x:0,y:0},N={height:e.height*s.y,width:e.width*s.x};return!m&&a<=e.top+N.height?(b.y=en.Backward,F.y=r*Math.abs((e.top+N.height-a)/N.height)):!v&&f>=e.bottom-N.height&&(b.y=en.Forward,F.y=r*Math.abs((e.bottom-N.height-f)/N.height)),!S&&h>=e.right-N.width?(b.x=en.Forward,F.x=r*Math.abs((e.right-N.width-h)/N.width)):!E&&u<=e.left+N.width&&(b.x=en.Backward,F.x=r*Math.abs((e.left+N.width-u)/N.width)),{direction:b,speed:F}}function dL(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:u}=window;return{top:0,left:0,right:a,bottom:u,width:a,height:u}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function eS(t){return t.reduce((e,n)=>Ma(e,gm(n)),$r)}function hL(t){return t.reduce((e,n)=>e+ZI(n),0)}function fL(t){return t.reduce((e,n)=>e+JI(n),0)}function pL(t,e){if(e===void 0&&(e=dl),!t)return;const{top:n,left:r,bottom:s,right:a}=e(t);QI(t)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const mL=[["x",["left","right"],hL],["y",["top","bottom"],fL]];class jg{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Oh(n),s=eS(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,u,h]of mL)for(const f of u)Object.defineProperty(this,f,{get:()=>{const m=h(r),v=s[a]-m;return this.rect[f]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class su{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function gL(t){const{EventTarget:e}=Kn(t);return t instanceof e?t:cl(t)}function Np(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var vr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(vr||(vr={}));function f0(t){t.preventDefault()}function yL(t){t.stopPropagation()}var He;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(He||(He={}));const tS={start:[He.Space,He.Enter],cancel:[He.Esc],end:[He.Space,He.Enter,He.Tab]},vL=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case He.Right:return{...n,x:n.x+25};case He.Left:return{...n,x:n.x-25};case He.Down:return{...n,y:n.y+25};case He.Up:return{...n,y:n.y-25}}};class Ug{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new su(cl(n)),this.windowListeners=new su(Kn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vr.Resize,this.handleCancel),this.windowListeners.add(vr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&pL(r),n($r)}handleKeyDown(e){if(zg(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=tS,coordinateGetter:u=vL,scrollBehavior:h="smooth"}=s,{code:f}=e;if(a.end.includes(f)){this.handleEnd(e);return}if(a.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:m}=r.current,v=m?{x:m.left,y:m.top}:$r;this.referenceCoordinates||(this.referenceCoordinates=v);const E=u(e,{active:n,context:r.current,currentCoordinates:v});if(E){const S=Su(E,v),b={x:0,y:0},{scrollableAncestors:F}=r.current;for(const N of F){const D=e.code,{isTop:Z,isRight:J,isLeft:G,isBottom:ee,maxScroll:X,minScroll:oe}=XI(N),C=dL(N),T={x:Math.min(D===He.Right?C.right-C.width/2:C.right,Math.max(D===He.Right?C.left:C.left+C.width/2,E.x)),y:Math.min(D===He.Down?C.bottom-C.height/2:C.bottom,Math.max(D===He.Down?C.top:C.top+C.height/2,E.y))},k=D===He.Right&&!J||D===He.Left&&!G,x=D===He.Down&&!ee||D===He.Up&&!Z;if(k&&T.x!==E.x){const P=N.scrollLeft+S.x,M=D===He.Right&&P<=X.x||D===He.Left&&P>=oe.x;if(M&&!S.y){N.scrollTo({left:P,behavior:h});return}M?b.x=N.scrollLeft-P:b.x=D===He.Right?N.scrollLeft-X.x:N.scrollLeft-oe.x,b.x&&N.scrollBy({left:-b.x,behavior:h});break}else if(x&&T.y!==E.y){const P=N.scrollTop+S.y,M=D===He.Down&&P<=X.y||D===He.Up&&P>=oe.y;if(M&&!S.x){N.scrollTo({top:P,behavior:h});return}M?b.y=N.scrollTop-P:b.y=D===He.Down?N.scrollTop-X.y:N.scrollTop-oe.y,b.y&&N.scrollBy({top:-b.y,behavior:h});break}}this.handleMove(e,Ma(Su(E,this.referenceCoordinates),b))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ug.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=tS,onActivation:s}=e,{active:a}=n;const{code:u}=t.nativeEvent;if(r.start.includes(u)){const h=a.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function p0(t){return!!(t&&"distance"in t)}function m0(t){return!!(t&&"delay"in t)}class $g{constructor(e,n,r){var s;r===void 0&&(r=gL(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:u}=a;this.props=e,this.events=n,this.document=cl(u),this.documentListeners=new su(this.document),this.listeners=new su(r),this.windowListeners=new su(Kn(u)),this.initialCoordinates=(s=mm(a))!=null?s:$r,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(vr.Resize,this.handleCancel),this.windowListeners.add(vr.DragStart,f0),this.windowListeners.add(vr.VisibilityChange,this.handleCancel),this.windowListeners.add(vr.ContextMenu,f0),this.documentListeners.add(vr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(m0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(p0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(vr.Click,yL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:u,options:{activationConstraint:h}}=a;if(!s)return;const f=(n=mm(e))!=null?n:$r,m=Su(s,f);if(!r&&h){if(p0(h)){if(h.tolerance!=null&&Np(m,h.tolerance))return this.handleCancel();if(Np(m,h.distance))return this.handleStart()}if(m0(h)&&Np(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===He.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const _L={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Bg extends $g{constructor(e){const{event:n}=e,r=cl(n.target);super(e,_L,r)}}Bg.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const wL={move:{name:"mousemove"},end:{name:"mouseup"}};var ym;(function(t){t[t.RightClick=2]="RightClick"})(ym||(ym={}));class EL extends $g{constructor(e){super(e,wL,cl(e.event.target))}}EL.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===ym.RightClick?!1:(r==null||r({event:n}),!0)}}];const Dp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TL extends $g{constructor(e){super(e,Dp)}static setup(){return window.addEventListener(Dp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Dp.move.name,e)};function e(){}}}TL.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var ou;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ou||(ou={}));var nh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(nh||(nh={}));function IL(t){let{acceleration:e,activator:n=ou.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:u=5,order:h=nh.TreeOrder,pointerCoordinates:f,scrollableAncestors:m,scrollableAncestorRects:v,delta:E,threshold:S}=t;const b=kL({delta:E,disabled:!a}),[F,N]=MV(),D=q.useRef({x:0,y:0}),Z=q.useRef({x:0,y:0}),J=q.useMemo(()=>{switch(n){case ou.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case ou.DraggableRect:return s}},[n,s,f]),G=q.useRef(null),ee=q.useCallback(()=>{const oe=G.current;if(!oe)return;const C=D.current.x*Z.current.x,T=D.current.y*Z.current.y;oe.scrollBy(C,T)},[]),X=q.useMemo(()=>h===nh.TreeOrder?[...m].reverse():m,[h,m]);q.useEffect(()=>{if(!a||!m.length||!J){N();return}for(const oe of X){if((r==null?void 0:r(oe))===!1)continue;const C=m.indexOf(oe),T=v[C];if(!T)continue;const{direction:k,speed:x}=cL(oe,T,J,e,S);for(const P of["x","y"])b[P][k[P]]||(x[P]=0,k[P]=0);if(x.x>0||x.y>0){N(),G.current=oe,F(ee,u),D.current=x,Z.current=k;return}}D.current={x:0,y:0},Z.current={x:0,y:0},N()},[e,ee,r,N,a,u,JSON.stringify(J),JSON.stringify(b),F,m,X,v,JSON.stringify(S)])}const SL={x:{[en.Backward]:!1,[en.Forward]:!1},y:{[en.Backward]:!1,[en.Forward]:!1}};function kL(t){let{delta:e,disabled:n}=t;const r=pm(e);return qu(s=>{if(n||!r||!s)return SL;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[en.Backward]:s.x[en.Backward]||a.x===-1,[en.Forward]:s.x[en.Forward]||a.x===1},y:{[en.Backward]:s.y[en.Backward]||a.y===-1,[en.Forward]:s.y[en.Forward]||a.y===1}}},[n,e,r])}function bL(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return qu(s=>{var a;return e==null?null:(a=r??s)!=null?a:null},[r,e])}function AL(t,e){return q.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,r)}));return[...n,...a]},[]),[t,e])}var bu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(bu||(bu={}));var vm;(function(t){t.Optimized="optimized"})(vm||(vm={}));const g0=new Map;function RL(t,e){let{dragging:n,dependencies:r,config:s}=e;const[a,u]=q.useState(null),{frequency:h,measure:f,strategy:m}=s,v=q.useRef(t),E=D(),S=Iu(E),b=q.useCallback(function(Z){Z===void 0&&(Z=[]),!S.current&&u(J=>J===null?Z:J.concat(Z.filter(G=>!J.includes(G))))},[S]),F=q.useRef(null),N=qu(Z=>{if(E&&!n)return g0;if(!Z||Z===g0||v.current!==t||a!=null){const J=new Map;for(let G of t){if(!G)continue;if(a&&a.length>0&&!a.includes(G.id)&&G.rect.current){J.set(G.id,G.rect.current);continue}const ee=G.node.current,X=ee?new jg(f(ee),ee):null;G.rect.current=X,X&&J.set(G.id,X)}return J}return Z},[t,a,n,E,f]);return q.useEffect(()=>{v.current=t},[t]),q.useEffect(()=>{E||b()},[n,E]),q.useEffect(()=>{a&&a.length>0&&u(null)},[JSON.stringify(a)]),q.useEffect(()=>{E||typeof h!="number"||F.current!==null||(F.current=setTimeout(()=>{b(),F.current=null},h))},[h,E,b,...r]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:a!=null};function D(){switch(m){case bu.Always:return!1;case bu.BeforeDragging:return n;default:return!n}}}function nS(t,e){return qu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function CL(t,e){return nS(t,e)}function PL(t){let{callback:e,disabled:n}=t;const r=Fg(e),s=q.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return q.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Mh(t){let{callback:e,disabled:n}=t;const r=Fg(e),s=q.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return q.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function xL(t){return new jg(dl(t),t)}function y0(t,e,n){e===void 0&&(e=xL);const[r,s]=q.useState(null);function a(){s(f=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=f??n)!=null?m:null}const v=e(t);return JSON.stringify(f)===JSON.stringify(v)?f:v})}const u=PL({callback(f){if(t)for(const m of f){const{type:v,target:E}=m;if(v==="childList"&&E instanceof HTMLElement&&E.contains(t)){a();break}}}}),h=Mh({callback:a});return ci(()=>{a(),t?(h==null||h.observe(t),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(h==null||h.disconnect(),u==null||u.disconnect())},[t]),r}function NL(t){const e=nS(t);return KI(t,e)}const v0=[];function DL(t){const e=q.useRef(t),n=qu(r=>t?r&&r!==v0&&t&&e.current&&t.parentNode===e.current.parentNode?r:Oh(t):v0,[t]);return q.useEffect(()=>{e.current=t},[t]),n}function OL(t){const[e,n]=q.useState(null),r=q.useRef(t),s=q.useCallback(a=>{const u=xp(a.target);u&&n(h=>h?(h.set(u,gm(u)),new Map(h)):null)},[]);return q.useEffect(()=>{const a=r.current;if(t!==a){u(a);const h=t.map(f=>{const m=xp(f);return m?(m.addEventListener("scroll",s,{passive:!0}),[m,gm(m)]):null}).filter(f=>f!=null);n(h.length?new Map(h):null),r.current=t}return()=>{u(t),u(a)};function u(h){h.forEach(f=>{const m=xp(f);m==null||m.removeEventListener("scroll",s)})}},[s,t]),q.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,u)=>Ma(a,u),$r):eS(t):$r,[t,e])}function _0(t,e){e===void 0&&(e=[]);const n=q.useRef(null);return q.useEffect(()=>{n.current=null},e),q.useEffect(()=>{const r=t!==$r;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Su(t,n.current):$r}function ML(t){q.useEffect(()=>{if(!Dh)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function VL(t,e){return q.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=u=>{a(u,e)},n},{}),[t,e])}function rS(t){return q.useMemo(()=>t?oL(t):null,[t])}const w0=[];function LL(t,e){e===void 0&&(e=dl);const[n]=t,r=rS(n?Kn(n):null),[s,a]=q.useState(w0);function u(){a(()=>t.length?t.map(f=>YI(f)?r:new jg(e(f),f)):w0)}const h=Mh({callback:u});return ci(()=>{h==null||h.disconnect(),u(),t.forEach(f=>h==null?void 0:h.observe(f))},[t]),s}function FL(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Bu(e)?e:t}function zL(t){let{measure:e}=t;const[n,r]=q.useState(null),s=q.useCallback(m=>{for(const{target:v}of m)if(Bu(v)){r(E=>{const S=e(v);return E?{...E,width:S.width,height:S.height}:S});break}},[e]),a=Mh({callback:s}),u=q.useCallback(m=>{const v=FL(m);a==null||a.disconnect(),v&&(a==null||a.observe(v)),r(v?e(v):null)},[e,a]),[h,f]=eh(u);return q.useMemo(()=>({nodeRef:h,rect:n,setRef:f}),[n,h,f])}const jL=[{sensor:Bg,options:{}},{sensor:Ug,options:{}}],UL={current:{}},Dd={draggable:{measure:h0},droppable:{measure:h0,strategy:bu.WhileDragging,frequency:vm.Optimized},dragOverlay:{measure:dl}};class au extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const $L={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new au,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:th},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Dd,measureDroppableContainers:th,windowRect:null,measuringScheduled:!1},BL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:th,draggableNodes:new Map,over:null,measureDroppableContainers:th},Vh=q.createContext(BL),iS=q.createContext($L);function qL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new au}}}function WL(t,e){switch(e.type){case Wt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Wt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Wt.DragEnd:case Wt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new au(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Wt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const u=new au(t.droppable.containers);return u.set(n,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:u}}}case Wt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new au(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function HL(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=q.useContext(Vh),a=pm(r),u=pm(n==null?void 0:n.id);return q.useEffect(()=>{if(!e&&!r&&a&&u!=null){if(!zg(a)||document.activeElement===a.target)return;const h=s.get(u);if(!h)return;const{activatorNode:f,node:m}=h;if(!f.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[f.current,m.current]){if(!v)continue;const E=FV(v);if(E){E.focus();break}}})}},[r,e,s,u,a]),null}function GL(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...r}),n):n}function KL(t){return q.useMemo(()=>({draggable:{...Dd.draggable,...t==null?void 0:t.draggable},droppable:{...Dd.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Dd.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function QL(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const a=q.useRef(!1),{x:u,y:h}=typeof s=="boolean"?{x:s,y:s}:s;ci(()=>{if(!u&&!h||!e){a.current=!1;return}if(a.current||!r)return;const m=e==null?void 0:e.node.current;if(!m||m.isConnected===!1)return;const v=n(m),E=KI(v,r);if(u||(E.x=0),h||(E.y=0),a.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const S=QI(m);S&&S.scrollBy({top:E.y,left:E.x})}},[e,u,h,r,n])}const sS=q.createContext({...$r,scaleX:1,scaleY:1});var ms;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ms||(ms={}));const ZL=q.memo(function(e){var n,r,s,a;let{id:u,accessibility:h,autoScroll:f=!0,children:m,sensors:v=jL,collisionDetection:E=XV,measuring:S,modifiers:b,...F}=e;const N=q.useReducer(WL,void 0,qL),[D,Z]=N,[J,G]=qV(),[ee,X]=q.useState(ms.Uninitialized),oe=ee===ms.Initialized,{draggable:{active:C,nodes:T,translate:k},droppable:{containers:x}}=D,P=C!=null?T.get(C):null,M=q.useRef({initial:null,translated:null}),R=q.useMemo(()=>{var rt;return C!=null?{id:C,data:(rt=P==null?void 0:P.data)!=null?rt:UL,rect:M}:null},[C,P]),$e=q.useRef(null),[et,Xe]=q.useState(null),[Re,H]=q.useState(null),he=Iu(F,Object.values(F)),ce=Wu("DndDescribedBy",u),L=q.useMemo(()=>x.getEnabled(),[x]),K=KL(S),{droppableRects:ue,measureDroppableContainers:we,measuringScheduled:Pe}=RL(L,{dragging:oe,dependencies:[k.x,k.y],config:K.droppable}),Ce=bL(T,C),Te=q.useMemo(()=>Re?mm(Re):null,[Re]),Le=Mn(),Fe=CL(Ce,K.draggable.measure);QL({activeNode:C!=null?T.get(C):null,config:Le.layoutShiftCompensation,initialRect:Fe,measure:K.draggable.measure});const ke=y0(Ce,K.draggable.measure,Fe),zt=y0(Ce?Ce.parentElement:null),Et=q.useRef({activatorEvent:null,active:null,activeNode:Ce,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kn=x.getNodeFor((n=Et.current.over)==null?void 0:n.id),tn=zL({measure:K.dragOverlay.measure}),Qn=(r=tn.nodeRef.current)!=null?r:Ce,sr=oe?(s=tn.rect)!=null?s:ke:null,zi=!!(tn.nodeRef.current&&tn.rect),Fs=NL(zi?null:ke),Br=rS(Qn?Kn(Qn):null),Gt=DL(oe?kn??Ce:null),On=LL(Gt),qr=GL(b,{transform:{x:k.x-Fs.x,y:k.y-Fs.y,scaleX:1,scaleY:1},activatorEvent:Re,active:R,activeNodeRect:ke,containerNodeRect:zt,draggingNodeRect:sr,over:Et.current.over,overlayNodeRect:tn.rect,scrollableAncestors:Gt,scrollableAncestorRects:On,windowRect:Br}),di=Te?Ma(Te,k):null,hi=OL(Gt),zs=_0(hi),bt=_0(hi,[ke]),st=Ma(qr,zs),fn=sr?nL(sr,qr):null,wr=R&&fn?E({active:R,collisionRect:fn,droppableRects:ue,droppableContainers:L,pointerCoordinates:di}):null,Er=GI(wr,"id"),[pn,Wr]=q.useState(null),js=zi?qr:Ma(qr,bt),Us=eL(js,(a=pn==null?void 0:pn.rect)!=null?a:null,ke),fi=q.useRef(null),ji=q.useCallback((rt,Pt)=>{let{sensor:ft,options:Vn}=Pt;if($e.current==null)return;const xt=T.get($e.current);if(!xt)return;const jt=rt.nativeEvent,Nt=new ft({active:$e.current,activeNode:xt,event:jt,options:Vn,context:Et,onAbort(ze){if(!T.get(ze))return;const{onDragAbort:Tt}=he.current,nn={id:ze};Tt==null||Tt(nn),J({type:"onDragAbort",event:nn})},onPending(ze,bn,Tt,nn){if(!T.get(ze))return;const{onDragPending:ar}=he.current,Dt={id:ze,constraint:bn,initialCoordinates:Tt,offset:nn};ar==null||ar(Dt),J({type:"onDragPending",event:Dt})},onStart(ze){const bn=$e.current;if(bn==null)return;const Tt=T.get(bn);if(!Tt)return;const{onDragStart:nn}=he.current,Zn={activatorEvent:jt,active:{id:bn,data:Tt.data,rect:M}};Aa.unstable_batchedUpdates(()=>{nn==null||nn(Zn),X(ms.Initializing),Z({type:Wt.DragStart,initialCoordinates:ze,active:bn}),J({type:"onDragStart",event:Zn}),Xe(fi.current),H(jt)})},onMove(ze){Z({type:Wt.DragMove,coordinates:ze})},onEnd:or(Wt.DragEnd),onCancel:or(Wt.DragCancel)});fi.current=Nt;function or(ze){return async function(){const{active:Tt,collisions:nn,over:Zn,scrollAdjustedTranslate:ar}=Et.current;let Dt=null;if(Tt&&ar){const{cancelDrop:Tr}=he.current;Dt={activatorEvent:jt,active:Tt,collisions:nn,delta:ar,over:Zn},ze===Wt.DragEnd&&typeof Tr=="function"&&await Promise.resolve(Tr(Dt))&&(ze=Wt.DragCancel)}$e.current=null,Aa.unstable_batchedUpdates(()=>{Z({type:ze}),X(ms.Uninitialized),Wr(null),Xe(null),H(null),fi.current=null;const Tr=ze===Wt.DragEnd?"onDragEnd":"onDragCancel";if(Dt){const Bs=he.current[Tr];Bs==null||Bs(Dt),J({type:Tr,event:Dt})}})}}},[T]),$s=q.useCallback((rt,Pt)=>(ft,Vn)=>{const xt=ft.nativeEvent,jt=T.get(Vn);if($e.current!==null||!jt||xt.dndKit||xt.defaultPrevented)return;const Nt={active:jt};rt(ft,Pt.options,Nt)===!0&&(xt.dndKit={capturedBy:Pt.sensor},$e.current=Vn,ji(ft,Pt))},[T,ji]),Hr=AL(v,$s);ML(v),ci(()=>{ke&&ee===ms.Initializing&&X(ms.Initialized)},[ke,ee]),q.useEffect(()=>{const{onDragMove:rt}=he.current,{active:Pt,activatorEvent:ft,collisions:Vn,over:xt}=Et.current;if(!Pt||!ft)return;const jt={active:Pt,activatorEvent:ft,collisions:Vn,delta:{x:st.x,y:st.y},over:xt};Aa.unstable_batchedUpdates(()=>{rt==null||rt(jt),J({type:"onDragMove",event:jt})})},[st.x,st.y]),q.useEffect(()=>{const{active:rt,activatorEvent:Pt,collisions:ft,droppableContainers:Vn,scrollAdjustedTranslate:xt}=Et.current;if(!rt||$e.current==null||!Pt||!xt)return;const{onDragOver:jt}=he.current,Nt=Vn.get(Er),or=Nt&&Nt.rect.current?{id:Nt.id,rect:Nt.rect.current,data:Nt.data,disabled:Nt.disabled}:null,ze={active:rt,activatorEvent:Pt,collisions:ft,delta:{x:xt.x,y:xt.y},over:or};Aa.unstable_batchedUpdates(()=>{Wr(or),jt==null||jt(ze),J({type:"onDragOver",event:ze})})},[Er]),ci(()=>{Et.current={activatorEvent:Re,active:R,activeNode:Ce,collisionRect:fn,collisions:wr,droppableRects:ue,draggableNodes:T,draggingNode:Qn,draggingNodeRect:sr,droppableContainers:x,over:pn,scrollableAncestors:Gt,scrollAdjustedTranslate:st},M.current={initial:sr,translated:fn}},[R,Ce,wr,fn,T,Qn,sr,ue,x,pn,Gt,st]),IL({...Le,delta:k,draggingRect:fn,pointerCoordinates:di,scrollableAncestors:Gt,scrollableAncestorRects:On});const Ui=q.useMemo(()=>({active:R,activeNode:Ce,activeNodeRect:ke,activatorEvent:Re,collisions:wr,containerNodeRect:zt,dragOverlay:tn,draggableNodes:T,droppableContainers:x,droppableRects:ue,over:pn,measureDroppableContainers:we,scrollableAncestors:Gt,scrollableAncestorRects:On,measuringConfiguration:K,measuringScheduled:Pe,windowRect:Br}),[R,Ce,ke,Re,wr,zt,tn,T,x,ue,pn,we,Gt,On,K,Pe,Br]),$i=q.useMemo(()=>({activatorEvent:Re,activators:Hr,active:R,activeNodeRect:ke,ariaDescribedById:{draggable:ce},dispatch:Z,draggableNodes:T,over:pn,measureDroppableContainers:we}),[Re,Hr,R,ke,Z,ce,T,pn,we]);return Ht.createElement(qI.Provider,{value:G},Ht.createElement(Vh.Provider,{value:$i},Ht.createElement(iS.Provider,{value:Ui},Ht.createElement(sS.Provider,{value:Us},m)),Ht.createElement(HL,{disabled:(h==null?void 0:h.restoreFocus)===!1})),Ht.createElement(GV,{...h,hiddenTextDescribedById:ce}));function Mn(){const rt=(et==null?void 0:et.autoScrollEnabled)===!1,Pt=typeof f=="object"?f.enabled===!1:f===!1,ft=oe&&!rt&&!Pt;return typeof f=="object"?{...f,enabled:ft}:{enabled:ft}}}),JL=q.createContext(null),E0="button",YL="Draggable";function XL(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const a=Wu(YL),{activators:u,activatorEvent:h,active:f,activeNodeRect:m,ariaDescribedById:v,draggableNodes:E,over:S}=q.useContext(Vh),{role:b=E0,roleDescription:F="draggable",tabIndex:N=0}=s??{},D=(f==null?void 0:f.id)===e,Z=q.useContext(D?sS:JL),[J,G]=eh(),[ee,X]=eh(),oe=VL(u,e),C=Iu(n);ci(()=>(E.set(e,{id:e,key:a,node:J,activatorNode:ee,data:C}),()=>{const k=E.get(e);k&&k.key===a&&E.delete(e)}),[E,e]);const T=q.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":r,"aria-pressed":D&&b===E0?!0:void 0,"aria-roledescription":F,"aria-describedby":v.draggable}),[r,b,N,D,F,v.draggable]);return{active:f,activatorEvent:h,activeNodeRect:m,attributes:T,isDragging:D,listeners:r?void 0:oe,node:J,over:S,setNodeRef:G,setActivatorNodeRef:X,transform:Z}}function e4(){return q.useContext(iS)}const t4="Droppable",n4={timeout:25};function r4(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const a=Wu(t4),{active:u,dispatch:h,over:f,measureDroppableContainers:m}=q.useContext(Vh),v=q.useRef({disabled:n}),E=q.useRef(!1),S=q.useRef(null),b=q.useRef(null),{disabled:F,updateMeasurementsFor:N,timeout:D}={...n4,...s},Z=Iu(N??r),J=q.useCallback(()=>{if(!E.current){E.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{m(Array.isArray(Z.current)?Z.current:[Z.current]),b.current=null},D)},[D]),G=Mh({callback:J,disabled:F||!u}),ee=q.useCallback((T,k)=>{G&&(k&&(G.unobserve(k),E.current=!1),T&&G.observe(T))},[G]),[X,oe]=eh(ee),C=Iu(e);return q.useEffect(()=>{!G||!X.current||(G.disconnect(),E.current=!1,G.observe(X.current))},[X,G]),q.useEffect(()=>(h({type:Wt.RegisterDroppable,element:{id:r,key:a,disabled:n,node:X,rect:S,data:C}}),()=>h({type:Wt.UnregisterDroppable,key:a,id:r})),[r]),q.useEffect(()=>{n!==v.current.disabled&&(h({type:Wt.SetDroppableDisabled,id:r,key:a,disabled:n}),v.current.disabled=n)},[r,a,n,h]),{active:u,rect:S,isOver:(f==null?void 0:f.id)===r,node:X,over:f,setNodeRef:oe}}function oS(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function i4(t,e){return t.reduce((n,r,s)=>{const a=e.get(r);return a&&(n[s]=a),n},Array(t.length))}function _d(t){return t!==null&&t>=0}function s4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function o4(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const aS=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const a=oS(e,r,n),u=e[s],h=a[s];return!h||!u?null:{x:h.left-u.left,y:h.top-u.top,scaleX:h.width/u.width,scaleY:h.height/u.height}},wd={scaleX:1,scaleY:1},a4=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:u}=t;const h=(e=a[n])!=null?e:r;if(!h)return null;if(s===n){const m=a[u];return m?{x:0,y:n<u?m.top+m.height-(h.top+h.height):m.top-h.top,...wd}:null}const f=l4(a,s,n);return s>n&&s<=u?{x:0,y:-h.height-f,...wd}:s<n&&s>=u?{x:0,y:h.height+f,...wd}:{x:0,y:0,...wd}};function l4(t,e,n){const r=t[e],s=t[e-1],a=t[e+1];return r?n<e?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const lS="Sortable",uS=Ht.createContext({activeIndex:-1,containerId:lS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:aS,disabled:{draggable:!1,droppable:!1}});function u4(t){let{children:e,id:n,items:r,strategy:s=aS,disabled:a=!1}=t;const{active:u,dragOverlay:h,droppableRects:f,over:m,measureDroppableContainers:v}=e4(),E=Wu(lS,n),S=h.rect!==null,b=q.useMemo(()=>r.map(oe=>typeof oe=="object"&&"id"in oe?oe.id:oe),[r]),F=u!=null,N=u?b.indexOf(u.id):-1,D=m?b.indexOf(m.id):-1,Z=q.useRef(b),J=!s4(b,Z.current),G=D!==-1&&N===-1||J,ee=o4(a);ci(()=>{J&&F&&v(b)},[J,b,F,v]),q.useEffect(()=>{Z.current=b},[b]);const X=q.useMemo(()=>({activeIndex:N,containerId:E,disabled:ee,disableTransforms:G,items:b,overIndex:D,useDragOverlay:S,sortedRects:i4(b,f),strategy:s}),[N,E,ee.draggable,ee.droppable,G,b,D,f,S,s]);return Ht.createElement(uS.Provider,{value:X},e)}const c4=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return oS(n,r,s).indexOf(e)},d4=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:a,newIndex:u,previousItems:h,previousContainerId:f,transition:m}=t;return!m||!r||h!==a&&s===u?!1:n?!0:u!==s&&e===f},h4={duration:200,easing:"ease"},cS="transform",f4=ku.Transition.toString({property:cS,duration:0,easing:"linear"}),p4={roleDescription:"sortable"};function m4(t){let{disabled:e,index:n,node:r,rect:s}=t;const[a,u]=q.useState(null),h=q.useRef(n);return ci(()=>{if(!e&&n!==h.current&&r.current){const f=s.current;if(f){const m=dl(r.current,{ignoreTransform:!0}),v={x:f.left-m.left,y:f.top-m.top,scaleX:f.width/m.width,scaleY:f.height/m.height};(v.x||v.y)&&u(v)}}n!==h.current&&(h.current=n)},[e,n,r,s]),q.useEffect(()=>{a&&u(null)},[a]),a}function g4(t){let{animateLayoutChanges:e=d4,attributes:n,disabled:r,data:s,getNewIndex:a=c4,id:u,strategy:h,resizeObserverConfig:f,transition:m=h4}=t;const{items:v,containerId:E,activeIndex:S,disabled:b,disableTransforms:F,sortedRects:N,overIndex:D,useDragOverlay:Z,strategy:J}=q.useContext(uS),G=y4(r,b),ee=v.indexOf(u),X=q.useMemo(()=>({sortable:{containerId:E,index:ee,items:v},...s}),[E,s,ee,v]),oe=q.useMemo(()=>v.slice(v.indexOf(u)),[v,u]),{rect:C,node:T,isOver:k,setNodeRef:x}=r4({id:u,data:X,disabled:G.droppable,resizeObserverConfig:{updateMeasurementsFor:oe,...f}}),{active:P,activatorEvent:M,activeNodeRect:R,attributes:$e,setNodeRef:et,listeners:Xe,isDragging:Re,over:H,setActivatorNodeRef:he,transform:ce}=XL({id:u,data:X,attributes:{...p4,...n},disabled:G.draggable}),L=OV(x,et),K=!!P,ue=K&&!F&&_d(S)&&_d(D),we=!Z&&Re,Pe=we&&ue?ce:null,Te=ue?Pe??(h??J)({rects:N,activeNodeRect:R,activeIndex:S,overIndex:D,index:ee}):null,Le=_d(S)&&_d(D)?a({id:u,items:v,activeIndex:S,overIndex:D}):ee,Fe=P==null?void 0:P.id,ke=q.useRef({activeId:Fe,items:v,newIndex:Le,containerId:E}),zt=v!==ke.current.items,Et=e({active:P,containerId:E,isDragging:Re,isSorting:K,id:u,index:ee,items:v,newIndex:ke.current.newIndex,previousItems:ke.current.items,previousContainerId:ke.current.containerId,transition:m,wasDragging:ke.current.activeId!=null}),kn=m4({disabled:!Et,index:ee,node:T,rect:C});return q.useEffect(()=>{K&&ke.current.newIndex!==Le&&(ke.current.newIndex=Le),E!==ke.current.containerId&&(ke.current.containerId=E),v!==ke.current.items&&(ke.current.items=v)},[K,Le,E,v]),q.useEffect(()=>{if(Fe===ke.current.activeId)return;if(Fe!=null&&ke.current.activeId==null){ke.current.activeId=Fe;return}const Qn=setTimeout(()=>{ke.current.activeId=Fe},50);return()=>clearTimeout(Qn)},[Fe]),{active:P,activeIndex:S,attributes:$e,data:X,rect:C,index:ee,newIndex:Le,items:v,isOver:k,isSorting:K,isDragging:Re,listeners:Xe,node:T,overIndex:D,over:H,setNodeRef:L,setActivatorNodeRef:he,setDroppableNodeRef:x,setDraggableNodeRef:et,transform:kn??Te,transition:tn()};function tn(){if(kn||zt&&ke.current.newIndex===ee)return f4;if(!(we&&!zg(M)||!m)&&(K||Et))return ku.Transition.toString({...m,property:cS})}}function y4(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function rh(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const v4=[He.Down,He.Right,He.Up,He.Left],_4=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:u,scrollableAncestors:h}}=e;if(v4.includes(t.code)){if(t.preventDefault(),!n||!r)return;const f=[];a.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const S=s.get(E.id);if(S)switch(t.code){case He.Down:r.top<S.top&&f.push(E);break;case He.Up:r.top>S.top&&f.push(E);break;case He.Left:r.left>S.left&&f.push(E);break;case He.Right:r.left<S.left&&f.push(E);break}});const m=JV({collisionRect:r,droppableRects:s,droppableContainers:f});let v=GI(m,"id");if(v===(u==null?void 0:u.id)&&m.length>1&&(v=m[1].id),v!=null){const E=a.get(n.id),S=a.get(v),b=S?s.get(S.id):null,F=S==null?void 0:S.node.current;if(F&&b&&E&&S){const D=Oh(F).some((oe,C)=>h[C]!==oe),Z=dS(E,S),J=w4(E,S),G=D||!Z?{x:0,y:0}:{x:J?r.width-b.width:0,y:J?r.height-b.height:0},ee={x:b.left,y:b.top};return G.x&&G.y?ee:Su(ee,G)}}}};function dS(t,e){return!rh(t)||!rh(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function w4(t,e){return!rh(t)||!rh(e)||!dS(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const E4=({id:t,children:e})=>{const{attributes:n,listeners:r,setNodeRef:s,transform:a,transition:u,isDragging:h}=g4({id:t}),f={transform:ku.Transform.toString(a),transition:u,opacity:h?.5:1};return U.jsx("div",{ref:s,style:f,...n,...r,children:e})},T4=()=>{const{projects:t,loading:e}=Mg(),n=KV(u0(Bg),u0(Ug,{coordinateGetter:_4})),r=s=>{const{active:a,over:u}=s;a.id!==(u==null?void 0:u.id)&&console.log("Dragged",a.id,"to",u==null?void 0:u.id)};return e?U.jsx("div",{className:"p-4 text-xs text-gray-400",children:"Loading projects..."}):t.length===0?U.jsx("div",{className:"p-4 text-xs text-gray-400",children:"No projects found."}):U.jsx(ZL,{sensors:n,collisionDetection:ZV,onDragEnd:r,children:U.jsx(u4,{items:t.map(s=>s.id),strategy:a4,children:U.jsx("div",{className:"space-y-0.5 p-2",children:t.map(s=>U.jsx(E4,{id:s.id,children:U.jsx(I4,{project:s})},s.id))})})})},I4=({project:t})=>{const{filterType:e,targetId:n,setFilter:r}=Nh(),s=e==="project"&&n===t.id;return U.jsx("div",{onClick:()=>r("project",t.id),className:zr("group flex items-center justify-between px-2 py-1.5 rounded-md cursor-pointer transition-colors select-none",s?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200"),children:U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("span",{className:"text-gray-400 text-xs",children:"#"}),U.jsx("span",{className:"text-sm truncate",children:t.name})]})})},S4=({children:t})=>{const{sidebarWidth:e,isSidebarOpen:n,sidebarDensity:r}=Sm(),s={compact:"p-1",normal:"p-2",comfortable:"p-4",spacious:"p-6"}[r];return n?U.jsx("aside",{className:zr("h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300",s),style:{width:`${e}px`},children:U.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[U.jsx("div",{className:"mb-4",children:U.jsx("h2",{className:"text-xl font-bold px-2 text-gray-800 dark:text-gray-100",children:"TaskMg"})}),t]})}):null},T0=({title:t,children:e,defaultExpanded:n=!0})=>{const[r,s]=q.useState(n);return U.jsxs("div",{className:"mb-2",children:[U.jsxs("button",{onClick:()=>s(!r),className:"flex items-center w-full px-2 py-1 text-xs font-semibold text-gray-500 uppercase hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:[U.jsx("svg",{className:zr("w-3 h-3 mr-1 transition-transform",r?"rotate-90":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),t]}),r&&U.jsx("div",{className:"mt-1",children:e})]})},k4=()=>{const[t,e]=q.useState([]),[n,r]=q.useState(!0),s=$u();return q.useEffect(()=>{if(!s){r(!1);return}const a=RV(s,u=>{e(u),r(!1)});return()=>a()},[s]),{tasks:t,loading:n}},b4=({className:t,onCancel:e,placeholder:n="..."})=>{const[r,s]=q.useState(""),[a,u]=q.useState(!1),h=async m=>{if(!(!r.trim()||a)){u(!0);try{await SV({title:r}),s("")}catch(v){console.error(v),alert("Failed to add task")}finally{u(!1)}}},f=m=>{m.key==="Enter"&&!m.shiftKey&&!m.nativeEvent.isComposing&&(m.preventDefault(),h()),m.key==="Escape"&&(e==null||e())};return U.jsxs("div",{className:zr("bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-3",t),children:[U.jsx("input",{type:"text",autoFocus:!0,className:"w-full bg-transparent text-sm text-gray-800 dark:text-gray-100 placeholder-gray-400 outline-none mb-2",placeholder:n,value:r,onChange:m=>s(m.target.value),onKeyDown:f,disabled:a}),U.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-gray-700/50",children:[U.jsx("div",{className:"flex gap-2",children:U.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:U.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),U.jsxs("div",{className:"flex gap-2",children:[e&&U.jsx("button",{type:"button",onClick:e,disabled:a,className:"px-3 py-1.5 text-xs font-medium text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition",children:""}),U.jsx("button",{onClick:()=>h(),disabled:!r.trim()||a,className:"px-3 py-1.5 text-xs font-bold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded transition",children:a?"...":""})]})]})]})},A4=()=>{const[t,e]=q.useState(!1);return t?U.jsx("div",{className:"mb-4",children:U.jsx(b4,{onCancel:()=>e(!1)})}):U.jsxs("button",{onClick:()=>e(!0),className:"group flex items-center gap-2 w-full text-left py-2 px-1 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors mb-2",children:[U.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-transparent group-hover:bg-blue-100/50 dark:group-hover:bg-blue-900/30 transition-colors",children:U.jsx("svg",{className:"w-4 h-4 text-inherit",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),U.jsx("span",{className:"text-sm font-medium",children:""})]})},R4=({task:t})=>{const e=t.status==="completed",{openModal:n}=oh(),r=async s=>{s.stopPropagation(),t.id&&await AV(t.id,t.status||"todo")};return U.jsxs("li",{onClick:()=>n("task-detail",t),className:"group flex items-start gap-3 p-3 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700/50 rounded-xl hover:shadow-sm hover:border-blue-200 dark:hover:border-blue-800 transition-all duration-200 cursor-pointer",children:[U.jsx("button",{onClick:r,className:zr("mt-0.5 w-5 h-5 rounded-full border flex items-center justify-center transition-colors shrink-0",e?"bg-blue-500 border-blue-500 text-white":"border-gray-300 dark:border-gray-600 hover:border-blue-400 text-transparent"),"aria-label":e?"Mark as incomplete":"Mark as complete",children:U.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),U.jsxs("div",{className:"flex-1 min-w-0",children:[U.jsx("div",{className:zr("text-sm text-gray-800 dark:text-gray-200 break-words",e&&"line-through text-gray-400 dark:text-gray-500"),children:t.title}),t.description&&U.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:t.description}),U.jsx("div",{className:"flex items-center gap-2 mt-2",children:t.dueDate&&U.jsxs("span",{className:zr("text-xs flex items-center gap-1",e?"text-gray-400":"text-red-500"),children:[" ",typeof t.dueDate=="string"?t.dueDate:"Date"]})})]})]})},C4=()=>{const{tasks:t,loading:e}=k4();if(e)return U.jsx("div",{className:"flex items-center justify-center h-full",children:U.jsx("div",{className:"text-gray-400 text-sm",children:"Loading tasks..."})});const n=[...t].sort((r,s)=>0);return U.jsxs("div",{className:"space-y-2 pb-20",children:[U.jsx("div",{className:"mb-4",children:U.jsx(A4,{})}),t.length===0?U.jsx("div",{className:"text-center text-gray-400 py-10",children:U.jsx("p",{className:"text-sm",children:"No tasks found"})}):U.jsx("ul",{className:"space-y-2",children:n.map(r=>U.jsx(R4,{task:r},r.id))})]})},P4=()=>{const{toggleSidebar:t}=Sm(),{openModal:e}=oh(),{filterType:n,targetId:r}=Nh(),{projects:s}=Mg(),{labels:a}=Og(),u=()=>{var h,f;if(n==="project")return((h=s.find(m=>m.id===r))==null?void 0:h.name)||"Project";if(n==="label")return((f=a.find(m=>m.id===r))==null?void 0:f.name)||"Label";switch(n){case"inbox":return"Inbox";case"today":return"Today";case"upcoming":return"Upcoming";case"important":return"Important";case"all":return"All Tasks";default:return"TaskMg"}};return U.jsxs("div",{className:"h-full flex overflow-hidden bg-white dark:bg-gray-900 text-gray-800 dark:text-white",children:[U.jsx(PV,{}),U.jsx(S4,{children:U.jsxs("div",{className:"flex flex-col gap-4",children:[U.jsx(NV,{}),U.jsx(T0,{title:"Projects",children:U.jsx(T4,{})}),U.jsx(T0,{title:"Labels",defaultExpanded:!1,children:U.jsx(DV,{})})]})}),U.jsxs("main",{className:"flex-1 flex flex-col relative h-full overflow-hidden",children:[U.jsxs("header",{className:"h-14 border-b border-gray-200 dark:border-gray-800 flex items-center px-4 justify-between bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm z-10 sticky top-0",children:[U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("button",{onClick:t,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:U.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),U.jsx("h1",{className:"font-bold text-lg",children:u()})]}),U.jsx("div",{className:"flex items-center gap-2",children:U.jsx("button",{onClick:()=>e("settings"),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",title:"Settings",children:U.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]}),U.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar",children:U.jsx("div",{className:"max-w-3xl mx-auto",children:U.jsx(C4,{})})})]})]})},x4=new Wk,hS=document.getElementById("app");if(!hS)throw new Error("Failed to find the root element");Xk.createRoot(hS).render(U.jsx(Ht.StrictMode,{children:U.jsx(Gk,{client:x4,children:U.jsx(P4,{})})}));
