var tb=t=>{throw TypeError(t)};var fp=(t,e,n)=>e.has(t)||tb("Cannot "+n);var J=(t,e,n)=>(fp(t,e,"read from private field"),n?n.call(t):e.get(t)),$e=(t,e,n)=>e.has(t)?tb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ce=(t,e,n,s)=>(fp(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Mn=(t,e,n)=>(fp(t,e,"access private method"),n);var $f=(t,e,n,s)=>({set _(a){Ce(t,e,a,n)},get _(){return J(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function CT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hp={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function mR(){if(nb)return wu;nb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var m in a)m!=="key"&&(u[m]=a[m])}else u=a;return a=u.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:u}}return wu.Fragment=e,wu.jsx=n,wu.jsxs=n,wu}var rb;function pR(){return rb||(rb=1,hp.exports=mR()),hp.exports}var F=pR(),Uh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gR={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},js,_g,vT,yR=(vT=class{constructor(){$e(this,js,gR);$e(this,_g,!1)}setTimeoutProvider(t){Ce(this,js,t)}setTimeout(t,e){return J(this,js).setTimeout(t,e)}clearTimeout(t){J(this,js).clearTimeout(t)}setInterval(t,e){return J(this,js).setInterval(t,e)}clearInterval(t){J(this,js).clearInterval(t)}},js=new WeakMap,_g=new WeakMap,vT),Lp=new yR;function vR(t){setTimeout(t,0)}var Lh=typeof window>"u"||"Deno"in globalThis;function Hr(){}function _R(t,e){return typeof t=="function"?t(e):t}function bR(t){return typeof t=="number"&&t>=0&&t!==1/0}function ER(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pp(t,e){return typeof t=="function"?t(e):t}function TR(t,e){return typeof t=="function"?t(e):t}function ib(t,e){const{type:n="all",exact:s,fetchStatus:a,predicate:u,queryKey:c,stale:m}=t;if(c){if(s){if(e.queryHash!==bg(c,e.options))return!1}else if(!Fu(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof m=="boolean"&&e.isStale()!==m||a&&a!==e.state.fetchStatus||u&&!u(e))}function sb(t,e){const{exact:n,status:s,predicate:a,mutationKey:u}=t;if(u){if(!e.options.mutationKey)return!1;if(n){if(qu(e.options.mutationKey)!==qu(u))return!1}else if(!Fu(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function bg(t,e){return((e==null?void 0:e.queryKeyHashFn)||qu)(t)}function qu(t){return JSON.stringify(t,(e,n)=>jp(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Fu(t[n],e[n])):!1}var wR=Object.prototype.hasOwnProperty;function IT(t,e){if(t===e)return t;const n=ab(t)&&ab(e);if(!n&&!(jp(t)&&jp(e)))return e;const a=(n?t:Object.keys(t)).length,u=n?e:Object.keys(e),c=u.length,m=n?new Array(c):{};let p=0;for(let g=0;g<c;g++){const _=n?g:u[g],E=t[_],A=e[_];if(E===A){m[_]=E,(n?g<a:wR.call(t,_))&&p++;continue}if(E===null||A===null||typeof E!="object"||typeof A!="object"){m[_]=A;continue}const I=IT(E,A);m[_]=I,I===E&&p++}return a===c&&p===a?t:m}function ab(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jp(t){if(!ob(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ob(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ob(t){return Object.prototype.toString.call(t)==="[object Object]"}function SR(t){return new Promise(e=>{Lp.setTimeout(e,t)})}function AR(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?IT(t,e):e}function RR(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function CR(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Eg=Symbol();function xT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Eg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function IR(t,e,n){let s=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??(a=e()),s||(s=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var Oa,Bs,el,_T,xR=(_T=class extends Uh{constructor(){super();$e(this,Oa);$e(this,Bs);$e(this,el);Ce(this,el,e=>{if(!Lh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,Bs)||this.setEventListener(J(this,el))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Bs))==null||e.call(this),Ce(this,Bs,void 0))}setEventListener(e){var n;Ce(this,el,e),(n=J(this,Bs))==null||n.call(this),Ce(this,Bs,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){J(this,Oa)!==e&&(Ce(this,Oa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,Oa)=="boolean"?J(this,Oa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oa=new WeakMap,Bs=new WeakMap,el=new WeakMap,_T),DT=new xR;function DR(){let t,e;const n=new Promise((a,u)=>{t=a,e=u});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),e(a)},n}var NR=vR;function OR(){let t=[],e=0,n=m=>{m()},s=m=>{m()},a=NR;const u=m=>{e?t.push(m):a(()=>{n(m)})},c=()=>{const m=t;t=[],m.length&&a(()=>{s(()=>{m.forEach(p=>{n(p)})})})};return{batch:m=>{let p;e++;try{p=m()}finally{e--,e||c()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{s=m},setScheduler:m=>{a=m}}}var Zn=OR(),tl,qs,nl,bT,kR=(bT=class extends Uh{constructor(){super();$e(this,tl,!0);$e(this,qs);$e(this,nl);Ce(this,nl,e=>{if(!Lh&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){J(this,qs)||this.setEventListener(J(this,nl))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,qs))==null||e.call(this),Ce(this,qs,void 0))}setEventListener(e){var n;Ce(this,nl,e),(n=J(this,qs))==null||n.call(this),Ce(this,qs,e(this.setOnline.bind(this)))}setOnline(e){J(this,tl)!==e&&(Ce(this,tl,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return J(this,tl)}},tl=new WeakMap,qs=new WeakMap,nl=new WeakMap,bT),yh=new kR;function MR(t){return Math.min(1e3*2**t,3e4)}function NT(t){return(t??"online")==="online"?yh.isOnline():!0}var Bp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function OT(t){let e=!1,n=0,s;const a=DR(),u=()=>a.status!=="pending",c=k=>{var U;if(!u()){const W=new Bp(k);A(W),(U=t.onCancel)==null||U.call(t,W)}},m=()=>{e=!0},p=()=>{e=!1},g=()=>DT.isFocused()&&(t.networkMode==="always"||yh.isOnline())&&t.canRun(),_=()=>NT(t.networkMode)&&t.canRun(),E=k=>{u()||(s==null||s(),a.resolve(k))},A=k=>{u()||(s==null||s(),a.reject(k))},I=()=>new Promise(k=>{var U;s=W=>{(u()||g())&&k(W)},(U=t.onPause)==null||U.call(t)}).then(()=>{var k;s=void 0,u()||(k=t.onContinue)==null||k.call(t)}),P=()=>{if(u())return;let k;const U=n===0?t.initialPromise:void 0;try{k=U??t.fn()}catch(W){k=Promise.reject(W)}Promise.resolve(k).then(E).catch(W=>{var fe;if(u())return;const ie=t.retry??(Lh?0:3),Y=t.retryDelay??MR,le=typeof Y=="function"?Y(n,W):Y,se=ie===!0||typeof ie=="number"&&n<ie||typeof ie=="function"&&ie(n,W);if(e||!se){A(W);return}n++,(fe=t.onFail)==null||fe.call(t,n,W),SR(le).then(()=>g()?void 0:I()).then(()=>{e?A(W):P()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(s==null||s(),a),cancelRetry:m,continueRetry:p,canStart:_,start:()=>(_()?P():I().then(P),a)}}var ka,ET,kT=(ET=class{constructor(){$e(this,ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bR(this.gcTime)&&Ce(this,ka,Lp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lh?1/0:300*1e3))}clearGcTimeout(){J(this,ka)&&(Lp.clearTimeout(J(this,ka)),Ce(this,ka,void 0))}},ka=new WeakMap,ET),Ma,rl,kr,za,gn,ac,Va,Gr,Gi,TT,zR=(TT=class extends kT{constructor(n){super();$e(this,Gr);$e(this,Ma);$e(this,rl);$e(this,kr);$e(this,za);$e(this,gn);$e(this,ac);$e(this,Va);Ce(this,Va,!1),Ce(this,ac,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ce(this,za,n.client),Ce(this,kr,J(this,za).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ce(this,Ma,ub(this.options)),this.state=n.state??J(this,Ma),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=J(this,gn))==null?void 0:n.promise}setOptions(n){if(this.options={...J(this,ac),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=ub(this.options);s.data!==void 0&&(this.setState(lb(s.data,s.dataUpdatedAt)),Ce(this,Ma,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,kr).remove(this)}setData(n,s){const a=AR(this.state.data,n,this.options);return Mn(this,Gr,Gi).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(n,s){Mn(this,Gr,Gi).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var a,u;const s=(a=J(this,gn))==null?void 0:a.promise;return(u=J(this,gn))==null||u.cancel(n),s?s.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Ma))}isActive(){return this.observers.some(n=>TR(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Eg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Pp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ER(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(a=>a.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=J(this,gn))==null||s.continue()}onOnline(){var s;const n=this.observers.find(a=>a.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=J(this,gn))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),J(this,kr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(J(this,gn)&&(J(this,Va)?J(this,gn).cancel({revert:!0}):J(this,gn).cancelRetry()),this.scheduleGc()),J(this,kr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mn(this,Gr,Gi).call(this,{type:"invalidate"})}async fetch(n,s){var g,_,E,A,I,P,k,U,W,ie,Y,le;if(this.state.fetchStatus!=="idle"&&((g=J(this,gn))==null?void 0:g.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(J(this,gn))return J(this,gn).continueRetry(),J(this,gn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const se=this.observers.find(fe=>fe.options.queryFn);se&&this.setOptions(se.options)}const a=new AbortController,u=se=>{Object.defineProperty(se,"signal",{enumerable:!0,get:()=>(Ce(this,Va,!0),a.signal)})},c=()=>{const se=xT(this.options,s),C=(()=>{const w={client:J(this,za),queryKey:this.queryKey,meta:this.meta};return u(w),w})();return Ce(this,Va,!1),this.options.persister?this.options.persister(se,C,this):se(C)},p=(()=>{const se={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:J(this,za),state:this.state,fetchFn:c};return u(se),se})();(_=this.options.behavior)==null||_.onFetch(p,this),Ce(this,rl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=p.fetchOptions)==null?void 0:E.meta))&&Mn(this,Gr,Gi).call(this,{type:"fetch",meta:(A=p.fetchOptions)==null?void 0:A.meta}),Ce(this,gn,OT({initialPromise:s==null?void 0:s.initialPromise,fn:p.fetchFn,onCancel:se=>{se instanceof Bp&&se.revert&&this.setState({...J(this,rl),fetchStatus:"idle"}),a.abort()},onFail:(se,fe)=>{Mn(this,Gr,Gi).call(this,{type:"failed",failureCount:se,error:fe})},onPause:()=>{Mn(this,Gr,Gi).call(this,{type:"pause"})},onContinue:()=>{Mn(this,Gr,Gi).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const se=await J(this,gn).start();if(se===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(se),(P=(I=J(this,kr).config).onSuccess)==null||P.call(I,se,this),(U=(k=J(this,kr).config).onSettled)==null||U.call(k,se,this.state.error,this),se}catch(se){if(se instanceof Bp){if(se.silent)return J(this,gn).promise;if(se.revert){if(this.state.data===void 0)throw se;return this.state.data}}throw Mn(this,Gr,Gi).call(this,{type:"error",error:se}),(ie=(W=J(this,kr).config).onError)==null||ie.call(W,se,this),(le=(Y=J(this,kr).config).onSettled)==null||le.call(Y,this.state.data,se,this),se}finally{this.scheduleGc()}}},Ma=new WeakMap,rl=new WeakMap,kr=new WeakMap,za=new WeakMap,gn=new WeakMap,ac=new WeakMap,Va=new WeakMap,Gr=new WeakSet,Gi=function(n){const s=a=>{switch(n.type){case"failed":return{...a,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...VR(a.data,this.options),fetchMeta:n.meta??null};case"success":const u={...a,...lb(n.data,n.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ce(this,rl,n.manual?u:void 0),u;case"error":const c=n.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...n.state}}};this.state=s(this.state),Zn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),J(this,kr).notify({query:this,type:"updated",action:n})})},TT);function VR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lb(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ub(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function cb(t){return{onFetch:(e,n)=>{var _,E,A,I,P;const s=e.options,a=(A=(E=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:E.fetchMore)==null?void 0:A.direction,u=((I=e.state.data)==null?void 0:I.pages)||[],c=((P=e.state.data)==null?void 0:P.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const g=async()=>{let k=!1;const U=Y=>{IR(Y,()=>e.signal,()=>k=!0)},W=xT(e.options,e.fetchOptions),ie=async(Y,le,se)=>{if(k)return Promise.reject();if(le==null&&Y.pages.length)return Promise.resolve(Y);const C=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:le,direction:se?"backward":"forward",meta:e.options.meta};return U(D),D})(),w=await W(C),{maxPages:R}=e.options,O=se?CR:RR;return{pages:O(Y.pages,w,R),pageParams:O(Y.pageParams,le,R)}};if(a&&u.length){const Y=a==="backward",le=Y?UR:fb,se={pages:u,pageParams:c},fe=le(s,se);m=await ie(se,fe,Y)}else{const Y=t??u.length;do{const le=p===0?c[0]??s.initialPageParam:fb(s,m);if(p>0&&le==null)break;m=await ie(m,le),p++}while(p<Y)}return m};e.options.persister?e.fetchFn=()=>{var k,U;return(U=(k=e.options).persister)==null?void 0:U.call(k,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=g}}}function fb(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function UR(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var oc,hi,Gn,Ua,di,Ls,wT,LR=(wT=class extends kT{constructor(n){super();$e(this,di);$e(this,oc);$e(this,hi);$e(this,Gn);$e(this,Ua);Ce(this,oc,n.client),this.mutationId=n.mutationId,Ce(this,Gn,n.mutationCache),Ce(this,hi,[]),this.state=n.state||PR(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){J(this,hi).includes(n)||(J(this,hi).push(n),this.clearGcTimeout(),J(this,Gn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ce(this,hi,J(this,hi).filter(s=>s!==n)),this.scheduleGc(),J(this,Gn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){J(this,hi).length||(this.state.status==="pending"?this.scheduleGc():J(this,Gn).remove(this))}continue(){var n;return((n=J(this,Ua))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var m,p,g,_,E,A,I,P,k,U,W,ie,Y,le,se,fe,C,w,R,O;const s=()=>{Mn(this,di,Ls).call(this,{type:"continue"})},a={client:J(this,oc),meta:this.options.meta,mutationKey:this.options.mutationKey};Ce(this,Ua,OT({fn:()=>this.options.mutationFn?this.options.mutationFn(n,a):Promise.reject(new Error("No mutationFn found")),onFail:(D,V)=>{Mn(this,di,Ls).call(this,{type:"failed",failureCount:D,error:V})},onPause:()=>{Mn(this,di,Ls).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Gn).canRun(this)}));const u=this.state.status==="pending",c=!J(this,Ua).canStart();try{if(u)s();else{Mn(this,di,Ls).call(this,{type:"pending",variables:n,isPaused:c}),await((p=(m=J(this,Gn).config).onMutate)==null?void 0:p.call(m,n,this,a));const V=await((_=(g=this.options).onMutate)==null?void 0:_.call(g,n,a));V!==this.state.context&&Mn(this,di,Ls).call(this,{type:"pending",context:V,variables:n,isPaused:c})}const D=await J(this,Ua).start();return await((A=(E=J(this,Gn).config).onSuccess)==null?void 0:A.call(E,D,n,this.state.context,this,a)),await((P=(I=this.options).onSuccess)==null?void 0:P.call(I,D,n,this.state.context,a)),await((U=(k=J(this,Gn).config).onSettled)==null?void 0:U.call(k,D,null,this.state.variables,this.state.context,this,a)),await((ie=(W=this.options).onSettled)==null?void 0:ie.call(W,D,null,n,this.state.context,a)),Mn(this,di,Ls).call(this,{type:"success",data:D}),D}catch(D){try{await((le=(Y=J(this,Gn).config).onError)==null?void 0:le.call(Y,D,n,this.state.context,this,a))}catch(V){Promise.reject(V)}try{await((fe=(se=this.options).onError)==null?void 0:fe.call(se,D,n,this.state.context,a))}catch(V){Promise.reject(V)}try{await((w=(C=J(this,Gn).config).onSettled)==null?void 0:w.call(C,void 0,D,this.state.variables,this.state.context,this,a))}catch(V){Promise.reject(V)}try{await((O=(R=this.options).onSettled)==null?void 0:O.call(R,void 0,D,n,this.state.context,a))}catch(V){Promise.reject(V)}throw Mn(this,di,Ls).call(this,{type:"error",error:D}),D}finally{J(this,Gn).runNext(this)}}},oc=new WeakMap,hi=new WeakMap,Gn=new WeakMap,Ua=new WeakMap,di=new WeakSet,Ls=function(n){const s=a=>{switch(n.type){case"failed":return{...a,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...a,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:n.error,failureCount:a.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Zn.batch(()=>{J(this,hi).forEach(a=>{a.onMutationUpdate(n)}),J(this,Gn).notify({mutation:this,type:"updated",action:n})})},wT);function PR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zi,Zr,lc,ST,jR=(ST=class extends Uh{constructor(e={}){super();$e(this,Zi);$e(this,Zr);$e(this,lc);this.config=e,Ce(this,Zi,new Set),Ce(this,Zr,new Map),Ce(this,lc,0)}build(e,n,s){const a=new LR({client:e,mutationCache:this,mutationId:++$f(this,lc)._,options:e.defaultMutationOptions(n),state:s});return this.add(a),a}add(e){J(this,Zi).add(e);const n=Qf(e);if(typeof n=="string"){const s=J(this,Zr).get(n);s?s.push(e):J(this,Zr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,Zi).delete(e)){const n=Qf(e);if(typeof n=="string"){const s=J(this,Zr).get(n);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&J(this,Zr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Qf(e);if(typeof n=="string"){const s=J(this,Zr).get(n),a=s==null?void 0:s.find(u=>u.state.status==="pending");return!a||a===e}else return!0}runNext(e){var s;const n=Qf(e);if(typeof n=="string"){const a=(s=J(this,Zr).get(n))==null?void 0:s.find(u=>u!==e&&u.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zn.batch(()=>{J(this,Zi).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,Zi).clear(),J(this,Zr).clear()})}getAll(){return Array.from(J(this,Zi))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>sb(n,s))}findAll(e={}){return this.getAll().filter(n=>sb(e,n))}notify(e){Zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hr))))}},Zi=new WeakMap,Zr=new WeakMap,lc=new WeakMap,ST);function Qf(t){var e;return(e=t.options.scope)==null?void 0:e.id}var mi,AT,BR=(AT=class extends Uh{constructor(e={}){super();$e(this,mi);this.config=e,Ce(this,mi,new Map)}build(e,n,s){const a=n.queryKey,u=n.queryHash??bg(a,n);let c=this.get(u);return c||(c=new zR({client:e,queryKey:a,queryHash:u,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){J(this,mi).has(e.queryHash)||(J(this,mi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,mi).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,mi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,mi).get(e)}getAll(){return[...J(this,mi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>ib(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>ib(e,s)):n}notify(e){Zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mi=new WeakMap,AT),kt,Fs,Hs,il,sl,Gs,al,ol,RT,qR=(RT=class{constructor(t={}){$e(this,kt);$e(this,Fs);$e(this,Hs);$e(this,il);$e(this,sl);$e(this,Gs);$e(this,al);$e(this,ol);Ce(this,kt,t.queryCache||new BR),Ce(this,Fs,t.mutationCache||new jR),Ce(this,Hs,t.defaultOptions||{}),Ce(this,il,new Map),Ce(this,sl,new Map),Ce(this,Gs,0)}mount(){$f(this,Gs)._++,J(this,Gs)===1&&(Ce(this,al,DT.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,kt).onFocus())})),Ce(this,ol,yh.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,kt).onOnline())})))}unmount(){var t,e;$f(this,Gs)._--,J(this,Gs)===0&&((t=J(this,al))==null||t.call(this),Ce(this,al,void 0),(e=J(this,ol))==null||e.call(this),Ce(this,ol,void 0))}isFetching(t){return J(this,kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,Fs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=J(this,kt).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Pp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return J(this,kt).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),a=J(this,kt).get(s.queryHash),u=a==null?void 0:a.state.data,c=_R(e,u);if(c!==void 0)return J(this,kt).build(this,s).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Zn.batch(()=>J(this,kt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,kt);Zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,kt);return Zn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Zn.batch(()=>J(this,kt).findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then(Hr).catch(Hr)}invalidateQueries(t,e={}){return Zn.batch(()=>(J(this,kt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Zn.batch(()=>J(this,kt).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let u=a.fetch(void 0,n);return n.throwOnError||(u=u.catch(Hr)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(Hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,kt).build(this,e);return n.isStaleByTime(Pp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hr).catch(Hr)}fetchInfiniteQuery(t){return t.behavior=cb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hr).catch(Hr)}ensureInfiniteQueryData(t){return t.behavior=cb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yh.isOnline()?J(this,Fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,kt)}getMutationCache(){return J(this,Fs)}getDefaultOptions(){return J(this,Hs)}setDefaultOptions(t){Ce(this,Hs,t)}setQueryDefaults(t,e){J(this,il).set(qu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,il).values()],n={};return e.forEach(s=>{Fu(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){J(this,sl).set(qu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,sl).values()],n={};return e.forEach(s=>{Fu(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,Hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Eg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,Hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,kt).clear(),J(this,Fs).clear()}},kt=new WeakMap,Fs=new WeakMap,Hs=new WeakMap,il=new WeakMap,sl=new WeakMap,Gs=new WeakMap,al=new WeakMap,ol=new WeakMap,RT),dp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function FR(){if(hb)return Ne;hb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function W(M,Q,te){this.props=M,this.context=Q,this.refs=U,this.updater=te||P}W.prototype.isReactComponent={},W.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ie(){}ie.prototype=W.prototype;function Y(M,Q,te){this.props=M,this.context=Q,this.refs=U,this.updater=te||P}var le=Y.prototype=new ie;le.constructor=Y,k(le,W.prototype),le.isPureReactComponent=!0;var se=Array.isArray;function fe(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,Q,te){var he=te.ref;return{$$typeof:t,type:M,key:Q,ref:he!==void 0?he:null,props:te}}function O(M,Q){return R(M.type,Q,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function V(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Q[te]})}var x=/\/+/g;function Ye(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):Q.toString(36)}function it(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(fe,fe):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,Q,te,he,be){var Te=typeof M;(Te==="undefined"||Te==="boolean")&&(M=null);var Ee=!1;if(M===null)Ee=!0;else switch(Te){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(M.$$typeof){case t:case e:Ee=!0;break;case _:return Ee=M._init,$(Ee(M._payload),Q,te,he,be)}}if(Ee)return be=be(M),Ee=he===""?"."+Ye(M,0):he,se(be)?(te="",Ee!=null&&(te=Ee.replace(x,"$&/")+"/"),$(be,Q,te,"",function(De){return De})):be!=null&&(D(be)&&(be=O(be,te+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(x,"$&/")+"/")+Ee)),Q.push(be)),1;Ee=0;var at=he===""?".":he+":";if(se(M))for(var Pe=0;Pe<M.length;Pe++)he=M[Pe],Te=at+Ye(he,Pe),Ee+=$(he,Q,te,Te,be);else if(Pe=I(M),typeof Pe=="function")for(M=Pe.call(M),Pe=0;!(he=M.next()).done;)he=he.value,Te=at+Ye(he,Pe++),Ee+=$(he,Q,te,Te,be);else if(Te==="object"){if(typeof M.then=="function")return $(it(M),Q,te,he,be);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ue(M,Q,te){if(M==null)return M;var he=[],be=0;return $(M,he,"","",function(Te){return Q.call(te,Te,be++)}),he}function ae(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var xe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ve={map:ue,forEach:function(M,Q,te){ue(M,function(){Q.apply(this,arguments)},te)},count:function(M){var Q=0;return ue(M,function(){Q++}),Q},toArray:function(M){return ue(M,function(Q){return Q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=E,Ne.Children=Ve,Ne.Component=W,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=Y,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,Q,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=k({},M.props),be=M.key;if(Q!=null)for(Te in Q.key!==void 0&&(be=""+Q.key),Q)!w.call(Q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Q.ref===void 0||(he[Te]=Q[Te]);var Te=arguments.length-2;if(Te===1)he.children=te;else if(1<Te){for(var Ee=Array(Te),at=0;at<Te;at++)Ee[at]=arguments[at+2];he.children=Ee}return R(M.type,be,he)},Ne.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ne.createElement=function(M,Q,te){var he,be={},Te=null;if(Q!=null)for(he in Q.key!==void 0&&(Te=""+Q.key),Q)w.call(Q,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=Q[he]);var Ee=arguments.length-2;if(Ee===1)be.children=te;else if(1<Ee){for(var at=Array(Ee),Pe=0;Pe<Ee;Pe++)at[Pe]=arguments[Pe+2];be.children=at}if(M&&M.defaultProps)for(he in Ee=M.defaultProps,Ee)be[he]===void 0&&(be[he]=Ee[he]);return R(M,Te,be)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:m,render:M}},Ne.isValidElement=D,Ne.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:ae}},Ne.memo=function(M,Q){return{$$typeof:g,type:M,compare:Q===void 0?null:Q}},Ne.startTransition=function(M){var Q=C.T,te={};C.T=te;try{var he=M(),be=C.S;be!==null&&be(te,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(fe,xe)}catch(Te){xe(Te)}finally{Q!==null&&te.types!==null&&(Q.types=te.types),C.T=Q}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(M){return C.H.use(M)},Ne.useActionState=function(M,Q,te){return C.H.useActionState(M,Q,te)},Ne.useCallback=function(M,Q){return C.H.useCallback(M,Q)},Ne.useContext=function(M){return C.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,Q){return C.H.useDeferredValue(M,Q)},Ne.useEffect=function(M,Q){return C.H.useEffect(M,Q)},Ne.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(M,Q,te){return C.H.useImperativeHandle(M,Q,te)},Ne.useInsertionEffect=function(M,Q){return C.H.useInsertionEffect(M,Q)},Ne.useLayoutEffect=function(M,Q){return C.H.useLayoutEffect(M,Q)},Ne.useMemo=function(M,Q){return C.H.useMemo(M,Q)},Ne.useOptimistic=function(M,Q){return C.H.useOptimistic(M,Q)},Ne.useReducer=function(M,Q,te){return C.H.useReducer(M,Q,te)},Ne.useRef=function(M){return C.H.useRef(M)},Ne.useState=function(M){return C.H.useState(M)},Ne.useSyncExternalStore=function(M,Q,te){return C.H.useSyncExternalStore(M,Q,te)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.3",Ne}var db;function Tg(){return db||(db=1,dp.exports=FR()),dp.exports}var G=Tg();const an=CT(G);var HR=G.createContext(void 0),GR=({client:t,children:e})=>(G.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),F.jsx(HR.Provider,{value:t,children:e})),mp={exports:{}},Su={},pp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function ZR(){return mb||(mb=1,(function(t){function e($,ue){var ae=$.length;$.push(ue);e:for(;0<ae;){var xe=ae-1>>>1,Ve=$[xe];if(0<a(Ve,ue))$[xe]=ue,$[ae]=Ve,ae=xe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ue=$[0],ae=$.pop();if(ae!==ue){$[0]=ae;e:for(var xe=0,Ve=$.length,M=Ve>>>1;xe<M;){var Q=2*(xe+1)-1,te=$[Q],he=Q+1,be=$[he];if(0>a(te,ae))he<Ve&&0>a(be,te)?($[xe]=be,$[he]=ae,xe=he):($[xe]=te,$[Q]=ae,xe=Q);else if(he<Ve&&0>a(be,ae))$[xe]=be,$[he]=ae,xe=he;else break e}}return ue}function a($,ue){var ae=$.sortIndex-ue.sortIndex;return ae!==0?ae:$.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,E=null,A=3,I=!1,P=!1,k=!1,U=!1,W=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le($){for(var ue=n(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=$)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function se($){if(k=!1,le($),!P)if(n(p)!==null)P=!0,fe||(fe=!0,V());else{var ue=n(g);ue!==null&&it(se,ue.startTime-$)}}var fe=!1,C=-1,w=5,R=-1;function O(){return U?!0:!(t.unstable_now()-R<w)}function D(){if(U=!1,fe){var $=t.unstable_now();R=$;var ue=!0;try{e:{P=!1,k&&(k=!1,ie(C),C=-1),I=!0;var ae=A;try{t:{for(le($),E=n(p);E!==null&&!(E.expirationTime>$&&O());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,A=E.priorityLevel;var Ve=xe(E.expirationTime<=$);if($=t.unstable_now(),typeof Ve=="function"){E.callback=Ve,le($),ue=!0;break t}E===n(p)&&s(p),le($)}else s(p);E=n(p)}if(E!==null)ue=!0;else{var M=n(g);M!==null&&it(se,M.startTime-$),ue=!1}}break e}finally{E=null,A=ae,I=!1}ue=void 0}}finally{ue?V():fe=!1}}}var V;if(typeof Y=="function")V=function(){Y(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ye=x.port2;x.port1.onmessage=D,V=function(){Ye.postMessage(null)}}else V=function(){W(D,0)};function it($,ue){C=W(function(){$(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function($){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var ae=A;A=ue;try{return $()}finally{A=ae}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=A;A=$;try{return ue()}finally{A=ae}},t.unstable_scheduleCallback=function($,ue,ae){var xe=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,$){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ae+Ve,$={id:_++,callback:ue,priorityLevel:$,startTime:ae,expirationTime:Ve,sortIndex:-1},ae>xe?($.sortIndex=ae,e(g,$),n(p)===null&&$===n(g)&&(k?(ie(C),C=-1):k=!0,it(se,ae-xe))):($.sortIndex=Ve,e(p,$),P||I||(P=!0,fe||(fe=!0,V()))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var ue=A;return function(){var ae=A;A=ue;try{return $.apply(this,arguments)}finally{A=ae}}}})(gp)),gp}var pb;function $R(){return pb||(pb=1,pp.exports=ZR()),pp.exports}var yp={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function QR(){if(gb)return zn;gb=1;var t=Tg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},zn.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},zn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},zn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},zn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=m(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:I}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},zn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},zn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},zn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},zn.requestFormReset=function(p){s.d.r(p)},zn.unstable_batchedUpdates=function(p,g){return p(g)},zn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},zn.useFormStatus=function(){return c.H.useHostTransitionStatus()},zn.version="19.2.3",zn}var yb;function MT(){if(yb)return yp.exports;yb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yp.exports=QR(),yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function KR(){if(vb)return Su;vb=1;var t=$R(),e=Tg(),n=MT();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(u(r)!==r)throw Error(s(188))}function g(r){var i=r.alternate;if(!i){if(i=u(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,l=i;;){var h=o.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){o=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===o)return p(h),r;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(o.return!==l.return)o=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===o){v=!0,o=h,l=d;break}if(T===l){v=!0,l=h,o=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===o){v=!0,o=d,l=h;break}if(T===l){v=!0,l=d,o=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function _(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=_(r),i!==null)return i;r=r.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function Ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case W:return"Profiler";case U:return"StrictMode";case se:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case P:return"Portal";case Y:return r.displayName||"Context";case ie:return(r._context.displayName||"Context")+".Consumer";case le:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return i=r.displayName||null,i!==null?i:Ye(r.type)||"Memo";case w:i=r._payload,r=r._init;try{return Ye(r(i))}catch{}}return null}var it=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],Ve=-1;function M(r){return{current:r}}function Q(r){0>Ve||(r.current=xe[Ve],xe[Ve]=null,Ve--)}function te(r,i){Ve++,xe[Ve]=r.current,r.current=i}var he=M(null),be=M(null),Te=M(null),Ee=M(null);function at(r,i){switch(te(Te,i),te(be,r),te(he,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?S0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=S0(i),r=A0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Q(he),te(he,r)}function Pe(){Q(he),Q(be),Q(Te)}function De(r){r.memoizedState!==null&&te(Ee,r);var i=he.current,o=A0(i,r.type);i!==o&&(te(be,r),te(he,o))}function Jt(r){be.current===r&&(Q(he),Q(be)),Ee.current===r&&(Q(Ee),_u._currentValue=ae)}var Rt,ur;function zt(r){if(Rt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Rt=i&&i[1]||"",ur=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+r+ur}var $n=!1;function cr(r,i){if(!r||$n)return"";$n=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Z){var H=Z}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(Z){H=Z}r.call(ne.prototype)}}else{try{throw Error()}catch(Z){H=Z}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Z){if(Z&&H&&typeof Z.stack=="string")return[Z.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),q=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var X=`
`+N[l].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=l&&0<=h);break}}}finally{$n=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?zt(o):""}function eo(r,i){switch(r.tag){case 26:case 27:case 5:return zt(r.type);case 16:return zt("Lazy");case 13:return r.child!==i&&i!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return cr(r.type,!1);case 11:return cr(r.type.render,!1);case 1:return cr(r.type,!0);case 31:return zt("Activity");default:return""}}function ra(r){try{var i="",o=null;do i+=eo(r,o),o=r,r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Xr=Object.prototype.hasOwnProperty,Dn=t.unstable_scheduleCallback,Vr=t.unstable_cancelCallback,Yi=t.unstable_shouldYield,Xi=t.unstable_requestPaint,qt=t.unstable_now,to=t.unstable_getCurrentPriorityLevel,Vt=t.unstable_ImmediatePriority,gt=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,Jr=t.unstable_LowPriority,Ji=t.unstable_IdlePriority,Er=t.log,Wr=t.unstable_setDisableYieldValue,ei=null,on=null;function On(r){if(typeof Er=="function"&&Wr(r),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(ei,r)}catch{}}var ln=Math.clz32?Math.clz32:no,Il=Math.log,Wi=Math.LN2;function no(r){return r>>>=0,r===0?32:31-(Il(r)/Wi|0)|0}var bi=256,Tr=262144,yt=4194304;function vt(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mt(r,i,o){var l=r.pendingLanes;if(l===0)return 0;var h=0,d=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=vt(l):(v&=T,v!==0?h=vt(v):o||(o=T&~r,o!==0&&(h=vt(o))))):(T=l&~d,T!==0?h=vt(T):v!==0?h=vt(v):o||(o=l&~r,o!==0&&(h=vt(o)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,o=i&-i,d>=o||d===32&&(o&4194048)!==0)?i:h}function _n(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Wt(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var r=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),r}function Ft(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Ln(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ge(r,i,o,l,h,d){var v=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,N=r.expirationTimes,q=r.hiddenUpdates;for(o=v&~o;0<o;){var X=31-ln(o),ne=1<<X;T[X]=0,N[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var Z=H[X];Z!==null&&(Z.lane&=-536870913)}o&=~ne}l!==0&&Qn(r,l,0),d!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=d&~(v&~i))}function Qn(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-ln(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function tn(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var l=31-ln(o),h=1<<l;h&i|r[l]&i&&(r[l]|=i),o&=~h}}function un(r,i){var o=i&-i;return o=(o&42)!==0?1:Ur(o),(o&(r.suspendedLanes|i))!==0?0:o}function Ur(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Lr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function fn(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:Q0(r.type))}function ti(r,i){var o=ue.p;try{return ue.p=r,i()}finally{ue.p=o}}var Kn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Kn,bn="__reactProps$"+Kn,ni="__reactContainer$"+Kn,es="__reactEvents$"+Kn,ri="__reactListeners$"+Kn,wc="__reactHandles$"+Kn,xl="__reactResources$"+Kn,Ei="__reactMarker$"+Kn;function ia(r){delete r[xt],delete r[bn],delete r[es],delete r[ri],delete r[wc]}function Ti(r){var i=r[xt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[ni]||o[xt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=O0(r);r!==null;){if(o=r[xt])return o;r=O0(r)}return i}r=o,o=r.parentNode}return null}function wi(r){if(r=r[xt]||r[ni]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function sa(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Pr(r){var i=r[xl];return i||(i=r[xl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ut(r){r[Ei]=!0}var ro=new Set,ts={};function Pn(r,i){ii(r,i),ii(r+"Capture",i)}function ii(r,i){for(ts[r]=i,r=0;r<i.length;r++)ro.add(i[r])}var hd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Nl={};function Sc(r){return Xr.call(Nl,r)?!0:Xr.call(Dl,r)?!1:hd.test(r)?Nl[r]=!0:(Dl[r]=!0,!1)}function ns(r,i,o){if(Sc(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function rs(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function wr(r,i,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+l)}}function jn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ac(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dd(r,i,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function io(r){if(!r._valueTracker){var i=Ac(r)?"checked":"value";r._valueTracker=dd(r,i,""+r[i])}}function Ol(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return r&&(l=Ac(r)?r.checked?"true":"false":r.value),r=l,r!==o?(i.setValue(r),!0):!1}function so(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Si=/[\n"\\]/g;function Dt(r){return r.replace(Si,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function is(r,i,o,l,h,d,v,T){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),i!=null?v==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+jn(i)):r.value!==""+jn(i)&&(r.value=""+jn(i)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),i!=null?ao(r,v,jn(i)):o!=null?ao(r,v,jn(o)):l!=null&&r.removeAttribute("value"),h==null&&d!=null&&(r.defaultChecked=!!d),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+jn(T):r.removeAttribute("name")}function aa(r,i,o,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(r.type=d),i!=null||o!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){io(r);return}o=o!=null?""+jn(o):"",i=i!=null?""+jn(i):o,T||i===r.value||(r.value=i),r.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=T?r.checked:!!l,r.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v),io(r)}function ao(r,i,o){i==="number"&&so(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Je(r,i,o,l){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&l&&(r[o].defaultSelected=!0)}else{for(o=""+jn(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,l&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function oa(r,i,o){if(i!=null&&(i=""+jn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+jn(o):""}function ss(r,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=jn(i),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),io(r)}function Sr(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var md=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(r,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,o):typeof o!="number"||o===0||md.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Rc(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&o[h]!==l&&kl(r,h,l)}else for(var d in i)i.hasOwnProperty(d)&&kl(r,d,i[d])}function Ml(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function si(r){return gd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function hn(){}var oo=null;function lo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ai=null,fr=null;function Cc(r){var i=wi(r);if(i&&(r=i.stateNode)){var o=r[bn]||null;e:switch(r=i.stateNode,i.type){case"input":if(is(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==r&&l.form===r.form){var h=l[bn]||null;if(!h)throw Error(s(90));is(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===r.form&&Ol(l)}break e;case"textarea":oa(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Je(r,!!o.multiple,i,!1)}}}var zl=!1;function Ic(r,i,o){if(zl)return r(i,o);zl=!0;try{var l=r(i);return l}finally{if(zl=!1,(Ai!==null||fr!==null)&&(Af(),Ai&&(i=Ai,r=fr,fr=Ai=null,Cc(i),r)))for(i=0;i<r.length;i++)Cc(r[i])}}function Yn(r,i){var o=r.stateNode;if(o===null)return null;var l=o[bn]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(jr)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Vl=!1}var hr=null,uo=null,oi=null;function as(){if(oi)return oi;var r,i=uo,o=i.length,l,h="value"in hr?hr.value:hr.textContent,d=h.length;for(r=0;r<o&&i[r]===h[r];r++);var v=o-r;for(l=1;l<=v&&i[o-l]===h[d-l];l++);return oi=h.slice(r,1<l?1-l:void 0)}function la(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function os(){return!0}function _t(){return!1}function kn(r){function i(o,l,h,d,v){this._reactName=o,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?os:_t,this.isPropagationStopped=_t,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),i}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=kn(Ri),ls=E({},Ri,{view:0,detail:0}),xc=kn(ls),us,co,Bn,ca=E({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Bn&&(Bn&&r.type==="mousemove"?(us=r.screenX-Bn.screenX,co=r.screenY-Bn.screenY):co=us=0,Bn=r),us)},movementY:function(r){return"movementY"in r?r.movementY:co}}),Dc=kn(ca),fa=E({},ca,{dataTransfer:0}),Nc=kn(fa),Ul=E({},ls,{relatedTarget:0}),cs=kn(Ul),Oc=E({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=kn(Oc),yd=E({},Ri,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),kc=kn(yd),ha=E({},Ri,{data:0}),Ll=kn(ha),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=jl[r])?!!i[r]:!1}function fs(){return zc}var Vc=E({},ls,{key:function(r){if(r.key){var i=Mc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=la(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Pl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(r){return r.type==="keypress"?la(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?la(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Uc=kn(Vc),Ci=E({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=kn(Ci),Lc=E({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),Pc=kn(Lc),jc=E({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),ho=kn(jc),qn=E({},ca,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bc=kn(qn),qc=E({},Ri,{newState:0,oldState:0}),hs=kn(qc),f=[9,13,27,32],y=jr&&"CompositionEvent"in window,b=null;jr&&"documentMode"in document&&(b=document.documentMode);var S=jr&&"TextEvent"in window&&!b,j=jr&&(!y||b&&8<b&&11>=b),K=" ",de=!1;function st(r,i){switch(r){case"keyup":return f.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ht(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ue=!1;function dn(r,i){switch(r){case"compositionend":return Ht(i);case"keypress":return i.which!==32?null:(de=!0,K);case"textInput":return r=i.data,r===K&&de?null:r;default:return null}}function mn(r,i){if(Ue)return r==="compositionend"||!y&&st(r,i)?(r=as(),oi=uo=hr=null,Ue=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return j&&i.locale!=="ko"?null:i.data;default:return null}}var ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ds[r.type]:i==="textarea"}function da(r,i,o,l){Ai?fr?fr.push(l):fr=[l]:Ai=l,i=Of(i,"onChange"),0<i.length&&(o=new ua("onChange","change",null,o,l),r.push({event:o,listeners:i}))}var Ii=null,ql=null;function BA(r){v0(r,0)}function Fc(r){var i=sa(r);if(Ol(i))return r}function Uy(r,i){if(r==="change")return i}var Ly=!1;if(jr){var vd;if(jr){var _d="oninput"in document;if(!_d){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),_d=typeof Py.oninput=="function"}vd=_d}else vd=!1;Ly=vd&&(!document.documentMode||9<document.documentMode)}function jy(){Ii&&(Ii.detachEvent("onpropertychange",By),ql=Ii=null)}function By(r){if(r.propertyName==="value"&&Fc(ql)){var i=[];da(i,ql,r,lo(r)),Ic(BA,i)}}function qA(r,i,o){r==="focusin"?(jy(),Ii=i,ql=o,Ii.attachEvent("onpropertychange",By)):r==="focusout"&&jy()}function FA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fc(ql)}function HA(r,i){if(r==="click")return Fc(i)}function GA(r,i){if(r==="input"||r==="change")return Fc(i)}function ZA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var dr=typeof Object.is=="function"?Object.is:ZA;function Fl(r,i){if(dr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var h=o[l];if(!Xr.call(i,h)||!dr(r[h],i[h]))return!1}return!0}function qy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Fy(r,i){var o=qy(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=i&&l>=i)return{node:o,offset:i-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qy(o)}}function Hy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Hy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Gy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=so(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=so(r.document)}return i}function bd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var $A=jr&&"documentMode"in document&&11>=document.documentMode,mo=null,Ed=null,Hl=null,Td=!1;function Zy(r,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Td||mo==null||mo!==so(l)||(l=mo,"selectionStart"in l&&bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hl&&Fl(Hl,l)||(Hl=l,l=Of(Ed,"onSelect"),0<l.length&&(i=new ua("onSelect","select",null,i,o),r.push({event:i,listeners:l}),i.target=mo)))}function ma(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var po={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},wd={},$y={};jr&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function pa(r){if(wd[r])return wd[r];if(!po[r])return r;var i=po[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in $y)return wd[r]=i[o];return r}var Qy=pa("animationend"),Ky=pa("animationiteration"),Yy=pa("animationstart"),QA=pa("transitionrun"),KA=pa("transitionstart"),YA=pa("transitioncancel"),Xy=pa("transitionend"),Jy=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function Br(r,i){Jy.set(r,i),Pn(i,[r])}var Hc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ar=[],go=0,Ad=0;function Gc(){for(var r=go,i=Ad=go=0;i<r;){var o=Ar[i];Ar[i++]=null;var l=Ar[i];Ar[i++]=null;var h=Ar[i];Ar[i++]=null;var d=Ar[i];if(Ar[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Wy(o,h,d)}}function Zc(r,i,o,l){Ar[go++]=r,Ar[go++]=i,Ar[go++]=o,Ar[go++]=l,Ad|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Rd(r,i,o,l){return Zc(r,i,o,l),$c(r)}function ga(r,i){return Zc(r,null,null,i),$c(r)}function Wy(r,i,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var h=!1,d=r.return;d!==null;)d.childLanes|=o,l=d.alternate,l!==null&&(l.childLanes|=o),d.tag===22&&(r=d.stateNode,r===null||r._visibility&1||(h=!0)),r=d,d=d.return;return r.tag===3?(d=r.stateNode,h&&i!==null&&(h=31-ln(o),r=d.hiddenUpdates,l=r[h],l===null?r[h]=[i]:l.push(i),i.lane=o|536870912),d):null}function $c(r){if(50<hu)throw hu=0,zm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var yo={};function XA(r,i,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(r,i,o,l){return new XA(r,i,o,l)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xi(r,i){var o=r.alternate;return o===null?(o=mr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function ev(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Qc(r,i,o,l,h,d){var v=0;if(l=r,typeof r=="function")Cd(r)&&(v=1);else if(typeof r=="string")v=nR(r,o,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=mr(31,o,i,h),r.elementType=R,r.lanes=d,r;case k:return ya(o.children,h,d,i);case U:v=8,h|=24;break;case W:return r=mr(12,o,i,h|2),r.elementType=W,r.lanes=d,r;case se:return r=mr(13,o,i,h),r.elementType=se,r.lanes=d,r;case fe:return r=mr(19,o,i,h),r.elementType=fe,r.lanes=d,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:v=10;break e;case ie:v=9;break e;case le:v=11;break e;case C:v=14;break e;case w:v=16,l=null;break e}v=29,o=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=mr(v,o,i,h),i.elementType=r,i.type=l,i.lanes=d,i}function ya(r,i,o,l){return r=mr(7,r,l,i),r.lanes=o,r}function Id(r,i,o){return r=mr(6,r,null,i),r.lanes=o,r}function tv(r){var i=mr(18,null,null,0);return i.stateNode=r,i}function xd(r,i,o){return i=mr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var nv=new WeakMap;function Rr(r,i){if(typeof r=="object"&&r!==null){var o=nv.get(r);return o!==void 0?o:(i={value:r,source:i,stack:ra(i)},nv.set(r,i),i)}return{value:r,source:i,stack:ra(i)}}var vo=[],_o=0,Kc=null,Gl=0,Cr=[],Ir=0,ms=null,li=1,ui="";function Di(r,i){vo[_o++]=Gl,vo[_o++]=Kc,Kc=r,Gl=i}function rv(r,i,o){Cr[Ir++]=li,Cr[Ir++]=ui,Cr[Ir++]=ms,ms=r;var l=li;r=ui;var h=32-ln(l)-1;l&=~(1<<h),o+=1;var d=32-ln(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,li=1<<32-ln(i)+h|o<<h|l,ui=d+r}else li=1<<d|o<<h|l,ui=r}function Dd(r){r.return!==null&&(Di(r,1),rv(r,1,0))}function Nd(r){for(;r===Kc;)Kc=vo[--_o],vo[_o]=null,Gl=vo[--_o],vo[_o]=null;for(;r===ms;)ms=Cr[--Ir],Cr[Ir]=null,ui=Cr[--Ir],Cr[Ir]=null,li=Cr[--Ir],Cr[Ir]=null}function iv(r,i){Cr[Ir++]=li,Cr[Ir++]=ui,Cr[Ir++]=ms,li=i.id,ui=i.overflow,ms=r}var En=null,bt=null,Ze=!1,ps=null,xr=!1,Od=Error(s(519));function gs(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Rr(i,r)),Od}function sv(r){var i=r.stateNode,o=r.type,l=r.memoizedProps;switch(i[xt]=r,i[bn]=l,o){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(o=0;o<mu.length;o++)Be(mu[o],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),aa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),ss(i,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||T0(i.textContent,o)?(l.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),l.onScroll!=null&&Be("scroll",i),l.onScrollEnd!=null&&Be("scrollend",i),l.onClick!=null&&(i.onclick=hn),i=!0):i=!1,i||gs(r,!0)}function av(r){for(En=r.return;En;)switch(En.tag){case 5:case 31:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:En=En.return}}function bo(r){if(r!==En)return!1;if(!Ze)return av(r),Ze=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ym(r.type,r.memoizedProps)),o=!o),o&&bt&&gs(r),av(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));bt=N0(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));bt=N0(r)}else i===27?(i=bt,Ds(r.type)?(r=tp,tp=null,bt=r):bt=i):bt=En?Nr(r.stateNode.nextSibling):null;return!0}function va(){bt=En=null,Ze=!1}function kd(){var r=ps;return r!==null&&(tr===null?tr=r:tr.push.apply(tr,r),ps=null),r}function Zl(r){ps===null?ps=[r]:ps.push(r)}var Md=M(null),_a=null,Ni=null;function ys(r,i,o){te(Md,i._currentValue),i._currentValue=o}function Oi(r){r._currentValue=Md.current,Q(Md)}function zd(r,i,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===o)break;r=r.return}}function Vd(r,i,o,l){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=o,T=d.alternate,T!==null&&(T.lanes|=o),zd(d.return,o,r),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=o,d=v.alternate,d!==null&&(d.lanes|=o),zd(v,o,r),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===r){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Eo(r,i,o,l){r=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dr(h.pendingProps.value,v.value)||(r!==null?r.push(T):r=[T])}}else if(h===Ee.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(_u):r=[_u])}h=h.return}r!==null&&Vd(i,r,o,l),i.flags|=262144}function Yc(r){for(r=r.firstContext;r!==null;){if(!dr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ba(r){_a=r,Ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tn(r){return ov(_a,r)}function Xc(r,i){return _a===null&&ba(r),ov(r,i)}function ov(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ni===null){if(r===null)throw Error(s(308));Ni=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ni=Ni.next=i;return o}var JA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},WA=t.unstable_scheduleCallback,e1=t.unstable_NormalPriority,Gt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new JA,data:new Map,refCount:0}}function $l(r){r.refCount--,r.refCount===0&&WA(e1,function(){r.controller.abort()})}var Ql=null,Ld=0,To=0,wo=null;function t1(r,i){if(Ql===null){var o=Ql=[];Ld=0,To=Bm(),wo={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Ld++,i.then(lv,lv),i}function lv(){if(--Ld===0&&Ql!==null){wo!==null&&(wo.status="fulfilled");var r=Ql;Ql=null,To=0,wo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function n1(r,i){var o=[],l={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),l}var uv=$.S;$.S=function(r,i){Z_=qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&t1(r,i),uv!==null&&uv(r,i)};var Ea=M(null);function Pd(){var r=Ea.current;return r!==null?r:dt.pooledCache}function Jc(r,i){i===null?te(Ea,Ea.current):te(Ea,i.pool)}function cv(){var r=Pd();return r===null?null:{parent:Gt._currentValue,pool:r}}var So=Error(s(460)),jd=Error(s(474)),Wc=Error(s(542)),ef={then:function(){}};function fv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hv(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(hn,hn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,mv(r),r;default:if(typeof i.status=="string")i.then(hn,hn);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,mv(r),r}throw wa=i,So}}function Ta(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,So):o}}var wa=null;function dv(){if(wa===null)throw Error(s(459));var r=wa;return wa=null,r}function mv(r){if(r===So||r===Wc)throw Error(s(483))}var Ao=null,Kl=0;function tf(r){var i=Kl;return Kl+=1,Ao===null&&(Ao=[]),hv(Ao,r,i)}function Yl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function nf(r,i){throw i.$$typeof===A?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function pv(r){function i(L,z){if(r){var B=L.deletions;B===null?(L.deletions=[z],L.flags|=16):B.push(z)}}function o(L,z){if(!r)return null;for(;z!==null;)i(L,z),z=z.sibling;return null}function l(L){for(var z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function h(L,z){return L=xi(L,z),L.index=0,L.sibling=null,L}function d(L,z,B){return L.index=B,r?(B=L.alternate,B!==null?(B=B.index,B<z?(L.flags|=67108866,z):B):(L.flags|=67108866,z)):(L.flags|=1048576,z)}function v(L){return r&&L.alternate===null&&(L.flags|=67108866),L}function T(L,z,B,ee){return z===null||z.tag!==6?(z=Id(B,L.mode,ee),z.return=L,z):(z=h(z,B),z.return=L,z)}function N(L,z,B,ee){var we=B.type;return we===k?X(L,z,B.props.children,ee,B.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===w&&Ta(we)===z.type)?(z=h(z,B.props),Yl(z,B),z.return=L,z):(z=Qc(B.type,B.key,B.props,null,L.mode,ee),Yl(z,B),z.return=L,z)}function q(L,z,B,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=xd(B,L.mode,ee),z.return=L,z):(z=h(z,B.children||[]),z.return=L,z)}function X(L,z,B,ee,we){return z===null||z.tag!==7?(z=ya(B,L.mode,ee,we),z.return=L,z):(z=h(z,B),z.return=L,z)}function ne(L,z,B){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Id(""+z,L.mode,B),z.return=L,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return B=Qc(z.type,z.key,z.props,null,L.mode,B),Yl(B,z),B.return=L,B;case P:return z=xd(z,L.mode,B),z.return=L,z;case w:return z=Ta(z),ne(L,z,B)}if(it(z)||V(z))return z=ya(z,L.mode,B,null),z.return=L,z;if(typeof z.then=="function")return ne(L,tf(z),B);if(z.$$typeof===Y)return ne(L,Xc(L,z),B);nf(L,z)}return null}function H(L,z,B,ee){var we=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return we!==null?null:T(L,z,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===we?N(L,z,B,ee):null;case P:return B.key===we?q(L,z,B,ee):null;case w:return B=Ta(B),H(L,z,B,ee)}if(it(B)||V(B))return we!==null?null:X(L,z,B,ee,null);if(typeof B.then=="function")return H(L,z,tf(B),ee);if(B.$$typeof===Y)return H(L,z,Xc(L,B),ee);nf(L,B)}return null}function Z(L,z,B,ee,we){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(B)||null,T(z,L,""+ee,we);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case I:return L=L.get(ee.key===null?B:ee.key)||null,N(z,L,ee,we);case P:return L=L.get(ee.key===null?B:ee.key)||null,q(z,L,ee,we);case w:return ee=Ta(ee),Z(L,z,B,ee,we)}if(it(ee)||V(ee))return L=L.get(B)||null,X(z,L,ee,we,null);if(typeof ee.then=="function")return Z(L,z,B,tf(ee),we);if(ee.$$typeof===Y)return Z(L,z,B,Xc(z,ee),we);nf(z,ee)}return null}function me(L,z,B,ee){for(var we=null,We=null,_e=z,ze=z=0,Fe=null;_e!==null&&ze<B.length;ze++){_e.index>ze?(Fe=_e,_e=null):Fe=_e.sibling;var et=H(L,_e,B[ze],ee);if(et===null){_e===null&&(_e=Fe);break}r&&_e&&et.alternate===null&&i(L,_e),z=d(et,z,ze),We===null?we=et:We.sibling=et,We=et,_e=Fe}if(ze===B.length)return o(L,_e),Ze&&Di(L,ze),we;if(_e===null){for(;ze<B.length;ze++)_e=ne(L,B[ze],ee),_e!==null&&(z=d(_e,z,ze),We===null?we=_e:We.sibling=_e,We=_e);return Ze&&Di(L,ze),we}for(_e=l(_e);ze<B.length;ze++)Fe=Z(_e,L,ze,B[ze],ee),Fe!==null&&(r&&Fe.alternate!==null&&_e.delete(Fe.key===null?ze:Fe.key),z=d(Fe,z,ze),We===null?we=Fe:We.sibling=Fe,We=Fe);return r&&_e.forEach(function(zs){return i(L,zs)}),Ze&&Di(L,ze),we}function Re(L,z,B,ee){if(B==null)throw Error(s(151));for(var we=null,We=null,_e=z,ze=z=0,Fe=null,et=B.next();_e!==null&&!et.done;ze++,et=B.next()){_e.index>ze?(Fe=_e,_e=null):Fe=_e.sibling;var zs=H(L,_e,et.value,ee);if(zs===null){_e===null&&(_e=Fe);break}r&&_e&&zs.alternate===null&&i(L,_e),z=d(zs,z,ze),We===null?we=zs:We.sibling=zs,We=zs,_e=Fe}if(et.done)return o(L,_e),Ze&&Di(L,ze),we;if(_e===null){for(;!et.done;ze++,et=B.next())et=ne(L,et.value,ee),et!==null&&(z=d(et,z,ze),We===null?we=et:We.sibling=et,We=et);return Ze&&Di(L,ze),we}for(_e=l(_e);!et.done;ze++,et=B.next())et=Z(_e,L,ze,et.value,ee),et!==null&&(r&&et.alternate!==null&&_e.delete(et.key===null?ze:et.key),z=d(et,z,ze),We===null?we=et:We.sibling=et,We=et);return r&&_e.forEach(function(dR){return i(L,dR)}),Ze&&Di(L,ze),we}function ht(L,z,B,ee){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:e:{for(var we=B.key;z!==null;){if(z.key===we){if(we=B.type,we===k){if(z.tag===7){o(L,z.sibling),ee=h(z,B.props.children),ee.return=L,L=ee;break e}}else if(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===w&&Ta(we)===z.type){o(L,z.sibling),ee=h(z,B.props),Yl(ee,B),ee.return=L,L=ee;break e}o(L,z);break}else i(L,z);z=z.sibling}B.type===k?(ee=ya(B.props.children,L.mode,ee,B.key),ee.return=L,L=ee):(ee=Qc(B.type,B.key,B.props,null,L.mode,ee),Yl(ee,B),ee.return=L,L=ee)}return v(L);case P:e:{for(we=B.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){o(L,z.sibling),ee=h(z,B.children||[]),ee.return=L,L=ee;break e}else{o(L,z);break}else i(L,z);z=z.sibling}ee=xd(B,L.mode,ee),ee.return=L,L=ee}return v(L);case w:return B=Ta(B),ht(L,z,B,ee)}if(it(B))return me(L,z,B,ee);if(V(B)){if(we=V(B),typeof we!="function")throw Error(s(150));return B=we.call(B),Re(L,z,B,ee)}if(typeof B.then=="function")return ht(L,z,tf(B),ee);if(B.$$typeof===Y)return ht(L,z,Xc(L,B),ee);nf(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,z!==null&&z.tag===6?(o(L,z.sibling),ee=h(z,B),ee.return=L,L=ee):(o(L,z),ee=Id(B,L.mode,ee),ee.return=L,L=ee),v(L)):o(L,z)}return function(L,z,B,ee){try{Kl=0;var we=ht(L,z,B,ee);return Ao=null,we}catch(_e){if(_e===So||_e===Wc)throw _e;var We=mr(29,_e,null,L.mode);return We.lanes=ee,We.return=L,We}finally{}}}var Sa=pv(!0),gv=pv(!1),vs=!1;function Bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _s(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function bs(r,i,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=$c(r),Wy(r,null,o),i}return Zc(r,l,i,o),$c(r)}function Xl(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,tn(r,o)}}function Fd(r,i){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var h=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,o=o.next}while(o!==null);d===null?h=d=i:d=d.next=i}else h=d=i;o={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Hd=!1;function Jl(){if(Hd){var r=wo;if(r!==null)throw r}}function Wl(r,i,o,l){Hd=!1;var h=r.updateQueue;vs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,q=N.next;N.next=null,v===null?d=q:v.next=q,v=N;var X=r.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=N))}if(d!==null){var ne=h.baseState;v=0,X=q=N=null,T=d;do{var H=T.lane&-536870913,Z=H!==T.lane;if(Z?(qe&H)===H:(l&H)===H){H!==0&&H===To&&(Hd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=r,Re=T;H=i;var ht=o;switch(Re.tag){case 1:if(me=Re.payload,typeof me=="function"){ne=me.call(ht,ne,H);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Re.payload,H=typeof me=="function"?me.call(ht,ne,H):me,H==null)break e;ne=E({},ne,H);break e;case 2:vs=!0}}H=T.callback,H!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[H]:Z.push(H))}else Z={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=Z,N=ne):X=X.next=Z,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);X===null&&(N=ne),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),As|=v,r.lanes=v,r.memoizedState=ne}}function yv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function vv(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)yv(o[r],i)}var Ro=M(null),rf=M(0);function _v(r,i){r=Bi,te(rf,r),te(Ro,i),Bi=r|i.baseLanes}function Gd(){te(rf,Bi),te(Ro,Ro.current)}function Zd(){Bi=rf.current,Q(Ro),Q(rf)}var pr=M(null),Dr=null;function Es(r){var i=r.alternate;te(Lt,Lt.current&1),te(pr,r),Dr===null&&(i===null||Ro.current!==null||i.memoizedState!==null)&&(Dr=r)}function $d(r){te(Lt,Lt.current),te(pr,r),Dr===null&&(Dr=r)}function bv(r){r.tag===22?(te(Lt,Lt.current),te(pr,r),Dr===null&&(Dr=r)):Ts()}function Ts(){te(Lt,Lt.current),te(pr,pr.current)}function gr(r){Q(pr),Dr===r&&(Dr=null),Q(Lt)}var Lt=M(0);function sf(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wm(o)||ep(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ki=0,Me=null,ct=null,Zt=null,af=!1,Co=!1,Aa=!1,of=0,eu=0,Io=null,r1=0;function Nt(){throw Error(s(321))}function Qd(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!dr(r[o],i[o]))return!1;return!0}function Kd(r,i,o,l,h,d){return ki=d,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?r_:cm,Aa=!1,d=o(l,h),Aa=!1,Co&&(d=Tv(i,o,l,h)),Ev(r),d}function Ev(r){$.H=ru;var i=ct!==null&&ct.next!==null;if(ki=0,Zt=ct=Me=null,af=!1,eu=0,Io=null,i)throw Error(s(300));r===null||$t||(r=r.dependencies,r!==null&&Yc(r)&&($t=!0))}function Tv(r,i,o,l){Me=r;var h=0;do{if(Co&&(Io=null),eu=0,Co=!1,25<=h)throw Error(s(301));if(h+=1,Zt=ct=null,r.updateQueue!=null){var d=r.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=i_,d=i(o,l)}while(Co);return d}function i1(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?tu(i):i,r=r.useState()[0],(ct!==null?ct.memoizedState:null)!==r&&(Me.flags|=1024),i}function Yd(){var r=of!==0;return of=0,r}function Xd(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Jd(r){if(af){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}af=!1}ki=0,Zt=ct=Me=null,Co=!1,eu=of=0,Io=null}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Me.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function Pt(){if(ct===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var i=Zt===null?Me.memoizedState:Zt.next;if(i!==null)Zt=i,ct=r;else{if(r===null)throw Me.alternate===null?Error(s(467)):Error(s(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Zt===null?Me.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(r){var i=eu;return eu+=1,Io===null&&(Io=[]),r=hv(Io,r,i),i=Me,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?r_:cm),r}function uf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tu(r);if(r.$$typeof===Y)return Tn(r)}throw Error(s(438,String(r)))}function Wd(r){var i=null,o=Me.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=lf(),Me.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),l=0;l<r;l++)o[l]=O;return i.index++,o}function Mi(r,i){return typeof i=="function"?i(r):i}function cf(r){var i=Pt();return em(i,ct,r)}function em(r,i,o){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var h=r.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=r.baseState,h===null)r.memoizedState=d;else{i=h.next;var T=v=null,N=null,q=i,X=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(qe&ne)===ne:(ki&ne)===ne){var H=q.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===To&&(X=!0);else if((ki&H)===H){q=q.next,H===To&&(X=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=ne,v=d):N=N.next=ne,Me.lanes|=H,As|=H;ne=q.action,Aa&&o(d,ne),d=q.hasEagerState?q.eagerState:o(d,ne)}else H={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=H,v=d):N=N.next=H,Me.lanes|=ne,As|=ne;q=q.next}while(q!==null&&q!==i);if(N===null?v=d:N.next=T,!dr(d,r.memoizedState)&&($t=!0,X&&(o=wo,o!==null)))throw o;r.memoizedState=d,r.baseState=v,r.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function tm(r){var i=Pt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var l=o.dispatch,h=o.pending,d=i.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do d=r(d,v.action),v=v.next;while(v!==h);dr(d,i.memoizedState)||($t=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),o.lastRenderedState=d}return[d,l]}function wv(r,i,o){var l=Me,h=Pt(),d=Ze;if(d){if(o===void 0)throw Error(s(407));o=o()}else o=i();var v=!dr((ct||h).memoizedState,o);if(v&&(h.memoizedState=o,$t=!0),h=h.queue,im(Rv.bind(null,l,h,r),[r]),h.getSnapshot!==i||v||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,xo(9,{destroy:void 0},Av.bind(null,l,h,o,i),null),dt===null)throw Error(s(349));d||(ki&127)!==0||Sv(l,i,o)}return o}function Sv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Me.updateQueue,i===null?(i=lf(),Me.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Av(r,i,o,l){i.value=o,i.getSnapshot=l,Cv(i)&&Iv(r)}function Rv(r,i,o){return o(function(){Cv(i)&&Iv(r)})}function Cv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!dr(r,o)}catch{return!0}}function Iv(r){var i=ga(r,2);i!==null&&nr(i,r,2)}function nm(r){var i=Fn();if(typeof r=="function"){var o=r;if(r=o(),Aa){On(!0);try{o()}finally{On(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:r},i}function xv(r,i,o,l){return r.baseState=o,em(r,ct,typeof l=="function"?l:Mi)}function s1(r,i,o,l,h){if(df(r))throw Error(s(485));if(r=i.action,r!==null){var d={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?o(!0):d.isTransition=!1,l(d),o=i.pending,o===null?(d.next=i.pending=d,Dv(i,d)):(d.next=o.next,i.pending=o.next=d)}}function Dv(r,i){var o=i.action,l=i.payload,h=r.state;if(i.isTransition){var d=$.T,v={};$.T=v;try{var T=o(h,l),N=$.S;N!==null&&N(v,T),Nv(r,i,T)}catch(q){rm(r,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),$.T=d}}else try{d=o(h,l),Nv(r,i,d)}catch(q){rm(r,i,q)}}function Nv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){Ov(r,i,l)},function(l){return rm(r,i,l)}):Ov(r,i,o)}function Ov(r,i,o){i.status="fulfilled",i.value=o,kv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,Dv(r,o)))}function rm(r,i,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,kv(i),i=i.next;while(i!==l)}r.action=null}function kv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Mv(r,i){return i}function zv(r,i){if(Ze){var o=dt.formState;if(o!==null){e:{var l=Me;if(Ze){if(bt){t:{for(var h=bt,d=xr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Nr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){bt=Nr(h.nextSibling),l=h.data==="F!";break e}}gs(l)}l=!1}l&&(i=o[0])}}return o=Fn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mv,lastRenderedState:i},o.queue=l,o=e_.bind(null,Me,l),l.dispatch=o,l=nm(!1),d=um.bind(null,Me,!1,l.queue),l=Fn(),h={state:i,dispatch:null,action:r,pending:null},l.queue=h,o=s1.bind(null,Me,h,d,o),h.dispatch=o,l.memoizedState=r,[i,o,!1]}function Vv(r){var i=Pt();return Uv(i,ct,r)}function Uv(r,i,o){if(i=em(r,i,Mv)[0],r=cf(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tu(i)}catch(v){throw v===So?Wc:v}else l=i;i=Pt();var h=i.queue,d=h.dispatch;return o!==i.memoizedState&&(Me.flags|=2048,xo(9,{destroy:void 0},a1.bind(null,h,o),null)),[l,d,r]}function a1(r,i){r.action=i}function Lv(r){var i=Pt(),o=ct;if(o!==null)return Uv(i,o,r);Pt(),i=i.memoizedState,o=Pt();var l=o.queue.dispatch;return o.memoizedState=r,[i,l,!1]}function xo(r,i,o,l){return r={tag:r,create:o,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=lf(),Me.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,i.lastEffect=r),r}function Pv(){return Pt().memoizedState}function ff(r,i,o,l){var h=Fn();Me.flags|=r,h.memoizedState=xo(1|i,{destroy:void 0},o,l===void 0?null:l)}function hf(r,i,o,l){var h=Pt();l=l===void 0?null:l;var d=h.memoizedState.inst;ct!==null&&l!==null&&Qd(l,ct.memoizedState.deps)?h.memoizedState=xo(i,d,o,l):(Me.flags|=r,h.memoizedState=xo(1|i,d,o,l))}function jv(r,i){ff(8390656,8,r,i)}function im(r,i){hf(2048,8,r,i)}function o1(r){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=lf(),Me.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function Bv(r){var i=Pt().memoizedState;return o1({ref:i,nextImpl:r}),function(){if((nt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function qv(r,i){return hf(4,2,r,i)}function Fv(r,i){return hf(4,4,r,i)}function Hv(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Gv(r,i,o){o=o!=null?o.concat([r]):null,hf(4,4,Hv.bind(null,i,r),o)}function sm(){}function Zv(r,i){var o=Pt();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&Qd(i,l[1])?l[0]:(o.memoizedState=[r,i],r)}function $v(r,i){var o=Pt();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&Qd(i,l[1]))return l[0];if(l=r(),Aa){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[l,i],l}function am(r,i,o){return o===void 0||(ki&1073741824)!==0&&(qe&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=Q_(),Me.lanes|=r,As|=r,o)}function Qv(r,i,o,l){return dr(o,i)?o:Ro.current!==null?(r=am(r,o,l),dr(r,i)||($t=!0),r):(ki&42)===0||(ki&1073741824)!==0&&(qe&261930)===0?($t=!0,r.memoizedState=o):(r=Q_(),Me.lanes|=r,As|=r,i)}function Kv(r,i,o,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=$.T,T={};$.T=T,um(r,!1,i,o);try{var N=h(),q=$.S;if(q!==null&&q(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=n1(N,l);nu(r,i,X,_r(r))}else nu(r,i,l,_r(r))}catch(ne){nu(r,i,{then:function(){},status:"rejected",reason:ne},_r())}finally{ue.p=d,v!==null&&T.types!==null&&(v.types=T.types),$.T=v}}function l1(){}function om(r,i,o,l){if(r.tag!==5)throw Error(s(476));var h=Yv(r).queue;Kv(r,h,i,ae,o===null?l1:function(){return Xv(r),o(l)})}function Yv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ae},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Xv(r){var i=Yv(r);i.next===null&&(i=r.alternate.memoizedState),nu(r,i.next.queue,{},_r())}function lm(){return Tn(_u)}function Jv(){return Pt().memoizedState}function Wv(){return Pt().memoizedState}function u1(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=_r();r=_s(o);var l=bs(i,r,o);l!==null&&(nr(l,i,o),Xl(l,i,o)),i={cache:Ud()},r.payload=i;return}i=i.return}}function c1(r,i,o){var l=_r();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},df(r)?t_(i,o):(o=Rd(r,i,o,l),o!==null&&(nr(o,r,l),n_(o,i,l)))}function e_(r,i,o){var l=_r();nu(r,i,o,l)}function nu(r,i,o,l){var h={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(df(r))t_(i,h);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,o);if(h.hasEagerState=!0,h.eagerState=T,dr(T,v))return Zc(r,i,h,0),dt===null&&Gc(),!1}catch{}finally{}if(o=Rd(r,i,h,l),o!==null)return nr(o,r,l),n_(o,i,l),!0}return!1}function um(r,i,o,l){if(l={lane:2,revertLane:Bm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},df(r)){if(i)throw Error(s(479))}else i=Rd(r,o,l,2),i!==null&&nr(i,r,2)}function df(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function t_(r,i){Co=af=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function n_(r,i,o){if((o&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,tn(r,o)}}var ru={readContext:Tn,use:uf,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};ru.useEffectEvent=Nt;var r_={readContext:Tn,use:uf,useCallback:function(r,i){return Fn().memoizedState=[r,i===void 0?null:i],r},useContext:Tn,useEffect:jv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,ff(4194308,4,Hv.bind(null,i,r),o)},useLayoutEffect:function(r,i){return ff(4194308,4,r,i)},useInsertionEffect:function(r,i){ff(4,2,r,i)},useMemo:function(r,i){var o=Fn();i=i===void 0?null:i;var l=r();if(Aa){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[l,i],l},useReducer:function(r,i,o){var l=Fn();if(o!==void 0){var h=o(i);if(Aa){On(!0);try{o(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},l.queue=r,r=r.dispatch=c1.bind(null,Me,r),[l.memoizedState,r]},useRef:function(r){var i=Fn();return r={current:r},i.memoizedState=r},useState:function(r){r=nm(r);var i=r.queue,o=e_.bind(null,Me,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:sm,useDeferredValue:function(r,i){var o=Fn();return am(o,r,i)},useTransition:function(){var r=nm(!1);return r=Kv.bind(null,Me,r.queue,!0,!1),Fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var l=Me,h=Fn();if(Ze){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),dt===null)throw Error(s(349));(qe&127)!==0||Sv(l,i,o)}h.memoizedState=o;var d={value:o,getSnapshot:i};return h.queue=d,jv(Rv.bind(null,l,d,r),[r]),l.flags|=2048,xo(9,{destroy:void 0},Av.bind(null,l,d,o,i),null),o},useId:function(){var r=Fn(),i=dt.identifierPrefix;if(Ze){var o=ui,l=li;o=(l&~(1<<32-ln(l)-1)).toString(32)+o,i="_"+i+"R_"+o,o=of++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=r1++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:lm,useFormState:zv,useActionState:zv,useOptimistic:function(r){var i=Fn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=um.bind(null,Me,!0,o),o.dispatch=i,[r,i]},useMemoCache:Wd,useCacheRefresh:function(){return Fn().memoizedState=u1.bind(null,Me)},useEffectEvent:function(r){var i=Fn(),o={impl:r};return i.memoizedState=o,function(){if((nt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},cm={readContext:Tn,use:uf,useCallback:Zv,useContext:Tn,useEffect:im,useImperativeHandle:Gv,useInsertionEffect:qv,useLayoutEffect:Fv,useMemo:$v,useReducer:cf,useRef:Pv,useState:function(){return cf(Mi)},useDebugValue:sm,useDeferredValue:function(r,i){var o=Pt();return Qv(o,ct.memoizedState,r,i)},useTransition:function(){var r=cf(Mi)[0],i=Pt().memoizedState;return[typeof r=="boolean"?r:tu(r),i]},useSyncExternalStore:wv,useId:Jv,useHostTransitionStatus:lm,useFormState:Vv,useActionState:Vv,useOptimistic:function(r,i){var o=Pt();return xv(o,ct,r,i)},useMemoCache:Wd,useCacheRefresh:Wv};cm.useEffectEvent=Bv;var i_={readContext:Tn,use:uf,useCallback:Zv,useContext:Tn,useEffect:im,useImperativeHandle:Gv,useInsertionEffect:qv,useLayoutEffect:Fv,useMemo:$v,useReducer:tm,useRef:Pv,useState:function(){return tm(Mi)},useDebugValue:sm,useDeferredValue:function(r,i){var o=Pt();return ct===null?am(o,r,i):Qv(o,ct.memoizedState,r,i)},useTransition:function(){var r=tm(Mi)[0],i=Pt().memoizedState;return[typeof r=="boolean"?r:tu(r),i]},useSyncExternalStore:wv,useId:Jv,useHostTransitionStatus:lm,useFormState:Lv,useActionState:Lv,useOptimistic:function(r,i){var o=Pt();return ct!==null?xv(o,ct,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:Wv};i_.useEffectEvent=Bv;function fm(r,i,o,l){i=r.memoizedState,o=o(l,i),o=o==null?i:E({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var hm={enqueueSetState:function(r,i,o){r=r._reactInternals;var l=_r(),h=_s(l);h.payload=i,o!=null&&(h.callback=o),i=bs(r,h,l),i!==null&&(nr(i,r,l),Xl(i,r,l))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var l=_r(),h=_s(l);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=bs(r,h,l),i!==null&&(nr(i,r,l),Xl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=_r(),l=_s(o);l.tag=2,i!=null&&(l.callback=i),i=bs(r,l,o),i!==null&&(nr(i,r,o),Xl(i,r,o))}};function s_(r,i,o,l,h,d,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Fl(o,l)||!Fl(h,d):!0}function a_(r,i,o,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==r&&hm.enqueueReplaceState(i,i.state,null)}function Ra(r,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(r=r.defaultProps){o===i&&(o=E({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function o_(r){Hc(r)}function l_(r){console.error(r)}function u_(r){Hc(r)}function mf(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function c_(r,i,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dm(r,i,o){return o=_s(o),o.tag=3,o.payload={element:null},o.callback=function(){mf(r,i)},o}function f_(r){return r=_s(r),r.tag=3,r}function h_(r,i,o,l){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;r.payload=function(){return h(d)},r.callback=function(){c_(i,o,l)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){c_(i,o,l),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function f1(r,i,o,l,h){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&Eo(i,o,h,!0),o=pr.current,o!==null){switch(o.tag){case 31:case 13:return Dr===null?Rf():o.alternate===null&&Ot===0&&(Ot=3),o.flags&=-257,o.flags|=65536,o.lanes=h,l===ef?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),Lm(r,l,h)),!1;case 22:return o.flags|=65536,l===ef?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),Lm(r,l,h)),!1}throw Error(s(435,o.tag))}return Lm(r,l,h),Rf(),!1}if(Ze)return i=pr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Od&&(r=Error(s(422),{cause:l}),Zl(Rr(r,o)))):(l!==Od&&(i=Error(s(423),{cause:l}),Zl(Rr(i,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,l=Rr(l,o),h=dm(r.stateNode,l,h),Fd(r,h),Ot!==4&&(Ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Rr(d,o),fu===null?fu=[d]:fu.push(d),Ot!==4&&(Ot=2),i===null)return!0;l=Rr(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=dm(o.stateNode,l,r),Fd(o,r),!1;case 1:if(i=o.type,d=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rs===null||!Rs.has(d))))return o.flags|=65536,h&=-h,o.lanes|=h,h=f_(h),h_(h,r,o,l),Fd(o,h),!1}o=o.return}while(o!==null);return!1}var mm=Error(s(461)),$t=!1;function wn(r,i,o,l){i.child=r===null?gv(i,null,o,l):Sa(i,r.child,o,l)}function d_(r,i,o,l,h){o=o.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ba(i),l=Kd(r,i,o,v,d,h),T=Yd(),r!==null&&!$t?(Xd(r,i,h),zi(r,i,h)):(Ze&&T&&Dd(i),i.flags|=1,wn(r,i,l,h),i.child)}function m_(r,i,o,l,h){if(r===null){var d=o.type;return typeof d=="function"&&!Cd(d)&&d.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=d,p_(r,i,d,l,h)):(r=Qc(o.type,null,l,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(d=r.child,!Tm(r,h)){var v=d.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(v,l)&&r.ref===i.ref)return zi(r,i,h)}return i.flags|=1,r=xi(d,l),r.ref=i.ref,r.return=i,i.child=r}function p_(r,i,o,l,h){if(r!==null){var d=r.memoizedProps;if(Fl(d,l)&&r.ref===i.ref)if($t=!1,i.pendingProps=l=d,Tm(r,h))(r.flags&131072)!==0&&($t=!0);else return i.lanes=r.lanes,zi(r,i,h)}return pm(r,i,o,l,h)}function g_(r,i,o,l){var h=l.children,d=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|o:o,r!==null){for(l=i.child=r.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return y_(r,i,d,o,l)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Jc(i,d!==null?d.cachePool:null),d!==null?_v(i,d):Gd(),bv(i);else return l=i.lanes=536870912,y_(r,i,d!==null?d.baseLanes|o:o,o,l)}else d!==null?(Jc(i,d.cachePool),_v(i,d),Ts(),i.memoizedState=null):(r!==null&&Jc(i,null),Gd(),Ts());return wn(r,i,h,o),i.child}function iu(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function y_(r,i,o,l,h){var d=Pd();return d=d===null?null:{parent:Gt._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},r!==null&&Jc(i,null),Gd(),bv(i),r!==null&&Eo(r,i,l,!0),i.childLanes=h,null}function pf(r,i){return i=yf({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function v_(r,i,o){return Sa(i,r.child,null,o),r=pf(i,i.pendingProps),r.flags|=2,gr(i),i.memoizedState=null,r}function h1(r,i,o){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Ze){if(l.mode==="hidden")return r=pf(i,l),i.lanes=536870912,iu(null,r);if($d(i),(r=bt)?(r=D0(r,xr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ms!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},o=tv(r),o.return=i,i.child=o,En=i,bt=null)):r=null,r===null)throw gs(i);return i.lanes=536870912,null}return pf(i,l)}var d=r.memoizedState;if(d!==null){var v=d.dehydrated;if($d(i),h)if(i.flags&256)i.flags&=-257,i=v_(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if($t||Eo(r,i,o,!1),h=(o&r.childLanes)!==0,$t||h){if(l=dt,l!==null&&(v=un(l,o),v!==0&&v!==d.retryLane))throw d.retryLane=v,ga(r,v),nr(l,r,v),mm;Rf(),i=v_(r,i,o)}else r=d.treeContext,bt=Nr(v.nextSibling),En=i,Ze=!0,ps=null,xr=!1,r!==null&&iv(i,r),i=pf(i,l),i.flags|=4096;return i}return r=xi(r.child,{mode:l.mode,children:l.children}),r.ref=i.ref,i.child=r,r.return=i,r}function gf(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function pm(r,i,o,l,h){return ba(i),o=Kd(r,i,o,l,void 0,h),l=Yd(),r!==null&&!$t?(Xd(r,i,h),zi(r,i,h)):(Ze&&l&&Dd(i),i.flags|=1,wn(r,i,o,h),i.child)}function __(r,i,o,l,h,d){return ba(i),i.updateQueue=null,o=Tv(i,l,o,h),Ev(r),l=Yd(),r!==null&&!$t?(Xd(r,i,d),zi(r,i,d)):(Ze&&l&&Dd(i),i.flags|=1,wn(r,i,o,d),i.child)}function b_(r,i,o,l,h){if(ba(i),i.stateNode===null){var d=yo,v=o.contextType;typeof v=="object"&&v!==null&&(d=Tn(v)),d=new o(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hm,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bd(i),v=o.contextType,d.context=typeof v=="object"&&v!==null?Tn(v):yo,d.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(fm(i,o,v,l),d.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hm.enqueueReplaceState(d,d.state,null),Wl(i,l,d,h),Jl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){d=i.stateNode;var T=i.memoizedProps,N=Ra(o,T);d.props=N;var q=d.context,X=o.contextType;v=yo,typeof X=="object"&&X!==null&&(v=Tn(X));var ne=o.getDerivedStateFromProps;X=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&a_(i,d,l,v),vs=!1;var H=i.memoizedState;d.state=H,Wl(i,l,d,h),Jl(),q=i.memoizedState,T||H!==q||vs?(typeof ne=="function"&&(fm(i,o,ne,l),q=i.memoizedState),(N=vs||s_(i,o,N,l,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qd(r,i),v=i.memoizedProps,X=Ra(o,v),d.props=X,ne=i.pendingProps,H=d.context,q=o.contextType,N=yo,typeof q=="object"&&q!==null&&(N=Tn(q)),T=o.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||H!==N)&&a_(i,d,l,N),vs=!1,H=i.memoizedState,d.state=H,Wl(i,l,d,h),Jl();var Z=i.memoizedState;v!==ne||H!==Z||vs||r!==null&&r.dependencies!==null&&Yc(r.dependencies)?(typeof T=="function"&&(fm(i,o,T,l),Z=i.memoizedState),(X=vs||s_(i,o,X,l,H,Z,N)||r!==null&&r.dependencies!==null&&Yc(r.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Z,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Z,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Z),d.props=l,d.state=Z,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),l=!1)}return d=l,gf(r,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,r!==null&&l?(i.child=Sa(i,r.child,null,h),i.child=Sa(i,null,o,h)):wn(r,i,o,h),i.memoizedState=d.state,r=i.child):r=zi(r,i,h),r}function E_(r,i,o,l){return va(),i.flags|=256,wn(r,i,o,l),i.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(r){return{baseLanes:r,cachePool:cv()}}function vm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=vr),r}function T_(r,i,o){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=r!==null&&r.memoizedState===null?!1:(Lt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ze){if(h?Es(i):Ts(),(r=bt)?(r=D0(r,xr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ms!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},o=tv(r),o.return=i,i.child=o,En=i,bt=null)):r=null,r===null)throw gs(i);return ep(r)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ts(),h=i.mode,T=yf({mode:"hidden",children:T},h),l=ya(l,h,o,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ym(o),l.childLanes=vm(r,v,o),i.memoizedState=gm,iu(null,l)):(Es(i),_m(i,T))}var N=r.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Es(i),i.flags&=-257,i=bm(r,i,o)):i.memoizedState!==null?(Ts(),i.child=r.child,i.flags|=128,i=null):(Ts(),T=l.fallback,h=i.mode,l=yf({mode:"visible",children:l.children},h),T=ya(T,h,o,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Sa(i,r.child,null,o),l=i.child,l.memoizedState=ym(o),l.childLanes=vm(r,v,o),i.memoizedState=gm,i=iu(null,l));else if(Es(i),ep(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Zl({value:l,source:null,stack:null}),i=bm(r,i,o)}else if($t||Eo(r,i,o,!1),v=(o&r.childLanes)!==0,$t||v){if(v=dt,v!==null&&(l=un(v,o),l!==0&&l!==N.retryLane))throw N.retryLane=l,ga(r,l),nr(v,r,l),mm;Wm(T)||Rf(),i=bm(r,i,o)}else Wm(T)?(i.flags|=192,i.child=r.child,i=null):(r=N.treeContext,bt=Nr(T.nextSibling),En=i,Ze=!0,ps=null,xr=!1,r!==null&&iv(i,r),i=_m(i,l.children),i.flags|=4096);return i}return h?(Ts(),T=l.fallback,h=i.mode,N=r.child,q=N.sibling,l=xi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?T=xi(q,T):(T=ya(T,h,o,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,iu(null,l),l=i.child,T=r.child.memoizedState,T===null?T=ym(o):(h=T.cachePool,h!==null?(N=Gt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=cv(),T={baseLanes:T.baseLanes|o,cachePool:h}),l.memoizedState=T,l.childLanes=vm(r,v,o),i.memoizedState=gm,iu(r.child,l)):(Es(i),o=r.child,r=o.sibling,o=xi(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=o,i.memoizedState=null,o)}function _m(r,i){return i=yf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function yf(r,i){return r=mr(22,r,null,i),r.lanes=0,r}function bm(r,i,o){return Sa(i,r.child,null,o),r=_m(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function w_(r,i,o){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),zd(r.return,i,o)}function Em(r,i,o,l,h,d){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=o,v.tailMode=h,v.treeForkCount=d)}function S_(r,i,o){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Lt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,te(Lt,v),wn(r,i,l,o),l=Ze?Gl:0,!T&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&w_(r,o,i);else if(r.tag===19)w_(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&sf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),Em(i,!1,h,o,d,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&sf(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Em(i,!0,o,null,d,l);break;case"together":Em(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function zi(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),As|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Eo(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=xi(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=xi(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Tm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Yc(r)))}function d1(r,i,o){switch(i.tag){case 3:at(i,i.stateNode.containerInfo),ys(i,Gt,r.memoizedState.cache),va();break;case 27:case 5:De(i);break;case 4:at(i,i.stateNode.containerInfo);break;case 10:ys(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$d(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Es(i),i.flags|=128,null):(o&i.child.childLanes)!==0?T_(r,i,o):(Es(i),r=zi(r,i,o),r!==null?r.sibling:null);Es(i);break;case 19:var h=(r.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(Eo(r,i,o,!1),l=(o&i.childLanes)!==0),h){if(l)return S_(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Lt,Lt.current),l)break;return null;case 22:return i.lanes=0,g_(r,i,o,i.pendingProps);case 24:ys(i,Gt,r.memoizedState.cache)}return zi(r,i,o)}function A_(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)$t=!0;else{if(!Tm(r,o)&&(i.flags&128)===0)return $t=!1,d1(r,i,o);$t=(r.flags&131072)!==0}else $t=!1,Ze&&(i.flags&1048576)!==0&&rv(i,Gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(r=Ta(i.elementType),i.type=r,typeof r=="function")Cd(r)?(l=Ra(r,l),i.tag=1,i=b_(null,i,r,l,o)):(i.tag=0,i=pm(null,i,r,l,o));else{if(r!=null){var h=r.$$typeof;if(h===le){i.tag=11,i=d_(null,i,r,l,o);break e}else if(h===C){i.tag=14,i=m_(null,i,r,l,o);break e}}throw i=Ye(r)||r,Error(s(306,i,""))}}return i;case 0:return pm(r,i,i.type,i.pendingProps,o);case 1:return l=i.type,h=Ra(l,i.pendingProps),b_(r,i,l,h,o);case 3:e:{if(at(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,qd(r,i),Wl(i,l,null,o);var v=i.memoizedState;if(l=v.cache,ys(i,Gt,l),l!==d.cache&&Vd(i,[Gt],o,!0),Jl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=E_(r,i,l,o);break e}else if(l!==h){h=Rr(Error(s(424)),i),Zl(h),i=E_(r,i,l,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=Nr(r.firstChild),En=i,Ze=!0,ps=null,xr=!0,o=gv(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(va(),l===h){i=zi(r,i,o);break e}wn(r,i,l,o)}i=i.child}return i;case 26:return gf(r,i),r===null?(o=V0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ze||(o=i.type,r=i.pendingProps,l=kf(Te.current).createElement(o),l[xt]=i,l[bn]=r,Sn(l,o,r),Ut(l),i.stateNode=l):i.memoizedState=V0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return De(i),r===null&&Ze&&(l=i.stateNode=k0(i.type,i.pendingProps,Te.current),En=i,xr=!0,h=bt,Ds(i.type)?(tp=h,bt=Nr(l.firstChild)):bt=h),wn(r,i,i.pendingProps.children,o),gf(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ze&&((h=l=bt)&&(l=F1(l,i.type,i.pendingProps,xr),l!==null?(i.stateNode=l,En=i,bt=Nr(l.firstChild),xr=!1,h=!0):h=!1),h||gs(i)),De(i),h=i.type,d=i.pendingProps,v=r!==null?r.memoizedProps:null,l=d.children,Ym(h,d)?l=null:v!==null&&Ym(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Kd(r,i,i1,null,null,o),_u._currentValue=h),gf(r,i),wn(r,i,l,o),i.child;case 6:return r===null&&Ze&&((r=o=bt)&&(o=H1(o,i.pendingProps,xr),o!==null?(i.stateNode=o,En=i,bt=null,r=!0):r=!1),r||gs(i)),null;case 13:return T_(r,i,o);case 4:return at(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=Sa(i,null,l,o):wn(r,i,l,o),i.child;case 11:return d_(r,i,i.type,i.pendingProps,o);case 7:return wn(r,i,i.pendingProps,o),i.child;case 8:return wn(r,i,i.pendingProps.children,o),i.child;case 12:return wn(r,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,ys(i,i.type,l.value),wn(r,i,l.children,o),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ba(i),h=Tn(h),l=l(h),i.flags|=1,wn(r,i,l,o),i.child;case 14:return m_(r,i,i.type,i.pendingProps,o);case 15:return p_(r,i,i.type,i.pendingProps,o);case 19:return S_(r,i,o);case 31:return h1(r,i,o);case 22:return g_(r,i,o,i.pendingProps);case 24:return ba(i),l=Tn(Gt),r===null?(h=Pd(),h===null&&(h=dt,d=Ud(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=o),h=d),i.memoizedState={parent:l,cache:h},Bd(i),ys(i,Gt,h)):((r.lanes&o)!==0&&(qd(r,i),Wl(i,null,null,o),Jl()),h=r.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ys(i,Gt,l)):(l=d.cache,ys(i,Gt,l),l!==h.cache&&Vd(i,[Gt],o,!0))),wn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(r){r.flags|=4}function wm(r,i,o,l,h){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(J_())r.flags|=8192;else throw wa=ef,jd}else r.flags&=-16777217}function R_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!B0(i))if(J_())r.flags|=8192;else throw wa=ef,jd}function vf(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?en():536870912,r.lanes|=i,ko|=i)}function su(r,i){if(!Ze)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Et(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=l,r.childLanes=o,i}function m1(r,i,o){var l=i.pendingProps;switch(Nd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Et(i),null;case 3:return o=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Gt),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(bo(i)?Vi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kd())),Et(i),null;case 26:var h=i.type,d=i.memoizedState;return r===null?(Vi(i),d!==null?(Et(i),R_(i,d)):(Et(i),wm(i,h,null,l,o))):d?d!==r.memoizedState?(Vi(i),Et(i),R_(i,d)):(Et(i),i.flags&=-16777217):(r=r.memoizedProps,r!==l&&Vi(i),Et(i),wm(i,h,r,l,o)),null;case 27:if(Jt(i),o=Te.current,h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Et(i),null}r=he.current,bo(i)?sv(i):(r=k0(h,l,o),i.stateNode=r,Vi(i))}return Et(i),null;case 5:if(Jt(i),h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Et(i),null}if(d=he.current,bo(i))sv(i);else{var v=kf(Te.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[xt]=i,d[bn]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Sn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Vi(i)}}return Et(i),wm(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&Vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Te.current,bo(i)){if(r=i.stateNode,o=i.memoizedProps,l=null,h=En,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}r[xt]=i,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||T0(r.nodeValue,o)),r||gs(i,!0)}else r=kf(r).createTextNode(l),r[xt]=i,i.stateNode=r}return Et(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(l=bo(i),o!==null){if(r===null){if(!l)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[xt]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),r=!1}else o=kd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(gr(i),i):(gr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Et(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=bo(i),l!==null&&l.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),h=!1}else h=kd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gr(i),i):(gr(i),null)}return gr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),vf(i,i.updateQueue),Et(i),null);case 4:return Pe(),r===null&&Gm(i.stateNode.containerInfo),Et(i),null;case 10:return Oi(i.type),Et(i),null;case 19:if(Q(Lt),l=i.memoizedState,l===null)return Et(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)su(l,!1);else{if(Ot!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(d=sf(r),d!==null){for(i.flags|=128,su(l,!1),r=d.updateQueue,i.updateQueue=r,vf(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)ev(o,r),o=o.sibling;return te(Lt,Lt.current&1|2),Ze&&Di(i,l.treeForkCount),i.child}r=r.sibling}l.tail!==null&&qt()>wf&&(i.flags|=128,h=!0,su(l,!1),i.lanes=4194304)}else{if(!h)if(r=sf(d),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,vf(i,r),su(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ze)return Et(i),null}else 2*qt()-l.renderingStartTime>wf&&o!==536870912&&(i.flags|=128,h=!0,su(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(r=l.last,r!==null?r.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=qt(),r.sibling=null,o=Lt.current,te(Lt,h?o&1|2:o&1),Ze&&Di(i,l.treeForkCount),r):(Et(i),null);case 22:case 23:return gr(i),Zd(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),o=i.updateQueue,o!==null&&vf(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),r!==null&&Q(Ea),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Oi(Gt),Et(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function p1(r,i){switch(Nd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Oi(Gt),Pe(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Jt(i),null;case 31:if(i.memoizedState!==null){if(gr(i),i.alternate===null)throw Error(s(340));va()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(gr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));va()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Q(Lt),null;case 4:return Pe(),null;case 10:return Oi(i.type),null;case 22:case 23:return gr(i),Zd(),r!==null&&Q(Ea),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Oi(Gt),null;case 25:return null;default:return null}}function C_(r,i){switch(Nd(i),i.tag){case 3:Oi(Gt),Pe();break;case 26:case 27:case 5:Jt(i);break;case 4:Pe();break;case 31:i.memoizedState!==null&&gr(i);break;case 13:gr(i);break;case 19:Q(Lt);break;case 10:Oi(i.type);break;case 22:case 23:gr(i),Zd(),r!==null&&Q(Ea);break;case 24:Oi(Gt)}}function au(r,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var h=l.next;o=h;do{if((o.tag&r)===r){l=void 0;var d=o.create,v=o.inst;l=d(),v.destroy=l}o=o.next}while(o!==h)}}catch(T){lt(i,i.return,T)}}function ws(r,i,o){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&r)===r){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var N=o,q=T;try{q()}catch(X){lt(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){lt(i,i.return,X)}}function I_(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{vv(i,o)}catch(l){lt(r,r.return,l)}}}function x_(r,i,o){o.props=Ra(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){lt(r,i,l)}}function ou(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(h){lt(r,i,h)}}function ci(r,i){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(h){lt(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){lt(r,i,h)}else o.current=null}function D_(r){var i=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(h){lt(r,r.return,h)}}function Sm(r,i,o){try{var l=r.stateNode;U1(l,r.type,o,i),l[bn]=i}catch(h){lt(r,r.return,h)}}function N_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ds(r.type)||r.tag===4}function Am(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||N_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ds(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rm(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=hn));else if(l!==4&&(l===27&&Ds(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Rm(r,i,o),r=r.sibling;r!==null;)Rm(r,i,o),r=r.sibling}function _f(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(l!==4&&(l===27&&Ds(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(_f(r,i,o),r=r.sibling;r!==null;)_f(r,i,o),r=r.sibling}function O_(r){var i=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Sn(i,l,o),i[xt]=r,i[bn]=o}catch(d){lt(r,r.return,d)}}var Ui=!1,Qt=!1,Cm=!1,k_=typeof WeakSet=="function"?WeakSet:Set,pn=null;function g1(r,i){if(r=r.containerInfo,Qm=jf,r=Gy(r),bd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var v=0,T=-1,N=-1,q=0,X=0,ne=r,H=null;t:for(;;){for(var Z;ne!==o||h!==0&&ne.nodeType!==3||(T=v+h),ne!==d||l!==0&&ne.nodeType!==3||(N=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(Z=ne.firstChild)!==null;)H=ne,ne=Z;for(;;){if(ne===r)break t;if(H===o&&++q===h&&(T=v),H===d&&++X===l&&(N=v),(Z=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=Z}o=T===-1||N===-1?null:{start:T,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Km={focusedElem:r,selectionRange:o},jf=!1,pn=i;pn!==null;)if(i=pn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,pn=r;else for(;pn!==null;){switch(i=pn,d=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&d!==null){r=void 0,o=i,h=d.memoizedProps,d=d.memoizedState,l=o.stateNode;try{var me=Ra(o.type,h);r=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=r}catch(Re){lt(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Jm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Jm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,pn=r;break}pn=i.return}}function M_(r,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(r,o),l&4&&au(5,o);break;case 1:if(Pi(r,o),l&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(v){lt(o,o.return,v)}else{var h=Ra(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(v){lt(o,o.return,v)}}l&64&&I_(o),l&512&&ou(o,o.return);break;case 3:if(Pi(r,o),l&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{vv(r,i)}catch(v){lt(o,o.return,v)}}break;case 27:i===null&&l&4&&O_(o);case 26:case 5:Pi(r,o),i===null&&l&4&&D_(o),l&512&&ou(o,o.return);break;case 12:Pi(r,o);break;case 31:Pi(r,o),l&4&&U_(r,o);break;case 13:Pi(r,o),l&4&&L_(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=A1.bind(null,o),G1(r,o))));break;case 22:if(l=o.memoizedState!==null||Ui,!l){i=i!==null&&i.memoizedState!==null||Qt,h=Ui;var d=Qt;Ui=l,(Qt=i)&&!d?ji(r,o,(o.subtreeFlags&8772)!==0):Pi(r,o),Ui=h,Qt=d}break;case 30:break;default:Pi(r,o)}}function z_(r){var i=r.alternate;i!==null&&(r.alternate=null,z_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&ia(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var St=null,Jn=!1;function Li(r,i,o){for(o=o.child;o!==null;)V_(r,i,o),o=o.sibling}function V_(r,i,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ei,o)}catch{}switch(o.tag){case 26:Qt||ci(o,i),Li(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qt||ci(o,i);var l=St,h=Jn;Ds(o.type)&&(St=o.stateNode,Jn=!1),Li(r,i,o),gu(o.stateNode),St=l,Jn=h;break;case 5:Qt||ci(o,i);case 6:if(l=St,h=Jn,St=null,Li(r,i,o),St=l,Jn=h,St!==null)if(Jn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(o.stateNode)}catch(d){lt(o,i,d)}else try{St.removeChild(o.stateNode)}catch(d){lt(o,i,d)}break;case 18:St!==null&&(Jn?(r=St,I0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Bo(r)):I0(St,o.stateNode));break;case 4:l=St,h=Jn,St=o.stateNode.containerInfo,Jn=!0,Li(r,i,o),St=l,Jn=h;break;case 0:case 11:case 14:case 15:ws(2,o,i),Qt||ws(4,o,i),Li(r,i,o);break;case 1:Qt||(ci(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&x_(o,i,l)),Li(r,i,o);break;case 21:Li(r,i,o);break;case 22:Qt=(l=Qt)||o.memoizedState!==null,Li(r,i,o),Qt=l;break;default:Li(r,i,o)}}function U_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Bo(r)}catch(o){lt(i,i.return,o)}}}function L_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bo(r)}catch(o){lt(i,i.return,o)}}function y1(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new k_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new k_),i;default:throw Error(s(435,r.tag))}}function bf(r,i){var o=y1(r);i.forEach(function(l){if(!o.has(l)){o.add(l);var h=R1.bind(null,r,l);l.then(h,h)}})}function Wn(r,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var h=o[l],d=r,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ds(T.type)){St=T.stateNode,Jn=!1;break e}break;case 5:St=T.stateNode,Jn=!1;break e;case 3:case 4:St=T.stateNode.containerInfo,Jn=!0;break e}T=T.return}if(St===null)throw Error(s(160));V_(d,v,h),St=null,Jn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)P_(i,r),i=i.sibling}var qr=null;function P_(r,i){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wn(i,r),er(r),l&4&&(ws(3,r,r.return),au(3,r),ws(5,r,r.return));break;case 1:Wn(i,r),er(r),l&512&&(Qt||o===null||ci(o,o.return)),l&64&&Ui&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var h=qr;if(Wn(i,r),er(r),l&512&&(Qt||o===null||ci(o,o.return)),l&4){var d=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Sn(d,l,o),d[xt]=r,Ut(d),l=d;break e;case"link":var v=P0("link","href",h).get(l+(o.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&d.getAttribute("rel")===(o.rel==null?null:o.rel)&&d.getAttribute("title")===(o.title==null?null:o.title)&&d.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Sn(d,l,o),h.head.appendChild(d);break;case"meta":if(v=P0("meta","content",h).get(l+(o.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(o.content==null?null:""+o.content)&&d.getAttribute("name")===(o.name==null?null:o.name)&&d.getAttribute("property")===(o.property==null?null:o.property)&&d.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&d.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Sn(d,l,o),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=r,Ut(d),l=d}r.stateNode=l}else j0(h,r.type,r.stateNode);else r.stateNode=L0(h,l,r.memoizedProps);else d!==l?(d===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):d.count--,l===null?j0(h,r.type,r.stateNode):L0(h,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Sm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Wn(i,r),er(r),l&512&&(Qt||o===null||ci(o,o.return)),o!==null&&l&4&&Sm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Wn(i,r),er(r),l&512&&(Qt||o===null||ci(o,o.return)),r.flags&32){h=r.stateNode;try{Sr(h,"")}catch(me){lt(r,r.return,me)}}l&4&&r.stateNode!=null&&(h=r.memoizedProps,Sm(r,h,o!==null?o.memoizedProps:h)),l&1024&&(Cm=!0);break;case 6:if(Wn(i,r),er(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(me){lt(r,r.return,me)}}break;case 3:if(Vf=null,h=qr,qr=Mf(i.containerInfo),Wn(i,r),qr=h,er(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(me){lt(r,r.return,me)}Cm&&(Cm=!1,j_(r));break;case 4:l=qr,qr=Mf(r.stateNode.containerInfo),Wn(i,r),er(r),qr=l;break;case 12:Wn(i,r),er(r);break;case 31:Wn(i,r),er(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,bf(r,l)));break;case 13:Wn(i,r),er(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tf=qt()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,bf(r,l)));break;case 22:h=r.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,q=Ui,X=Qt;if(Ui=q||h,Qt=X||N,Wn(i,r),Qt=X,Ui=q,er(r),l&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||N||Ui||Qt||Ca(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){N=o=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var ne=N.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(me){lt(N,N.return,me)}}}else if(i.tag===6){if(o===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){lt(N,N.return,me)}}}else if(i.tag===18){if(o===null){N=i;try{var Z=N.stateNode;h?x0(Z,!0):x0(N.stateNode,!1)}catch(me){lt(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,bf(r,o))));break;case 19:Wn(i,r),er(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,bf(r,l)));break;case 30:break;case 21:break;default:Wn(i,r),er(r)}}function er(r){var i=r.flags;if(i&2){try{for(var o,l=r.return;l!==null;){if(N_(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,d=Am(r);_f(r,d,h);break;case 5:var v=o.stateNode;o.flags&32&&(Sr(v,""),o.flags&=-33);var T=Am(r);_f(r,T,v);break;case 3:case 4:var N=o.stateNode.containerInfo,q=Am(r);Rm(r,q,N);break;default:throw Error(s(161))}}catch(X){lt(r,r.return,X)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function j_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;j_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Pi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)M_(r,i.alternate,i),i=i.sibling}function Ca(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),Ca(i);break;case 1:ci(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&x_(i,i.return,o),Ca(i);break;case 27:gu(i.stateNode);case 26:case 5:ci(i,i.return),Ca(i);break;case 22:i.memoizedState===null&&Ca(i);break;case 30:Ca(i);break;default:Ca(i)}r=r.sibling}}function ji(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=r,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ji(h,d,o),au(4,d);break;case 1:if(ji(h,d,o),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){lt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)yv(N[h],T)}catch(q){lt(l,l.return,q)}}o&&v&64&&I_(d),ou(d,d.return);break;case 27:O_(d);case 26:case 5:ji(h,d,o),o&&l===null&&v&4&&D_(d),ou(d,d.return);break;case 12:ji(h,d,o);break;case 31:ji(h,d,o),o&&v&4&&U_(h,d);break;case 13:ji(h,d,o),o&&v&4&&L_(h,d);break;case 22:d.memoizedState===null&&ji(h,d,o),ou(d,d.return);break;case 30:break;default:ji(h,d,o)}i=i.sibling}}function Im(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&$l(o))}function xm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&$l(r))}function Fr(r,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B_(r,i,o,l),i=i.sibling}function B_(r,i,o,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Fr(r,i,o,l),h&2048&&au(9,i);break;case 1:Fr(r,i,o,l);break;case 3:Fr(r,i,o,l),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&$l(r)));break;case 12:if(h&2048){Fr(r,i,o,l),r=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){lt(i,i.return,N)}}else Fr(r,i,o,l);break;case 31:Fr(r,i,o,l);break;case 13:Fr(r,i,o,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Fr(r,i,o,l):lu(r,i):d._visibility&2?Fr(r,i,o,l):(d._visibility|=2,Do(r,i,o,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Im(v,i);break;case 24:Fr(r,i,o,l),h&2048&&xm(i.alternate,i);break;default:Fr(r,i,o,l)}}function Do(r,i,o,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=r,v=i,T=o,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Do(d,v,T,N,h),au(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Do(d,v,T,N,h):lu(d,v):(X._visibility|=2,Do(d,v,T,N,h)),h&&q&2048&&Im(v.alternate,v);break;case 24:Do(d,v,T,N,h),h&&q&2048&&xm(v.alternate,v);break;default:Do(d,v,T,N,h)}i=i.sibling}}function lu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,l=i,h=l.flags;switch(l.tag){case 22:lu(o,l),h&2048&&Im(l.alternate,l);break;case 24:lu(o,l),h&2048&&xm(l.alternate,l);break;default:lu(o,l)}i=i.sibling}}var uu=8192;function No(r,i,o){if(r.subtreeFlags&uu)for(r=r.child;r!==null;)q_(r,i,o),r=r.sibling}function q_(r,i,o){switch(r.tag){case 26:No(r,i,o),r.flags&uu&&r.memoizedState!==null&&rR(o,qr,r.memoizedState,r.memoizedProps);break;case 5:No(r,i,o);break;case 3:case 4:var l=qr;qr=Mf(r.stateNode.containerInfo),No(r,i,o),qr=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=uu,uu=16777216,No(r,i,o),uu=l):No(r,i,o));break;default:No(r,i,o)}}function F_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function cu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];pn=l,G_(l,r)}F_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)H_(r),r=r.sibling}function H_(r){switch(r.tag){case 0:case 11:case 15:cu(r),r.flags&2048&&ws(9,r,r.return);break;case 3:cu(r);break;case 12:cu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ef(r)):cu(r);break;default:cu(r)}}function Ef(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];pn=l,G_(l,r)}F_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ws(8,i,i.return),Ef(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ef(i));break;default:Ef(i)}r=r.sibling}}function G_(r,i){for(;pn!==null;){var o=pn;switch(o.tag){case 0:case 11:case 15:ws(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,pn=l;else e:for(o=r;pn!==null;){l=pn;var h=l.sibling,d=l.return;if(z_(l),l===o){pn=null;break e}if(h!==null){h.return=d,pn=h;break e}pn=d}}}var v1={getCacheForType:function(r){var i=Tn(Gt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Tn(Gt).controller.signal}},_1=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,je=null,qe=0,ot=0,yr=null,Ss=!1,Oo=!1,Dm=!1,Bi=0,Ot=0,As=0,Ia=0,Nm=0,vr=0,ko=0,fu=null,tr=null,Om=!1,Tf=0,Z_=0,wf=1/0,Sf=null,Rs=null,nn=0,Cs=null,Mo=null,qi=0,km=0,Mm=null,$_=null,hu=0,zm=null;function _r(){return(nt&2)!==0&&qe!==0?qe&-qe:$.T!==null?Bm():fn()}function Q_(){if(vr===0)if((qe&536870912)===0||Ze){var r=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),vr=r}else vr=536870912;return r=pr.current,r!==null&&(r.flags|=32),vr}function nr(r,i,o){(r===dt&&(ot===2||ot===9)||r.cancelPendingCommit!==null)&&(zo(r,0),Is(r,qe,vr,!1)),Ln(r,o),((nt&2)===0||r!==dt)&&(r===dt&&((nt&2)===0&&(Ia|=o),Ot===4&&Is(r,qe,vr,!1)),fi(r))}function K_(r,i,o){if((nt&6)!==0)throw Error(s(327));var l=!o&&(i&127)===0&&(i&r.expiredLanes)===0||_n(r,i),h=l?T1(r,i):Um(r,i,!0),d=l;do{if(h===0){Oo&&!l&&Is(r,i,0,!1);break}else{if(o=r.current.alternate,d&&!b1(o)){h=Um(r,i,!1),d=!1;continue}if(h===2){if(d=i,r.errorRecoveryDisabledLanes&d)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=r;h=fu;var N=T.current.memoizedState.isDehydrated;if(N&&(zo(T,v).flags|=256),v=Um(T,v,!1),v!==2){if(Dm&&!N){T.errorRecoveryDisabledLanes|=d,Ia|=d,h=4;break e}d=tr,tr=h,d!==null&&(tr===null?tr=d:tr.push.apply(tr,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){zo(r,0),Is(r,i,0,!0);break}e:{switch(l=r,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Is(l,i,vr,!Ss);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tf+300-qt(),10<h)){if(Is(l,i,vr,!Ss),mt(l,0,!0)!==0)break e;qi=i,l.timeoutHandle=R0(Y_.bind(null,l,o,tr,Sf,Om,i,vr,Ia,ko,Ss,d,"Throttled",-0,0),h);break e}Y_(l,o,tr,Sf,Om,i,vr,Ia,ko,Ss,d,null,-0,0)}}break}while(!0);fi(r)}function Y_(r,i,o,l,h,d,v,T,N,q,X,ne,H,Z){if(r.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},q_(i,d,ne);var me=(d&62914560)===d?Tf-qt():(d&4194048)===d?Z_-qt():0;if(me=iR(ne,me),me!==null){qi=d,r.cancelPendingCommit=me(i0.bind(null,r,i,d,o,l,h,v,T,N,X,ne,null,H,Z)),Is(r,d,v,!q);return}}i0(r,i,d,o,l,h,v,T,N)}function b1(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var h=o[l],d=h.getSnapshot;h=h.value;try{if(!dr(d(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(r,i,o,l){i&=~Nm,i&=~Ia,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var h=i;0<h;){var d=31-ln(h),v=1<<d;l[d]=-1,h&=~v}o!==0&&Qn(r,o,i)}function Af(){return(nt&6)===0?(du(0),!1):!0}function Vm(){if(je!==null){if(ot===0)var r=je.return;else r=je,Ni=_a=null,Jd(r),Ao=null,Kl=0,r=je;for(;r!==null;)C_(r.alternate,r),r=r.return;je=null}}function zo(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,j1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),qi=0,Vm(),dt=r,je=o=xi(r.current,null),qe=i,ot=0,yr=null,Ss=!1,Oo=_n(r,i),Dm=!1,ko=vr=Nm=Ia=As=Ot=0,tr=fu=null,Om=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var h=31-ln(l),d=1<<h;i|=r[h],l&=~d}return Bi=i,Gc(),o}function X_(r,i){Me=null,$.H=ru,i===So||i===Wc?(i=dv(),ot=3):i===jd?(i=dv(),ot=4):ot=i===mm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yr=i,je===null&&(Ot=1,mf(r,Rr(i,r.current)))}function J_(){var r=pr.current;return r===null?!0:(qe&4194048)===qe?Dr===null:(qe&62914560)===qe||(qe&536870912)!==0?r===Dr:!1}function W_(){var r=$.H;return $.H=ru,r===null?ru:r}function e0(){var r=$.A;return $.A=v1,r}function Rf(){Ot=4,Ss||(qe&4194048)!==qe&&pr.current!==null||(Oo=!0),(As&134217727)===0&&(Ia&134217727)===0||dt===null||Is(dt,qe,vr,!1)}function Um(r,i,o){var l=nt;nt|=2;var h=W_(),d=e0();(dt!==r||qe!==i)&&(Sf=null,zo(r,i)),i=!1;var v=Ot;e:do try{if(ot!==0&&je!==null){var T=je,N=yr;switch(ot){case 8:Vm(),v=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(i=!0);var q=ot;if(ot=0,yr=null,Vo(r,T,N,q),o&&Oo){v=0;break e}break;default:q=ot,ot=0,yr=null,Vo(r,T,N,q)}}E1(),v=Ot;break}catch(X){X_(r,X)}while(!0);return i&&r.shellSuspendCounter++,Ni=_a=null,nt=l,$.H=h,$.A=d,je===null&&(dt=null,qe=0,Gc()),v}function E1(){for(;je!==null;)t0(je)}function T1(r,i){var o=nt;nt|=2;var l=W_(),h=e0();dt!==r||qe!==i?(Sf=null,wf=qt()+500,zo(r,i)):Oo=_n(r,i);e:do try{if(ot!==0&&je!==null){i=je;var d=yr;t:switch(ot){case 1:ot=0,yr=null,Vo(r,i,d,1);break;case 2:case 9:if(fv(d)){ot=0,yr=null,n0(i);break}i=function(){ot!==2&&ot!==9||dt!==r||(ot=7),fi(r)},d.then(i,i);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:fv(d)?(ot=0,yr=null,n0(i)):(ot=0,yr=null,Vo(r,i,d,7));break;case 5:var v=null;switch(je.tag){case 26:v=je.memoizedState;case 5:case 27:var T=je;if(v?B0(v):T.stateNode.complete){ot=0,yr=null;var N=T.sibling;if(N!==null)je=N;else{var q=T.return;q!==null?(je=q,Cf(q)):je=null}break t}}ot=0,yr=null,Vo(r,i,d,5);break;case 6:ot=0,yr=null,Vo(r,i,d,6);break;case 8:Vm(),Ot=6;break e;default:throw Error(s(462))}}w1();break}catch(X){X_(r,X)}while(!0);return Ni=_a=null,$.H=l,$.A=h,nt=o,je!==null?0:(dt=null,qe=0,Gc(),Ot)}function w1(){for(;je!==null&&!Yi();)t0(je)}function t0(r){var i=A_(r.alternate,r,Bi);r.memoizedProps=r.pendingProps,i===null?Cf(r):je=i}function n0(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=__(o,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=__(o,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Jd(i);default:C_(o,i),i=je=ev(i,Bi),i=A_(o,i,Bi)}r.memoizedProps=r.pendingProps,i===null?Cf(r):je=i}function Vo(r,i,o,l){Ni=_a=null,Jd(i),Ao=null,Kl=0;var h=i.return;try{if(f1(r,h,i,o,qe)){Ot=1,mf(r,Rr(o,r.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;Ot=1,mf(r,Rr(o,r.current)),je=null;return}i.flags&32768?(Ze||l===1?r=!0:Oo||(qe&536870912)!==0?r=!1:(Ss=r=!0,(l===2||l===9||l===3||l===6)&&(l=pr.current,l!==null&&l.tag===13&&(l.flags|=16384))),r0(i,r)):Cf(i)}function Cf(r){var i=r;do{if((i.flags&32768)!==0){r0(i,Ss);return}r=i.return;var o=m1(i.alternate,i,Bi);if(o!==null){je=o;return}if(i=i.sibling,i!==null){je=i;return}je=i=r}while(i!==null);Ot===0&&(Ot=5)}function r0(r,i){do{var o=p1(r.alternate,r);if(o!==null){o.flags&=32767,je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){je=r;return}je=r=o}while(r!==null);Ot=6,je=null}function i0(r,i,o,l,h,d,v,T,N){r.cancelPendingCommit=null;do If();while(nn!==0);if((nt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ad,Ge(r,o,d,v,T,N),r===dt&&(je=dt=null,qe=0),Mo=i,Cs=r,qi=o,km=d,Mm=h,$_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,C1(Nn,function(){return u0(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ue.p,ue.p=2,v=nt,nt|=4;try{g1(r,i,o)}finally{nt=v,ue.p=h,$.T=l}}nn=1,s0(),a0(),o0()}}function s0(){if(nn===1){nn=0;var r=Cs,i=Mo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var l=ue.p;ue.p=2;var h=nt;nt|=4;try{P_(i,r);var d=Km,v=Gy(r.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Hy(T.ownerDocument.documentElement,T)){if(N!==null&&bd(T)){var q=N.start,X=N.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var ne=T.ownerDocument||document,H=ne&&ne.defaultView||window;if(H.getSelection){var Z=H.getSelection(),me=T.textContent.length,Re=Math.min(N.start,me),ht=N.end===void 0?Re:Math.min(N.end,me);!Z.extend&&Re>ht&&(v=ht,ht=Re,Re=v);var L=Fy(T,Re),z=Fy(T,ht);if(L&&z&&(Z.rangeCount!==1||Z.anchorNode!==L.node||Z.anchorOffset!==L.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var B=ne.createRange();B.setStart(L.node,L.offset),Z.removeAllRanges(),Re>ht?(Z.addRange(B),Z.extend(z.node,z.offset)):(B.setEnd(z.node,z.offset),Z.addRange(B))}}}}for(ne=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&ne.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var ee=ne[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}jf=!!Qm,Km=Qm=null}finally{nt=h,ue.p=l,$.T=o}}r.current=i,nn=2}}function a0(){if(nn===2){nn=0;var r=Cs,i=Mo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var l=ue.p;ue.p=2;var h=nt;nt|=4;try{M_(r,i.alternate,i)}finally{nt=h,ue.p=l,$.T=o}}nn=3}}function o0(){if(nn===4||nn===3){nn=0,Xi();var r=Cs,i=Mo,o=qi,l=$_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,Mo=Cs=null,l0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Rs=null),Lr(o),i=i.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ei,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=ue.p,ue.p=2,$.T=null;try{for(var d=r.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{$.T=i,ue.p=h}}(qi&3)!==0&&If(),fi(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===zm?hu++:(hu=0,zm=r):hu=0,du(0)}}function l0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,$l(i)))}function If(){return s0(),a0(),o0(),u0()}function u0(){if(nn!==5)return!1;var r=Cs,i=km;km=0;var o=Lr(qi),l=$.T,h=ue.p;try{ue.p=32>o?32:o,$.T=null,o=Mm,Mm=null;var d=Cs,v=qi;if(nn=0,Mo=Cs=null,qi=0,(nt&6)!==0)throw Error(s(331));var T=nt;if(nt|=4,H_(d.current),B_(d,d.current,v,o),nt=T,du(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ei,d)}catch{}return!0}finally{ue.p=h,$.T=l,l0(r,i)}}function c0(r,i,o){i=Rr(o,i),i=dm(r.stateNode,i,2),r=bs(r,i,2),r!==null&&(Ln(r,2),fi(r))}function lt(r,i,o){if(r.tag===3)c0(r,r,o);else for(;i!==null;){if(i.tag===3){c0(i,r,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rs===null||!Rs.has(l))){r=Rr(o,r),o=f_(2),l=bs(i,o,2),l!==null&&(h_(o,l,i,r),Ln(l,2),fi(l));break}}i=i.return}}function Lm(r,i,o){var l=r.pingCache;if(l===null){l=r.pingCache=new _1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(o)||(Dm=!0,h.add(o),r=S1.bind(null,r,i,o),i.then(r,r))}function S1(r,i,o){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,dt===r&&(qe&o)===o&&(Ot===4||Ot===3&&(qe&62914560)===qe&&300>qt()-Tf?(nt&2)===0&&zo(r,0):Nm|=o,ko===qe&&(ko=0)),fi(r)}function f0(r,i){i===0&&(i=en()),r=ga(r,i),r!==null&&(Ln(r,i),fi(r))}function A1(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),f0(r,o)}function R1(r,i){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),f0(r,o)}function C1(r,i){return Dn(r,i)}var xf=null,Uo=null,Pm=!1,Df=!1,jm=!1,xs=0;function fi(r){r!==Uo&&r.next===null&&(Uo===null?xf=Uo=r:Uo=Uo.next=r),Df=!0,Pm||(Pm=!0,x1())}function du(r,i){if(!jm&&Df){jm=!0;do for(var o=!1,l=xf;l!==null;){if(r!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ln(42|r)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(o=!0,p0(l,d))}else d=qe,d=mt(l,l===dt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_n(l,d)||(o=!0,p0(l,d));l=l.next}while(o);jm=!1}}function I1(){h0()}function h0(){Df=Pm=!1;var r=0;xs!==0&&P1()&&(r=xs);for(var i=qt(),o=null,l=xf;l!==null;){var h=l.next,d=d0(l,i);d===0?(l.next=null,o===null?xf=h:o.next=h,h===null&&(Uo=o)):(o=l,(r!==0||(d&3)!==0)&&(Df=!0)),l=h}nn!==0&&nn!==5||du(r),xs!==0&&(xs=0)}function d0(r,i){for(var o=r.suspendedLanes,l=r.pingedLanes,h=r.expirationTimes,d=r.pendingLanes&-62914561;0<d;){var v=31-ln(d),T=1<<v,N=h[v];N===-1?((T&o)===0||(T&l)!==0)&&(h[v]=Wt(T,i)):N<=i&&(r.expiredLanes|=T),d&=~T}if(i=dt,o=qe,o=mt(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===i&&(ot===2||ot===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||_n(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(l!==null&&Vr(l),Lr(o)){case 2:case 8:o=gt;break;case 32:o=Nn;break;case 268435456:o=Ji;break;default:o=Nn}return l=m0.bind(null,r),o=Dn(o,l),r.callbackPriority=i,r.callbackNode=o,i}return l!==null&&l!==null&&Vr(l),r.callbackPriority=2,r.callbackNode=null,2}function m0(r,i){if(nn!==0&&nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(If()&&r.callbackNode!==o)return null;var l=qe;return l=mt(r,r===dt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(K_(r,l,i),d0(r,qt()),r.callbackNode!=null&&r.callbackNode===o?m0.bind(null,r):null)}function p0(r,i){if(If())return null;K_(r,i,!0)}function x1(){B1(function(){(nt&6)!==0?Dn(Vt,I1):h0()})}function Bm(){if(xs===0){var r=To;r===0&&(r=bi,bi<<=1,(bi&261888)===0&&(bi=256)),xs=r}return xs}function g0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:si(""+r)}function y0(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function D1(r,i,o,l,h){if(i==="submit"&&o&&o.stateNode===h){var d=g0((h[bn]||null).action),v=l.submitter;v&&(i=(i=v[bn]||null)?g0(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ua("action","action",null,l,h);r.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xs!==0){var N=v?y0(h,v):new FormData(h);om(o,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?y0(h,v):new FormData(h),om(o,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var qm=0;qm<Sd.length;qm++){var Fm=Sd[qm],N1=Fm.toLowerCase(),O1=Fm[0].toUpperCase()+Fm.slice(1);Br(N1,"on"+O1)}Br(Qy,"onAnimationEnd"),Br(Ky,"onAnimationIteration"),Br(Yy,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(QA,"onTransitionRun"),Br(KA,"onTransitionStart"),Br(YA,"onTransitionCancel"),Br(Xy,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function v0(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,q=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){Hc(X)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,q=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){Hc(X)}h.currentTarget=null,d=N}}}}function Be(r,i){var o=i[es];o===void 0&&(o=i[es]=new Set);var l=r+"__bubble";o.has(l)||(_0(i,r,2,!1),o.add(l))}function Hm(r,i,o){var l=0;i&&(l|=4),_0(o,r,l,i)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Gm(r){if(!r[Nf]){r[Nf]=!0,ro.forEach(function(o){o!=="selectionchange"&&(k1.has(o)||Hm(o,!1,r),Hm(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Nf]||(i[Nf]=!0,Hm("selectionchange",!1,i))}}function _0(r,i,o,l){switch(Q0(i)){case 2:var h=oR;break;case 8:h=lR;break;default:h=ap}o=h.bind(null,i,o,r),h=void 0,!Vl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function Zm(r,i,o,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ti(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ic(function(){var q=d,X=lo(o),ne=[];e:{var H=Jy.get(r);if(H!==void 0){var Z=ua,me=r;switch(r){case"keypress":if(la(o)===0)break e;case"keydown":case"keyup":Z=Uc;break;case"focusin":me="focus",Z=cs;break;case"focusout":me="blur",Z=cs;break;case"beforeblur":case"afterblur":Z=cs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Pc;break;case Qy:case Ky:case Yy:Z=fo;break;case Xy:Z=ho;break;case"scroll":case"scrollend":Z=xc;break;case"wheel":Z=Bc;break;case"copy":case"cut":case"paste":Z=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Bl;break;case"toggle":case"beforetoggle":Z=hs}var Re=(i&4)!==0,ht=!Re&&(r==="scroll"||r==="scrollend"),L=Re?H!==null?H+"Capture":null:H;Re=[];for(var z=q,B;z!==null;){var ee=z;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||L===null||(ee=Yn(z,L),ee!=null&&Re.push(pu(z,ee,B))),ht)break;z=z.return}0<Re.length&&(H=new Z(H,me,null,o,X),ne.push({event:H,listeners:Re}))}}if((i&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",H&&o!==oo&&(me=o.relatedTarget||o.fromElement)&&(Ti(me)||me[ni]))break e;if((Z||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(me=o.relatedTarget||o.toElement,Z=q,me=me?Ti(me):null,me!==null&&(ht=u(me),Re=me.tag,me!==ht||Re!==5&&Re!==27&&Re!==6)&&(me=null)):(Z=null,me=q),Z!==me)){if(Re=Dc,ee="onMouseLeave",L="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Bl,ee="onPointerLeave",L="onPointerEnter",z="pointer"),ht=Z==null?H:sa(Z),B=me==null?H:sa(me),H=new Re(ee,z+"leave",Z,o,X),H.target=ht,H.relatedTarget=B,ee=null,Ti(X)===q&&(Re=new Re(L,z+"enter",me,o,X),Re.target=B,Re.relatedTarget=ht,ee=Re),ht=ee,Z&&me)t:{for(Re=M1,L=Z,z=me,B=0,ee=L;ee;ee=Re(ee))B++;ee=0;for(var we=z;we;we=Re(we))ee++;for(;0<B-ee;)L=Re(L),B--;for(;0<ee-B;)z=Re(z),ee--;for(;B--;){if(L===z||z!==null&&L===z.alternate){Re=L;break t}L=Re(L),z=Re(z)}Re=null}else Re=null;Z!==null&&b0(ne,H,Z,Re,!1),me!==null&&ht!==null&&b0(ne,ht,me,Re,!0)}}e:{if(H=q?sa(q):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var We=Uy;else if(Xn(H))if(Ly)We=GA;else{We=FA;var _e=qA}else Z=H.nodeName,!Z||Z.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ml(q.elementType)&&(We=Uy):We=HA;if(We&&(We=We(r,q))){da(ne,We,o,X);break e}_e&&_e(r,H,q),r==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&ao(H,"number",H.value)}switch(_e=q?sa(q):window,r){case"focusin":(Xn(_e)||_e.contentEditable==="true")&&(mo=_e,Ed=q,Hl=null);break;case"focusout":Hl=Ed=mo=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Zy(ne,o,X);break;case"selectionchange":if($A)break;case"keydown":case"keyup":Zy(ne,o,X)}var ze;if(y)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ue?st(r,o)&&(Fe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(j&&o.locale!=="ko"&&(Ue||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ue&&(ze=as()):(hr=X,uo="value"in hr?hr.value:hr.textContent,Ue=!0)),_e=Of(q,Fe),0<_e.length&&(Fe=new Ll(Fe,r,null,o,X),ne.push({event:Fe,listeners:_e}),ze?Fe.data=ze:(ze=Ht(o),ze!==null&&(Fe.data=ze)))),(ze=S?dn(r,o):mn(r,o))&&(Fe=Of(q,"onBeforeInput"),0<Fe.length&&(_e=new Ll("onBeforeInput","beforeinput",null,o,X),ne.push({event:_e,listeners:Fe}),_e.data=ze)),D1(ne,r,q,o,X)}v0(ne,i)})}function pu(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Of(r,i){for(var o=i+"Capture",l=[];r!==null;){var h=r,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(r,o),h!=null&&l.unshift(pu(r,h,d)),h=Yn(r,i),h!=null&&l.push(pu(r,h,d))),r.tag===3)return l;r=r.return}return[]}function M1(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function b0(r,i,o,l,h){for(var d=i._reactName,v=[];o!==null&&o!==l;){var T=o,N=T.alternate,q=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||q===null||(N=q,h?(q=Yn(o,d),q!=null&&v.unshift(pu(o,q,N))):h||(q=Yn(o,d),q!=null&&v.push(pu(o,q,N)))),o=o.return}v.length!==0&&r.push({event:i,listeners:v})}var z1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function E0(r){return(typeof r=="string"?r:""+r).replace(z1,`
`).replace(V1,"")}function T0(r,i){return i=E0(i),E0(r)===i}function ft(r,i,o,l,h,d){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sr(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sr(r,""+l);break;case"className":rs(r,"class",l);break;case"tabIndex":rs(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(r,o,l);break;case"style":Rc(r,l,d);break;case"data":if(i!=="object"){rs(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=si(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(o==="formAction"?(i!=="input"&&ft(r,i,"name",h.name,h,null),ft(r,i,"formEncType",h.formEncType,h,null),ft(r,i,"formMethod",h.formMethod,h,null),ft(r,i,"formTarget",h.formTarget,h,null)):(ft(r,i,"encType",h.encType,h,null),ft(r,i,"method",h.method,h,null),ft(r,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=si(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=hn);break;case"onScroll":l!=null&&Be("scroll",r);break;case"onScrollEnd":l!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=si(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Be("beforetoggle",r),Be("toggle",r),ns(r,"popover",l);break;case"xlinkActuate":wr(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wr(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wr(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wr(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wr(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wr(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wr(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ns(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=pd.get(o)||o,ns(r,o,l))}}function $m(r,i,o,l,h,d){switch(o){case"style":Rc(r,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Sr(r,l):(typeof l=="number"||typeof l=="bigint")&&Sr(r,""+l);break;case"onScroll":l!=null&&Be("scroll",r);break;case"onScrollEnd":l!=null&&Be("scrollend",r);break;case"onClick":l!=null&&(r.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),d=r[bn]||null,d=d!=null?d[o]:null,typeof d=="function"&&r.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,l,h);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ns(r,o,l)}}}function Sn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var l=!1,h=!1,d;for(d in o)if(o.hasOwnProperty(d)){var v=o[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ft(r,i,d,v,o,null)}}h&&ft(r,i,"srcSet",o.srcSet,o,null),l&&ft(r,i,"src",o.src,o,null);return;case"input":Be("invalid",r);var T=d=v=h=null,N=null,q=null;for(l in o)if(o.hasOwnProperty(l)){var X=o[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:ft(r,i,l,X,o,null)}}aa(r,d,T,N,q,v,h,!1);return;case"select":Be("invalid",r),l=v=d=null;for(h in o)if(o.hasOwnProperty(h)&&(T=o[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:ft(r,i,h,T,o,null)}i=d,o=v,r.multiple=!!l,i!=null?Je(r,!!l,i,!1):o!=null&&Je(r,!!l,o,!0);return;case"textarea":Be("invalid",r),d=h=l=null;for(v in o)if(o.hasOwnProperty(v)&&(T=o[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ft(r,i,v,T,o,null)}ss(r,l,h,d);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(l=o[N],l!=null))switch(N){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(r,i,N,l,o,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(l=0;l<mu.length;l++)Be(mu[l],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(l=o[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ft(r,i,q,l,o,null)}return;default:if(Ml(i)){for(X in o)o.hasOwnProperty(X)&&(l=o[X],l!==void 0&&$m(r,i,X,l,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(l=o[T],l!=null&&ft(r,i,T,l,o,null))}function U1(r,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,N=null,q=null,X=null;for(Z in o){var ne=o[Z];if(o.hasOwnProperty(Z)&&ne!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(Z)||ft(r,i,Z,null,l,ne)}}for(var H in l){var Z=l[H];if(ne=o[H],l.hasOwnProperty(H)&&(Z!=null||ne!=null))switch(H){case"type":d=Z;break;case"name":h=Z;break;case"checked":q=Z;break;case"defaultChecked":X=Z;break;case"value":v=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Z!==ne&&ft(r,i,H,Z,l,ne)}}is(r,v,T,N,q,X,d,h);return;case"select":Z=v=T=H=null;for(d in o)if(N=o[d],o.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Z=N;default:l.hasOwnProperty(d)||ft(r,i,d,null,l,N)}for(h in l)if(d=l[h],N=o[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&ft(r,i,h,d,l,N)}i=T,o=v,l=Z,H!=null?Je(r,!!o,H,!1):!!l!=!!o&&(i!=null?Je(r,!!o,i,!0):Je(r,!!o,o?[]:"",!1));return;case"textarea":Z=H=null;for(T in o)if(h=o[T],o.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(r,i,T,null,l,h)}for(v in l)if(h=l[v],d=o[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ft(r,i,v,h,l,d)}oa(r,H,Z);return;case"option":for(var me in o)if(H=o[me],o.hasOwnProperty(me)&&H!=null&&!l.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:ft(r,i,me,null,l,H)}for(N in l)if(H=l[N],Z=o[N],l.hasOwnProperty(N)&&H!==Z&&(H!=null||Z!=null))switch(N){case"selected":r.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ft(r,i,N,H,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)H=o[Re],o.hasOwnProperty(Re)&&H!=null&&!l.hasOwnProperty(Re)&&ft(r,i,Re,null,l,H);for(q in l)if(H=l[q],Z=o[q],l.hasOwnProperty(q)&&H!==Z&&(H!=null||Z!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:ft(r,i,q,H,l,Z)}return;default:if(Ml(i)){for(var ht in o)H=o[ht],o.hasOwnProperty(ht)&&H!==void 0&&!l.hasOwnProperty(ht)&&$m(r,i,ht,void 0,l,H);for(X in l)H=l[X],Z=o[X],!l.hasOwnProperty(X)||H===Z||H===void 0&&Z===void 0||$m(r,i,X,H,l,Z);return}}for(var L in o)H=o[L],o.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&ft(r,i,L,null,l,H);for(ne in l)H=l[ne],Z=o[ne],!l.hasOwnProperty(ne)||H===Z||H==null&&Z==null||ft(r,i,ne,H,l,Z)}function w0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L1(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var h=o[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&w0(v)){for(v=0,T=h.responseEnd,l+=1;l<o.length;l++){var N=o[l],q=N.startTime;if(q>T)break;var X=N.transferSize,ne=N.initiatorType;X&&w0(ne)&&(N=N.responseEnd,v+=X*(N<T?1:(T-q)/(N-q)))}if(--l,i+=8*(d+v)/(h.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Qm=null,Km=null;function kf(r){return r.nodeType===9?r:r.ownerDocument}function S0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Ym(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xm=null;function P1(){var r=window.event;return r&&r.type==="popstate"?r===Xm?!1:(Xm=r,!0):(Xm=null,!1)}var R0=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(r){return C0.resolve(null).then(r).catch(q1)}:R0;function q1(r){setTimeout(function(){throw r})}function Ds(r){return r==="head"}function I0(r,i){var o=i,l=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(h),Bo(i);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")gu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,gu(o);for(var d=o.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||o.removeChild(d),d=v}}else o==="body"&&gu(r.ownerDocument.body);o=h}while(o);Bo(i)}function x0(r,i){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function Jm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jm(o),ia(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function F1(r,i,o,l){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ei])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(d=r.getAttribute("rel"),d==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(d!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(d=r.getAttribute("src"),(d!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===d)return r}else return r;if(r=Nr(r.nextSibling),r===null)break}return null}function H1(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Nr(r.nextSibling),r===null))return null;return r}function D0(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Nr(r.nextSibling),r===null))return null;return r}function Wm(r){return r.data==="$?"||r.data==="$~"}function ep(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function G1(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Nr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var tp=null;function N0(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Nr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function O0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function k0(r,i,o){switch(i=kf(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function gu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);ia(r)}var Or=new Map,M0=new Set;function Mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Fi=ue.d;ue.d={f:Z1,r:$1,D:Q1,C:K1,L:Y1,m:X1,X:W1,S:J1,M:eR};function Z1(){var r=Fi.f(),i=Af();return r||i}function $1(r){var i=wi(r);i!==null&&i.tag===5&&i.type==="form"?Xv(i):Fi.r(r)}var Lo=typeof document>"u"?null:document;function z0(r,i,o){var l=Lo;if(l&&typeof i=="string"&&i){var h=Dt(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),M0.has(h)||(M0.add(h),r={rel:r,crossOrigin:o,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Sn(i,"link",r),Ut(i),l.head.appendChild(i)))}}function Q1(r){Fi.D(r),z0("dns-prefetch",r,null)}function K1(r,i){Fi.C(r,i),z0("preconnect",r,i)}function Y1(r,i,o){Fi.L(r,i,o);var l=Lo;if(l&&r&&i){var h='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Dt(o.imageSizes)+'"]')):h+='[href="'+Dt(r)+'"]';var d=h;switch(i){case"style":d=Po(r);break;case"script":d=jo(r)}Or.has(d)||(r=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Or.set(d,r),l.querySelector(h)!==null||i==="style"&&l.querySelector(yu(d))||i==="script"&&l.querySelector(vu(d))||(i=l.createElement("link"),Sn(i,"link",r),Ut(i),l.head.appendChild(i)))}}function X1(r,i){Fi.m(r,i);var o=Lo;if(o&&r){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(r)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=jo(r)}if(!Or.has(d)&&(r=E({rel:"modulepreload",href:r},i),Or.set(d,r),o.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(vu(d)))return}l=o.createElement("link"),Sn(l,"link",r),Ut(l),o.head.appendChild(l)}}}function J1(r,i,o){Fi.S(r,i,o);var l=Lo;if(l&&r){var h=Pr(l).hoistableStyles,d=Po(r);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(yu(d)))T.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Or.get(d))&&np(r,o);var N=v=l.createElement("link");Ut(N),Sn(N,"link",r),N._p=new Promise(function(q,X){N.onload=q,N.onerror=X}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zf(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function W1(r,i){Fi.X(r,i);var o=Lo;if(o&&r){var l=Pr(o).hoistableScripts,h=jo(r),d=l.get(h);d||(d=o.querySelector(vu(h)),d||(r=E({src:r,async:!0},i),(i=Or.get(h))&&rp(r,i),d=o.createElement("script"),Ut(d),Sn(d,"link",r),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eR(r,i){Fi.M(r,i);var o=Lo;if(o&&r){var l=Pr(o).hoistableScripts,h=jo(r),d=l.get(h);d||(d=o.querySelector(vu(h)),d||(r=E({src:r,async:!0,type:"module"},i),(i=Or.get(h))&&rp(r,i),d=o.createElement("script"),Ut(d),Sn(d,"link",r),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V0(r,i,o,l){var h=(h=Te.current)?Mf(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Po(o.href),o=Pr(h).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Po(o.href);var d=Pr(h).hoistableStyles,v=d.get(r);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(r,v),(d=h.querySelector(yu(r)))&&!d._p&&(v.instance=d,v.state.loading=5),Or.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Or.set(r,o),d||tR(h,r,o,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jo(o),o=Pr(h).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Po(r){return'href="'+Dt(r)+'"'}function yu(r){return'link[rel="stylesheet"]['+r+"]"}function U0(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function tR(r,i,o,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Sn(i,"link",o),Ut(i),r.head.appendChild(i))}function jo(r){return'[src="'+Dt(r)+'"]'}function vu(r){return"script[async]"+r}function L0(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(l)return i.instance=l,Ut(l),l;var h=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Ut(l),Sn(l,"style",h),zf(l,o.precedence,r),i.instance=l;case"stylesheet":h=Po(o.href);var d=r.querySelector(yu(h));if(d)return i.state.loading|=4,i.instance=d,Ut(d),d;l=U0(o),(h=Or.get(h))&&np(l,h),d=(r.ownerDocument||r).createElement("link"),Ut(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Sn(d,"link",l),i.state.loading|=4,zf(d,o.precedence,r),i.instance=d;case"script":return d=jo(o.src),(h=r.querySelector(vu(d)))?(i.instance=h,Ut(h),h):(l=o,(h=Or.get(d))&&(l=E({},o),rp(l,h)),r=r.ownerDocument||r,h=r.createElement("script"),Ut(h),Sn(h,"link",l),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zf(l,o.precedence,r));return i.instance}function zf(r,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(r,d.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function np(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function rp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Vf=null;function P0(r,i,o){if(Vf===null){var l=new Map,h=Vf=new Map;h.set(o,l)}else h=Vf,l=h.get(o),l||(l=new Map,h.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var d=o[h];if(!(d[Ei]||d[xt]||r==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=r+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function j0(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function nR(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function rR(r,i,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Po(l.href),d=i.querySelector(yu(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Uf.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=d,Ut(d);return}d=i.ownerDocument||i,l=U0(l),(h=Or.get(h))&&np(l,h),d=d.createElement("link"),Ut(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Sn(d,"link",l),o.instance=d}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Uf.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var ip=0;function iR(r,i){return r.stylesheets&&r.count===0&&Pf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&Pf(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4+i);0<r.imgBytes&&ip===0&&(ip=62500*L1());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Pf(r,r.stylesheets),r.unsuspend)){var d=r.unsuspend;r.unsuspend=null,d()}},(r.imgBytes>ip?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Lf=null;function Pf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Lf=new Map,i.forEach(sR,r),Lf=null,Uf.call(r))}function sR(r,i){if(!(i.state.loading&4)){var o=Lf.get(r);if(o)var l=o.get(null);else{o=new Map,Lf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),l=v)}l&&o.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=o.get(v)||l,d===l&&o.set(null,h),o.set(v,h),this.count++,l=Uf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var _u={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function aR(r,i,o,l,h,d,v,T,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function q0(r,i,o,l,h,d,v,T,N,q,X,ne){return r=new aR(r,i,o,v,N,q,X,ne,T),i=1,d===!0&&(i|=24),d=mr(3,null,null,i),r.current=d,d.stateNode=r,i=Ud(),i.refCount++,r.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:o,cache:i},Bd(d),r}function F0(r){return r?(r=yo,r):yo}function H0(r,i,o,l,h,d){h=F0(h),l.context===null?l.context=h:l.pendingContext=h,l=_s(i),l.payload={element:o},d=d===void 0?null:d,d!==null&&(l.callback=d),o=bs(r,l,i),o!==null&&(nr(o,r,i),Xl(o,r,i))}function G0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function sp(r,i){G0(r,i),(r=r.alternate)&&G0(r,i)}function Z0(r){if(r.tag===13||r.tag===31){var i=ga(r,67108864);i!==null&&nr(i,r,67108864),sp(r,67108864)}}function $0(r){if(r.tag===13||r.tag===31){var i=_r();i=Ur(i);var o=ga(r,i);o!==null&&nr(o,r,i),sp(r,i)}}var jf=!0;function oR(r,i,o,l){var h=$.T;$.T=null;var d=ue.p;try{ue.p=2,ap(r,i,o,l)}finally{ue.p=d,$.T=h}}function lR(r,i,o,l){var h=$.T;$.T=null;var d=ue.p;try{ue.p=8,ap(r,i,o,l)}finally{ue.p=d,$.T=h}}function ap(r,i,o,l){if(jf){var h=op(l);if(h===null)Zm(r,i,l,Bf,o),K0(r,l);else if(cR(h,r,i,o,l))l.stopPropagation();else if(K0(r,l),i&4&&-1<uR.indexOf(r)){for(;h!==null;){var d=wi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=vt(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-ln(v);T.entanglements[1]|=N,v&=~N}fi(d),(nt&6)===0&&(wf=qt()+500,du(0))}}break;case 31:case 13:T=ga(d,2),T!==null&&nr(T,d,2),Af(),sp(d,2)}if(d=op(l),d===null&&Zm(r,i,l,Bf,o),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zm(r,i,l,null,o)}}function op(r){return r=lo(r),lp(r)}var Bf=null;function lp(r){if(Bf=null,r=Ti(r),r!==null){var i=u(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===31){if(r=m(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Bf=r,null}function Q0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(to()){case Vt:return 2;case gt:return 8;case Nn:case Jr:return 32;case Ji:return 268435456;default:return 32}default:return 32}}var up=!1,Ns=null,Os=null,ks=null,bu=new Map,Eu=new Map,Ms=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K0(r,i){switch(r){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":bu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(i.pointerId)}}function Tu(r,i,o,l,h,d){return r===null||r.nativeEvent!==d?(r={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wi(i),i!==null&&Z0(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function cR(r,i,o,l,h){switch(i){case"focusin":return Ns=Tu(Ns,r,i,o,l,h),!0;case"dragenter":return Os=Tu(Os,r,i,o,l,h),!0;case"mouseover":return ks=Tu(ks,r,i,o,l,h),!0;case"pointerover":var d=h.pointerId;return bu.set(d,Tu(bu.get(d)||null,r,i,o,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Eu.set(d,Tu(Eu.get(d)||null,r,i,o,l,h)),!0}return!1}function Y0(r){var i=Ti(r.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,ti(r.priority,function(){$0(o)});return}}else if(i===31){if(i=m(o),i!==null){r.blockedOn=i,ti(r.priority,function(){$0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=op(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);oo=l,o.target.dispatchEvent(l),oo=null}else return i=wi(o),i!==null&&Z0(i),r.blockedOn=o,!1;i.shift()}return!0}function X0(r,i,o){qf(r)&&o.delete(i)}function fR(){up=!1,Ns!==null&&qf(Ns)&&(Ns=null),Os!==null&&qf(Os)&&(Os=null),ks!==null&&qf(ks)&&(ks=null),bu.forEach(X0),Eu.forEach(X0)}function Ff(r,i){r.blockedOn===i&&(r.blockedOn=null,up||(up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fR)))}var Hf=null;function J0(r){Hf!==r&&(Hf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hf===r&&(Hf=null);for(var i=0;i<r.length;i+=3){var o=r[i],l=r[i+1],h=r[i+2];if(typeof l!="function"){if(lp(l||o)===null)continue;break}var d=wi(o);d!==null&&(r.splice(i,3),i-=3,om(d,{pending:!0,data:h,method:o.method,action:l},l,h))}}))}function Bo(r){function i(N){return Ff(N,r)}Ns!==null&&Ff(Ns,r),Os!==null&&Ff(Os,r),ks!==null&&Ff(ks,r),bu.forEach(i),Eu.forEach(i);for(var o=0;o<Ms.length;o++){var l=Ms[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Ms.length&&(o=Ms[0],o.blockedOn===null);)Y0(o),o.blockedOn===null&&Ms.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var h=o[l],d=o[l+1],v=h[bn]||null;if(typeof d=="function")v||J0(o);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[bn]||null)T=v.formAction;else if(lp(h)!==null)continue}else T=v.action;typeof T=="function"?o[l+1]=T:(o.splice(l,3),l-=3),J0(o)}}}function W0(){function r(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cp(r){this._internalRoot=r}Gf.prototype.render=cp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,l=_r();H0(o,l,r,i,null,null)},Gf.prototype.unmount=cp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;H0(r.current,2,null,r,null,null),Af(),i[ni]=null}};function Gf(r){this._internalRoot=r}Gf.prototype.unstable_scheduleHydration=function(r){if(r){var i=fn();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Ms.length&&i!==0&&i<Ms[o].priority;o++);Ms.splice(o,0,r),o===0&&Y0(r)}};var eb=e.version;if(eb!=="19.2.3")throw Error(s(527,eb,"19.2.3"));ue.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=g(i),r=r!==null?_(r):null,r=r===null?null:r.stateNode,r};var hR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{ei=Zf.inject(hR),on=Zf}catch{}}return Su.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,l="",h=o_,d=l_,v=u_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=q0(r,1,!1,null,null,o,l,null,h,d,v,W0),r[ni]=i.current,Gm(r),new cp(i)},Su.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var l=!1,h="",d=o_,v=l_,T=u_,N=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(d=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),i=q0(r,1,!0,i,o??null,l,h,N,d,v,T,W0),i.context=F0(null),o=i.current,l=_r(),l=Ur(l),h=_s(l),h.callback=null,bs(o,h,l),o=l,i.current.lanes=o,Ln(i,o),fi(i),r[ni]=i.current,Gm(r),new Gf(i)},Su.version="19.2.3",Su}var _b;function YR(){if(_b)return mp.exports;_b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mp.exports=KR(),mp.exports}var XR=YR();const JR=CT(XR),bb=t=>{let e;const n=new Set,s=(g,_)=>{const E=typeof g=="function"?g(e):g;if(!Object.is(E,e)){const A=e;e=_??(typeof E!="object"||E===null)?E:Object.assign({},e,E),n.forEach(I=>I(e,A))}},a=()=>e,m={setState:s,getState:a,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=t(s,a,m);return m},WR=(t=>t?bb(t):bb),eC=t=>t;function tC(t,e=eC){const n=an.useSyncExternalStore(t.subscribe,an.useCallback(()=>e(t.getState()),[t,e]),an.useCallback(()=>e(t.getInitialState()),[t,e]));return an.useDebugValue(n),n}const Eb=t=>{const e=WR(t),n=s=>tC(e,s);return Object.assign(n,e),n},wg=(t=>t?Eb(t):Eb),Ph=wg(t=>({activeModal:null,modalData:null,openModal:(e,n=null)=>t({activeModal:e,modalData:n}),closeModal:()=>t({activeModal:null,modalData:null})}));function nC(t,e){let n;try{n=t()}catch{return}return{getItem:a=>{var u;const c=p=>p===null?null:JSON.parse(p,void 0),m=(u=n.getItem(a))!=null?u:null;return m instanceof Promise?m.then(c):c(m)},setItem:(a,u)=>n.setItem(a,JSON.stringify(u,void 0)),removeItem:a=>n.removeItem(a)}}const qp=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return qp(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return qp(s)(n)}}}},rC=(t,e)=>(n,s,a)=>{let u={storage:nC(()=>localStorage),partialize:k=>k,version:0,merge:(k,U)=>({...U,...k}),...e},c=!1;const m=new Set,p=new Set;let g=u.storage;if(!g)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...k)},s,a);const _=()=>{const k=u.partialize({...s()});return g.setItem(u.name,{state:k,version:u.version})},E=a.setState;a.setState=(k,U)=>(E(k,U),_());const A=t((...k)=>(n(...k),_()),s,a);a.getInitialState=()=>A;let I;const P=()=>{var k,U;if(!g)return;c=!1,m.forEach(ie=>{var Y;return ie((Y=s())!=null?Y:A)});const W=((U=u.onRehydrateStorage)==null?void 0:U.call(u,(k=s())!=null?k:A))||void 0;return qp(g.getItem.bind(g))(u.name).then(ie=>{if(ie)if(typeof ie.version=="number"&&ie.version!==u.version){if(u.migrate){const Y=u.migrate(ie.state,ie.version);return Y instanceof Promise?Y.then(le=>[!0,le]):[!0,Y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ie.state];return[!1,void 0]}).then(ie=>{var Y;const[le,se]=ie;if(I=u.merge(se,(Y=s())!=null?Y:A),n(I,!0),le)return _()}).then(()=>{W==null||W(I,void 0),I=s(),c=!0,p.forEach(ie=>ie(I))}).catch(ie=>{W==null||W(void 0,ie)})};return a.persist={setOptions:k=>{u={...u,...k},k.storage&&(g=k.storage)},clearStorage:()=>{g==null||g.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>P(),hasHydrated:()=>c,onHydrate:k=>(m.add(k),()=>{m.delete(k)}),onFinishHydration:k=>(p.add(k),()=>{p.delete(k)})},u.skipHydration||P(),I||A},iC=rC,Sg=wg()(iC(t=>({sidebarWidth:280,isSidebarOpen:!0,sidebarDensity:"normal",setSidebarWidth:e=>t({sidebarWidth:e}),toggleSidebar:()=>t(e=>({isSidebarOpen:!e.isSidebarOpen})),setSidebarOpen:e=>t({isSidebarOpen:e}),setSidebarDensity:e=>t({sidebarDensity:e})}),{name:"ui-storage",partialize:t=>({sidebarWidth:t.sidebarWidth,sidebarDensity:t.sidebarDensity,isSidebarOpen:t.isSidebarOpen})}));var $o=MT();function zT(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=zT(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function sC(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=zT(t))&&(s&&(s+=" "),s+=e);return s}const aC=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},oC=(t,e)=>({classGroupId:t,validator:e}),VT=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),vh="-",Tb=[],lC="arbitrary..",uC=t=>{const e=fC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return cC(c);const m=c.split(vh),p=m[0]===""&&m.length>1?1:0;return UT(m,p,e)},getConflictingClassGroupIds:(c,m)=>{if(m){const p=s[c],g=n[c];return p?g?aC(g,p):p:g||Tb}return n[c]||Tb}}},UT=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],u=n.nextPart.get(a);if(u){const g=UT(t,e+1,u);if(g)return g}const c=n.validators;if(c===null)return;const m=e===0?t.join(vh):t.slice(e).join(vh),p=c.length;for(let g=0;g<p;g++){const _=c[g];if(_.validator(m))return _.classGroupId}},cC=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?lC+s:void 0})(),fC=t=>{const{theme:e,classGroups:n}=t;return hC(n,e)},hC=(t,e)=>{const n=VT();for(const s in t){const a=t[s];Ag(a,n,s,e)}return n},Ag=(t,e,n,s)=>{const a=t.length;for(let u=0;u<a;u++){const c=t[u];dC(c,e,n,s)}},dC=(t,e,n,s)=>{if(typeof t=="string"){mC(t,e,n);return}if(typeof t=="function"){pC(t,e,n,s);return}gC(t,e,n,s)},mC=(t,e,n)=>{const s=t===""?e:LT(e,t);s.classGroupId=n},pC=(t,e,n,s)=>{if(yC(t)){Ag(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(oC(n,t))},gC=(t,e,n,s)=>{const a=Object.entries(t),u=a.length;for(let c=0;c<u;c++){const[m,p]=a[c];Ag(p,LT(e,m),n,s)}},LT=(t,e)=>{let n=t;const s=e.split(vh),a=s.length;for(let u=0;u<a;u++){const c=s[u];let m=n.nextPart.get(c);m||(m=VT(),n.nextPart.set(c,m)),n=m}return n},yC=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,vC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(u,c)=>{n[u]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(u){let c=n[u];if(c!==void 0)return c;if((c=s[u])!==void 0)return a(u,c),c},set(u,c){u in n?n[u]=c:a(u,c)}}},Fp="!",wb=":",_C=[],Sb=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),bC=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const u=[];let c=0,m=0,p=0,g;const _=a.length;for(let k=0;k<_;k++){const U=a[k];if(c===0&&m===0){if(U===wb){u.push(a.slice(p,k)),p=k+1;continue}if(U==="/"){g=k;continue}}U==="["?c++:U==="]"?c--:U==="("?m++:U===")"&&m--}const E=u.length===0?a:a.slice(p);let A=E,I=!1;E.endsWith(Fp)?(A=E.slice(0,-1),I=!0):E.startsWith(Fp)&&(A=E.slice(1),I=!0);const P=g&&g>p?g-p:void 0;return Sb(u,I,A,P)};if(e){const a=e+wb,u=s;s=c=>c.startsWith(a)?u(c.slice(a.length)):Sb(_C,!1,c,void 0,!0)}if(n){const a=s;s=u=>n({className:u,parseClassName:a})}return s},EC=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let u=0;u<n.length;u++){const c=n[u],m=c[0]==="[",p=e.has(c);m||p?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},TC=t=>({cache:vC(t.cacheSize),parseClassName:bC(t),sortModifiers:EC(t),...uC(t)}),wC=/\s+/,SC=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:u}=e,c=[],m=t.trim().split(wC);let p="";for(let g=m.length-1;g>=0;g-=1){const _=m[g],{isExternal:E,modifiers:A,hasImportantModifier:I,baseClassName:P,maybePostfixModifierPosition:k}=n(_);if(E){p=_+(p.length>0?" "+p:p);continue}let U=!!k,W=s(U?P.substring(0,k):P);if(!W){if(!U){p=_+(p.length>0?" "+p:p);continue}if(W=s(P),!W){p=_+(p.length>0?" "+p:p);continue}U=!1}const ie=A.length===0?"":A.length===1?A[0]:u(A).join(":"),Y=I?ie+Fp:ie,le=Y+W;if(c.indexOf(le)>-1)continue;c.push(le);const se=a(W,U);for(let fe=0;fe<se.length;++fe){const C=se[fe];c.push(Y+C)}p=_+(p.length>0?" "+p:p)}return p},AC=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=PT(n))&&(a&&(a+=" "),a+=s);return a},PT=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=PT(t[s]))&&(n&&(n+=" "),n+=e);return n},RC=(t,...e)=>{let n,s,a,u;const c=p=>{const g=e.reduce((_,E)=>E(_),t());return n=TC(g),s=n.cache.get,a=n.cache.set,u=m,m(p)},m=p=>{const g=s(p);if(g)return g;const _=SC(p,n);return a(p,_),_};return u=c,(...p)=>u(AC(...p))},CC=[],rn=t=>{const e=n=>n[t]||CC;return e.isThemeGetter=!0,e},jT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IC=/^\d+\/\d+$/,xC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qo=t=>IC.test(t),Le=t=>!!t&&!Number.isNaN(Number(t)),Vs=t=>!!t&&Number.isInteger(Number(t)),vp=t=>t.endsWith("%")&&Le(t.slice(0,-1)),Hi=t=>xC.test(t),MC=()=>!0,zC=t=>DC.test(t)&&!NC.test(t),qT=()=>!1,VC=t=>OC.test(t),UC=t=>kC.test(t),LC=t=>!pe(t)&&!ge(t),PC=t=>yl(t,GT,qT),pe=t=>jT.test(t),xa=t=>yl(t,ZT,zC),_p=t=>yl(t,HC,Le),Ab=t=>yl(t,FT,qT),jC=t=>yl(t,HT,UC),Kf=t=>yl(t,$T,VC),ge=t=>BT.test(t),Au=t=>vl(t,ZT),BC=t=>vl(t,GC),Rb=t=>vl(t,FT),qC=t=>vl(t,GT),FC=t=>vl(t,HT),Yf=t=>vl(t,$T,!0),yl=(t,e,n)=>{const s=jT.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},vl=(t,e,n=!1)=>{const s=BT.exec(t);return s?s[1]?e(s[1]):n:!1},FT=t=>t==="position"||t==="percentage",HT=t=>t==="image"||t==="url",GT=t=>t==="length"||t==="size"||t==="bg-size",ZT=t=>t==="length",HC=t=>t==="number",GC=t=>t==="family-name",$T=t=>t==="shadow",ZC=()=>{const t=rn("color"),e=rn("font"),n=rn("text"),s=rn("font-weight"),a=rn("tracking"),u=rn("leading"),c=rn("breakpoint"),m=rn("container"),p=rn("spacing"),g=rn("radius"),_=rn("shadow"),E=rn("inset-shadow"),A=rn("text-shadow"),I=rn("drop-shadow"),P=rn("blur"),k=rn("perspective"),U=rn("aspect"),W=rn("ease"),ie=rn("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],se=()=>[...le(),ge,pe],fe=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],w=()=>[ge,pe,p],R=()=>[qo,"full","auto",...w()],O=()=>[Vs,"none","subgrid",ge,pe],D=()=>["auto",{span:["full",Vs,ge,pe]},Vs,ge,pe],V=()=>[Vs,"auto",ge,pe],x=()=>["auto","min","max","fr",ge,pe],Ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],it=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...w()],ue=()=>[qo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],ae=()=>[t,ge,pe],xe=()=>[...le(),Rb,Ab,{position:[ge,pe]}],Ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",qC,PC,{size:[ge,pe]}],Q=()=>[vp,Au,xa],te=()=>["","none","full",g,ge,pe],he=()=>["",Le,Au,xa],be=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Le,vp,Rb,Ab],at=()=>["","none",P,ge,pe],Pe=()=>["none",Le,ge,pe],De=()=>["none",Le,ge,pe],Jt=()=>[Le,ge,pe],Rt=()=>[qo,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hi],breakpoint:[Hi],color:[MC],container:[Hi],"drop-shadow":[Hi],ease:["in","out","in-out"],font:[LC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hi],shadow:[Hi],spacing:["px",Le],text:[Hi],"text-shadow":[Hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qo,pe,ge,U]}],container:["container"],columns:[{columns:[Le,pe,ge,m]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:se()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Vs,"auto",ge,pe]}],basis:[{basis:[qo,"full","auto",m,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,qo,"auto","initial","none",pe]}],grow:[{grow:["",Le,ge,pe]}],shrink:[{shrink:["",Le,ge,pe]}],order:[{order:[Vs,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":x()}],"auto-rows":[{"auto-rows":x()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...Ye(),"normal"]}],"justify-items":[{"justify-items":[...it(),"normal"]}],"justify-self":[{"justify-self":["auto",...it()]}],"align-content":[{content:["normal",...Ye()]}],"align-items":[{items:[...it(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...it(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ye()}],"place-items":[{"place-items":[...it(),"baseline"]}],"place-self":[{"place-self":["auto",...it()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[m,"screen",...ue()]}],"min-w":[{"min-w":[m,"screen","none",...ue()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[c]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,Au,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ge,_p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vp,pe]}],"font-family":[{font:[BC,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ge,pe]}],"line-clamp":[{"line-clamp":[Le,"none",ge,_p]}],leading:[{leading:[u,...w()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",ge,xa]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[Le,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:xe()}],"bg-repeat":[{bg:Ve()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vs,ge,pe],radial:["",ge,pe],conic:[Vs,ge,pe]},FC,jC]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,ge,pe]}],"outline-w":[{outline:["",Le,Au,xa]}],"outline-color":[{outline:ae()}],shadow:[{shadow:["","none",_,Yf,Kf]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",E,Yf,Kf]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[Le,xa]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":ae()}],"text-shadow":[{"text-shadow":["none",A,Yf,Kf]}],"text-shadow-color":[{"text-shadow":ae()}],opacity:[{opacity:[Le,ge,pe]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":ae()}],"mask-image-linear-to-color":[{"mask-linear-to":ae()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":ae()}],"mask-image-t-to-color":[{"mask-t-to":ae()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":ae()}],"mask-image-r-to-color":[{"mask-r-to":ae()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":ae()}],"mask-image-b-to-color":[{"mask-b-to":ae()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":ae()}],"mask-image-l-to-color":[{"mask-l-to":ae()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":ae()}],"mask-image-x-to-color":[{"mask-x-to":ae()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":ae()}],"mask-image-y-to-color":[{"mask-y-to":ae()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":ae()}],"mask-image-radial-to-color":[{"mask-radial-to":ae()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":ae()}],"mask-image-conic-to-color":[{"mask-conic-to":ae()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:xe()}],"mask-repeat":[{mask:Ve()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:at()}],brightness:[{brightness:[Le,ge,pe]}],contrast:[{contrast:[Le,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",I,Yf,Kf]}],"drop-shadow-color":[{"drop-shadow":ae()}],grayscale:[{grayscale:["",Le,ge,pe]}],"hue-rotate":[{"hue-rotate":[Le,ge,pe]}],invert:[{invert:["",Le,ge,pe]}],saturate:[{saturate:[Le,ge,pe]}],sepia:[{sepia:["",Le,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":at()}],"backdrop-brightness":[{"backdrop-brightness":[Le,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Le,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Le,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Le,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Le,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",ge,pe]}],ease:[{ease:["linear","initial",W,ge,pe]}],delay:[{delay:[Le,ge,pe]}],animate:[{animate:["none",ie,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ge,pe]}],"perspective-origin":[{"perspective-origin":se()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:Jt()}],"skew-x":[{"skew-x":Jt()}],"skew-y":[{"skew-y":Jt()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Rt()}],"translate-x":[{"translate-x":Rt()}],"translate-y":[{"translate-y":Rt()}],"translate-z":[{"translate-z":Rt()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[Le,Au,xa,_p]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$C=RC(ZC);function pi(...t){return $C(sC(t))}const QT=({isOpen:t,onClose:e,title:n,children:s,className:a})=>(G.useEffect(()=>{const u=c=>{c.key==="Escape"&&e()};return t&&window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[t,e]),t?$o.createPortal(F.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 animate-fade-in",children:[F.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:e}),F.jsxs("div",{className:pi("relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col transform transition-all animate-scale-in",a),children:[n&&F.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center shrink-0",children:[F.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:n}),F.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:F.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),F.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:s})]})]}),document.body):null),QC=()=>{const{activeModal:t,closeModal:e}=Ph(),{sidebarDensity:n,setSidebarDensity:s}=Sg(),[a,u]=G.useState("appearance"),c=t==="settings",m=p=>{p==="dark"?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")};return F.jsx(QT,{isOpen:c,onClose:e,title:"",className:"max-w-2xl h-[600px]",children:F.jsxs("div",{className:"flex h-full -m-6",children:[F.jsxs("div",{className:"w-48 bg-gray-50 dark:bg-gray-800/50 border-r border-gray-100 dark:border-gray-700/50 p-4 space-y-1",children:[F.jsx(bp,{active:a==="general",onClick:()=>u("general"),label:"",icon:""}),F.jsx(bp,{active:a==="appearance",onClick:()=>u("appearance"),label:"",icon:""}),F.jsx(bp,{active:a==="account",onClick:()=>u("account"),label:"",icon:""})]}),F.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[a==="appearance"&&F.jsxs("div",{className:"space-y-6",children:[F.jsxs("section",{children:[F.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-700 dark:text-gray-300",children:""}),F.jsxs("div",{className:"flex gap-4",children:[F.jsx("button",{onClick:()=>m("light"),className:"p-4 border rounded-lg hover:border-blue-500 bg-white shadow-sm w-32 text-center",children:"Light"}),F.jsx("button",{onClick:()=>m("dark"),className:"p-4 border rounded-lg hover:border-blue-500 bg-gray-900 text-white shadow-sm w-32 text-center",children:"Dark"})]})]}),F.jsxs("section",{children:[F.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-700 dark:text-gray-300",children:""}),F.jsx("div",{className:"space-y-2",children:["compact","normal","comfortable","spacious"].map(p=>F.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[F.jsx("input",{type:"radio",name:"density",checked:n===p,onChange:()=>s(p),className:"text-blue-600"}),F.jsx("span",{className:"capitalize text-sm",children:p})]},p))})]})]}),a==="general"&&F.jsx("div",{className:"text-gray-500 text-sm",children:""}),a==="account"&&F.jsx("div",{className:"text-gray-500 text-sm",children:""})]})]})})},bp=({active:t,onClick:e,label:n,icon:s})=>F.jsxs("button",{onClick:e,className:cn("w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors text-left",t?"bg-white dark:bg-gray-700 shadow-sm text-blue-600 dark:text-blue-400 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[F.jsx("span",{children:s}),F.jsx("span",{children:n})]});var Cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},KC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=t[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=t[n++],c=t[n++],m=t[n++],p=((a&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|c&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const u=t[a],c=a+1<t.length,m=c?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,_=u>>2,E=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(A=64)),s.push(n[_],n[E],n[A],n[I])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const u=n[t.charAt(a++)],m=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,u==null||m==null||g==null||E==null)throw new YC;const A=u<<2|m>>4;if(s.push(A),g!==64){const I=m<<4&240|g>>2;if(s.push(I),E!==64){const P=g<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XC=function(t){const e=KT(t);return YT.encodeByteArray(e,!0)},XT=function(t){return XC(t).replace(/\./g,"")},JT=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=()=>JC().__FIREBASE_DEFAULTS__,eI=()=>{if(typeof process>"u"||typeof Cb>"u")return;const t=Cb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JT(t[1]);return e&&JSON.parse(e)},WT=()=>{try{return WC()||eI()||tI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nI=t=>{var e;return(e=WT())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function iI(){var t;const e=(t=WT())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lI(){return!iI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uI(){try{return typeof indexedDB=="object"}catch{return!1}}function cI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="FirebaseError";class ea extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=fI,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],c=u?hI(u,s):"Error",m=`${this.serviceName}: ${c} (${a}).`;return new ea(a,m,s)}}function hI(t,e){return t.replace(dI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const dI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mI(t,e){const n=new pI(t,e);return n.subscribe.bind(n)}class pI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ep),a.error===void 0&&(a.error=Ep),a.complete===void 0&&(a.complete=Ep);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return t&&t._delegate?t._delegate:t}class ll{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const yI={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},vI=Ke.INFO,_I={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},bI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=_I[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=vI,this._logHandler=bI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const EI=(t,e)=>e.some(n=>t instanceof n);let Ib,xb;function TI(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wI(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tw=new WeakMap,Hp=new WeakMap,nw=new WeakMap,Tp=new WeakMap,Cg=new WeakMap;function SI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(Qs(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&tw.set(n,t)}).catch(()=>{}),Cg.set(e,t),e}function AI(t){if(Hp.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});Hp.set(t,e)}let Gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RI(t){Gp=t(Gp)}function CI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(wp(this),e,...n);return nw.set(s,e.sort?e.sort():[e]),Qs(s)}:wI().includes(t)?function(...e){return t.apply(wp(this),e),Qs(tw.get(this))}:function(...e){return Qs(t.apply(wp(this),e))}}function II(t){return typeof t=="function"?CI(t):(t instanceof IDBTransaction&&AI(t),EI(t,TI())?new Proxy(t,Gp):t)}function Qs(t){if(t instanceof IDBRequest)return SI(t);if(Tp.has(t))return Tp.get(t);const e=II(t);return e!==t&&(Tp.set(t,e),Cg.set(e,t)),e}const wp=t=>Cg.get(t);function xI(t,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const c=indexedDB.open(t,e),m=Qs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Qs(c.result),p.oldVersion,p.newVersion,Qs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const DI=["get","getKey","getAll","getAllKeys","count"],NI=["put","add","delete","clear"],Sp=new Map;function Db(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=NI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||DI.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),a&&p.done]))[0]};return Sp.set(e,u),u}RI(t=>({...t,get:(e,n,s)=>Db(e,n)||t.get(e,n,s),has:(e,n)=>!!Db(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zp="@firebase/app",Nb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Rg("@firebase/app"),MI="@firebase/app-compat",zI="@firebase/analytics-compat",VI="@firebase/analytics",UI="@firebase/app-check-compat",LI="@firebase/app-check",PI="@firebase/auth",jI="@firebase/auth-compat",BI="@firebase/database",qI="@firebase/data-connect",FI="@firebase/database-compat",HI="@firebase/functions",GI="@firebase/functions-compat",ZI="@firebase/installations",$I="@firebase/installations-compat",QI="@firebase/messaging",KI="@firebase/messaging-compat",YI="@firebase/performance",XI="@firebase/performance-compat",JI="@firebase/remote-config",WI="@firebase/remote-config-compat",e2="@firebase/storage",t2="@firebase/storage-compat",n2="@firebase/firestore",r2="@firebase/vertexai-preview",i2="@firebase/firestore-compat",s2="firebase",a2="10.14.1",o2={[Zp]:"fire-core",[MI]:"fire-core-compat",[VI]:"fire-analytics",[zI]:"fire-analytics-compat",[LI]:"fire-app-check",[UI]:"fire-app-check-compat",[PI]:"fire-auth",[jI]:"fire-auth-compat",[BI]:"fire-rtdb",[qI]:"fire-data-connect",[FI]:"fire-rtdb-compat",[HI]:"fire-fn",[GI]:"fire-fn-compat",[ZI]:"fire-iid",[$I]:"fire-iid-compat",[QI]:"fire-fcm",[KI]:"fire-fcm-compat",[YI]:"fire-perf",[XI]:"fire-perf-compat",[JI]:"fire-rc",[WI]:"fire-rc-compat",[e2]:"fire-gcs",[t2]:"fire-gcs-compat",[n2]:"fire-fst",[i2]:"fire-fst-compat",[r2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Map,u2=new Map,Ob=new Map;function kb(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ul(t){const e=t.name;if(Ob.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Ob.set(e,t);for(const n of l2.values())kb(n,t);for(const n of u2.values())kb(n,t);return!0}function Cu(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ig=new uc("app","Firebase",c2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=a2;function Ks(t,e,n){var s;let a=(s=o2[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const u=a.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(m.join(" "));return}ul(new ll(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebase-heartbeat-database",h2=1,Hu="firebase-heartbeat-store";let Ap=null;function rw(){return Ap||(Ap=xI(f2,h2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ig.create("idb-open",{originalErrorMessage:t.message})})),Ap}async function d2(t){try{const n=(await rw()).transaction(Hu),s=await n.objectStore(Hu).get(iw(t));return await n.done,s}catch(e){if(e instanceof ea)$i.warn(e.message);else{const n=Ig.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function Mb(t,e){try{const s=(await rw()).transaction(Hu,"readwrite");await s.objectStore(Hu).put(e,iw(t)),await s.done}catch(n){if(n instanceof ea)$i.warn(n.message);else{const s=Ig.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(s.message)}}}function iw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=1024,p2=720*60*60*1e3;class g2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=zb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=p2}),this._storage.overwrite(this._heartbeatsCache))}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zb(),{heartbeatsToSend:s,unsentEntries:a}=y2(this._heartbeatsCache.heartbeats),u=XT(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return $i.warn(n),""}}}function zb(){return new Date().toISOString().substring(0,10)}function y2(t,e=m2){const n=[];let s=t.slice();for(const a of t){const u=n.find(c=>c.agent===a.agent);if(u){if(u.dates.push(a.date),Vb(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Vb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class v2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uI()?cI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Vb(t){return XT(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){ul(new ll("platform-logger",e=>new OI(e),"PRIVATE")),ul(new ll("heartbeat",e=>new g2(e),"PRIVATE")),Ks(Zp,Nb,t),Ks(Zp,Nb,"esm2017"),Ks("fire-js","")}_2("");function sw(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b2=aw,ow=new uc("auth","Firebase",aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Rg("@firebase/auth");function E2(t,...e){_h.logLevel<=Ke.WARN&&_h.warn(`Auth (${jh}): ${t}`,...e)}function oh(t,...e){_h.logLevel<=Ke.ERROR&&_h.error(`Auth (${jh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,...e){throw xg(t,...e)}function lw(t,...e){return xg(t,...e)}function uw(t,e,n){const s=Object.assign(Object.assign({},b2()),{[e]:n});return new uc("auth","Firebase",s).create(e,{appName:t.name})}function lh(t){return uw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ow.create(t,...e)}function rt(t,e,...n){if(!t)throw xg(e,...n)}function ku(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oh(e),new Error(e)}function bh(t,e){t||ku(e)}function T2(){return Lb()==="http:"||Lb()==="https:"}function Lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T2()||aI()||"connection"in navigator)?navigator.onLine:!0}function S2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,bh(n>e,"Short delay should be less than long delay!"),this.isMobile=rI()||oI()}get(){return w2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e){bh(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ku("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ku("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ku("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new cc(3e4,6e4);function fw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bh(t,e,n,s,a={}){return hw(t,a,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=ew(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:p},u);return sI()||(g.referrerPolicy="no-referrer"),cw.fetch()(dw(t,t.config.apiHost,n,m),g)})}async function hw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},R2),e);try{const a=new I2(t),u=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Xf(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Xf(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Xf(t,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw uw(t,_,g);Ub(t,_)}}catch(a){if(a instanceof ea)throw a;Ub(t,"network-request-failed",{message:String(a)})}}function dw(t,e,n,s){const a=`${e}${n}?${s}`;return t.config.emulator?A2(t.config,a):`${t.config.apiScheme}://${a}`}class I2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(lw(this.auth,"network-request-failed")),C2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=lw(t,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e){return Bh(t,"POST","/v1/accounts:delete",e)}async function mw(t,e){return Bh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D2(t,e=!1){const n=ar(t),s=await n.getIdToken(e),a=pw(s);rt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:Mu(Rp(a.auth_time)),issuedAtTime:Mu(Rp(a.iat)),expirationTime:Mu(Rp(a.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Rp(t){return Number(t)*1e3}function pw(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const a=JT(n);return a?JSON.parse(a):(oh("Failed to decode base64 JWT payload"),null)}catch(a){return oh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Pb(t){const e=pw(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ea&&N2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function N2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){var e;const n=t.auth,s=await t.getIdToken(),a=await $p(t,mw(n,{idToken:s}));rt(a==null?void 0:a.users.length,n,"internal-error");const u=a.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?gw(u.providerUserInfo):[],m=M2(t.providerData,c),p=t.isAnonymous,g=!(t.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Qp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(t,E)}async function k2(t){const e=ar(t);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M2(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function gw(t){return t.map(e=>{var{providerId:n}=e,s=sw(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e){const n=await hw(t,{},async()=>{const s=ew({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=t.config,c=dw(t,a,"/v1/token",`key=${u}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",cw.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V2(t,e){return Bh(t,"POST","/v2/accounts:revokeToken",fw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=Pb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:u}=await z2(e,n);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:u}=n,c=new Ko;return s&&(rt(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(rt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),u&&(rt(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return ku("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,u=sw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Qp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await $p(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D2(this,e)}reload(){return k2(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cu(this.auth.app))return Promise.reject(lh(this.auth));const e=await this.getIdToken();return await $p(this,x2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,u,c,m,p,g,_;const E=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(a=n.email)!==null&&a!==void 0?a:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(c=n.photoURL)!==null&&c!==void 0?c:void 0,k=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,W=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ie=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:le,isAnonymous:se,providerData:fe,stsTokenManager:C}=n;rt(Y&&C,e,"internal-error");const w=Ko.fromJSON(this.name,C);rt(typeof Y=="string",e,"internal-error"),Us(E,e.name),Us(A,e.name),rt(typeof le=="boolean",e,"internal-error"),rt(typeof se=="boolean",e,"internal-error"),Us(I,e.name),Us(P,e.name),Us(k,e.name),Us(U,e.name),Us(W,e.name),Us(ie,e.name);const R=new Zs({uid:Y,auth:e,email:A,emailVerified:le,displayName:E,isAnonymous:se,photoURL:P,phoneNumber:I,tenantId:k,stsTokenManager:w,createdAt:W,lastLoginAt:ie});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(O=>Object.assign({},O))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ko;a.updateFromServerResponse(n);const u=new Zs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];rt(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?gw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),m=new Ko;m.updateFromIdToken(s);const p=new Zs({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Qp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;function Da(t){bh(t instanceof Function,"Expected a class definition");let e=jb.get(t);return e?(bh(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yw.type="NONE";const Bb=yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Cp(this.userKey,a.apiKey,u),this.fullPersistenceKey=Cp("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yo(Da(Bb),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=a[0]||Da(Bb);const c=Cp(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){const E=Zs._fromJSON(e,_);g!==u&&(m=E),u=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Yo(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q2(e))return"Blackberry";if(F2(e))return"Webos";if(L2(e))return"Safari";if((e.includes("chrome/")||P2(e))&&!e.includes("edge/"))return"Chrome";if(B2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function U2(t=Qr()){return/firefox\//i.test(t)}function L2(t=Qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P2(t=Qr()){return/crios\//i.test(t)}function j2(t=Qr()){return/iemobile/i.test(t)}function B2(t=Qr()){return/android/i.test(t)}function q2(t=Qr()){return/blackberry/i.test(t)}function F2(t=Qr()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e=[]){let n;switch(t){case"Browser":n=qb(Qr());break;case"Worker":n=`${qb(Qr())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jh}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return Bh(t,"GET","/v2/passwordPolicy",fw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=6;class $2{constructor(e){var n,s,a,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Z2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,u,c,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new H2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Da(n)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mw(this,{idToken:e}),s=await Zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cu(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===m)&&(p!=null&&p.user)&&(a=p.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cu(this.app))return Promise.reject(lh(this));const n=e?ar(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cu(this.app)?Promise.reject(lh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cu(this.app)?Promise.reject(lh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G2(this),n=new $2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await V2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Da(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function K2(t){return ar(t)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=mI(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Y2(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Da);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new cc(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new cc(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new cc(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new cc(5e3,15e3);var Hb="@firebase/auth",Gb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(t){ul(new ll("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;rt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vw(t)},g=new Q2(s,a,u,p);return Y2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ul(new ll("auth-internal",e=>{const n=K2(e.getProvider("auth").getImmediate());return(s=>new X2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(Hb,Gb,J2(t)),Ks(Hb,Gb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=300;nI("authIdTokenMaxAge");W2("Browser");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,_w;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function R(){}R.prototype=w.prototype,C.D=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(O,D,V){for(var x=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)x[Ye-2]=arguments[Ye];return w.prototype[D].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)O[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;16>D;++D)O[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];var V=C.g[3],x=w+(V^R&(D^V))+O[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=V+(D^w&(R^D))+O[1]+3905402710&4294967295,V=w+(x<<12&4294967295|x>>>20),x=D+(R^V&(w^R))+O[2]+606105819&4294967295,D=V+(x<<17&4294967295|x>>>15),x=R+(w^D&(V^w))+O[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(V^R&(D^V))+O[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=V+(D^w&(R^D))+O[5]+1200080426&4294967295,V=w+(x<<12&4294967295|x>>>20),x=D+(R^V&(w^R))+O[6]+2821735955&4294967295,D=V+(x<<17&4294967295|x>>>15),x=R+(w^D&(V^w))+O[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(V^R&(D^V))+O[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=V+(D^w&(R^D))+O[9]+2336552879&4294967295,V=w+(x<<12&4294967295|x>>>20),x=D+(R^V&(w^R))+O[10]+4294925233&4294967295,D=V+(x<<17&4294967295|x>>>15),x=R+(w^D&(V^w))+O[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(V^R&(D^V))+O[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=V+(D^w&(R^D))+O[13]+4254626195&4294967295,V=w+(x<<12&4294967295|x>>>20),x=D+(R^V&(w^R))+O[14]+2792965006&4294967295,D=V+(x<<17&4294967295|x>>>15),x=R+(w^D&(V^w))+O[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(D^V&(R^D))+O[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=V+(R^D&(w^R))+O[6]+3225465664&4294967295,V=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(V^w))+O[11]+643717713&4294967295,D=V+(x<<14&4294967295|x>>>18),x=R+(V^w&(D^V))+O[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^V&(R^D))+O[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=V+(R^D&(w^R))+O[10]+38016083&4294967295,V=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(V^w))+O[15]+3634488961&4294967295,D=V+(x<<14&4294967295|x>>>18),x=R+(V^w&(D^V))+O[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^V&(R^D))+O[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=V+(R^D&(w^R))+O[14]+3275163606&4294967295,V=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(V^w))+O[3]+4107603335&4294967295,D=V+(x<<14&4294967295|x>>>18),x=R+(V^w&(D^V))+O[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^V&(R^D))+O[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=V+(R^D&(w^R))+O[2]+4243563512&4294967295,V=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(V^w))+O[7]+1735328473&4294967295,D=V+(x<<14&4294967295|x>>>18),x=R+(V^w&(D^V))+O[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(R^D^V)+O[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=V+(w^R^D)+O[8]+2272392833&4294967295,V=w+(x<<11&4294967295|x>>>21),x=D+(V^w^R)+O[11]+1839030562&4294967295,D=V+(x<<16&4294967295|x>>>16),x=R+(D^V^w)+O[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^V)+O[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=V+(w^R^D)+O[4]+1272893353&4294967295,V=w+(x<<11&4294967295|x>>>21),x=D+(V^w^R)+O[7]+4139469664&4294967295,D=V+(x<<16&4294967295|x>>>16),x=R+(D^V^w)+O[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^V)+O[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=V+(w^R^D)+O[0]+3936430074&4294967295,V=w+(x<<11&4294967295|x>>>21),x=D+(V^w^R)+O[3]+3572445317&4294967295,D=V+(x<<16&4294967295|x>>>16),x=R+(D^V^w)+O[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^V)+O[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=V+(w^R^D)+O[12]+3873151461&4294967295,V=w+(x<<11&4294967295|x>>>21),x=D+(V^w^R)+O[15]+530742520&4294967295,D=V+(x<<16&4294967295|x>>>16),x=R+(D^V^w)+O[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(D^(R|~V))+O[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=V+(R^(w|~D))+O[7]+1126891415&4294967295,V=w+(x<<10&4294967295|x>>>22),x=D+(w^(V|~R))+O[14]+2878612391&4294967295,D=V+(x<<15&4294967295|x>>>17),x=R+(V^(D|~w))+O[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~V))+O[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=V+(R^(w|~D))+O[3]+2399980690&4294967295,V=w+(x<<10&4294967295|x>>>22),x=D+(w^(V|~R))+O[10]+4293915773&4294967295,D=V+(x<<15&4294967295|x>>>17),x=R+(V^(D|~w))+O[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~V))+O[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=V+(R^(w|~D))+O[15]+4264355552&4294967295,V=w+(x<<10&4294967295|x>>>22),x=D+(w^(V|~R))+O[6]+2734768916&4294967295,D=V+(x<<15&4294967295|x>>>17),x=R+(V^(D|~w))+O[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~V))+O[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=V+(R^(w|~D))+O[11]+3174756917&4294967295,V=w+(x<<10&4294967295|x>>>22),x=D+(w^(V|~R))+O[2]+718787259&4294967295,D=V+(x<<15&4294967295|x>>>17),x=R+(V^(D|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+V&4294967295}s.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var R=w-this.blockSize,O=this.B,D=this.h,V=0;V<w;){if(D==0)for(;V<=R;)a(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(O[D++]=C.charCodeAt(V++),D==this.blockSize){a(this,O),D=0;break}}else for(;V<w;)if(O[D++]=C[V++],D==this.blockSize){a(this,O),D=0;break}}this.h=D,this.o+=w},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var R=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.u(C),C=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)C[R++]=this.g[w]>>>O&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function c(C,w){this.h=w;for(var R=[],O=!0,D=C.length-1;0<=D;D--){var V=C[D]|0;O&&V==w||(R[D]=V,O=!1)}this.g=R}var m={};function p(C){return-128<=C&&128>C?u(C,function(w){return new c([w|0],0>w?-1:0)}):new c([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return E;if(0>C)return U(g(-C));for(var w=[],R=1,O=0;C>=R;O++)w[O]=C/R|0,R*=4294967296;return new c(w,0)}function _(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return U(_(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),O=E,D=0;D<C.length;D+=8){var V=Math.min(8,C.length-D),x=parseInt(C.substring(D,D+V),w);8>V?(V=g(Math.pow(w,V)),O=O.j(V).add(g(x))):(O=O.j(R),O=O.add(g(x)))}return O}var E=p(0),A=p(1),I=p(16777216);t=c.prototype,t.m=function(){if(k(this))return-U(this).m();for(var C=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);C+=(0<=O?O:4294967296+O)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(k(this))return"-"+U(this).toString(C);for(var w=g(Math.pow(C,6)),R=this,O="";;){var D=le(R,w).g;R=W(R,D.j(w));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=D,P(R))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function k(C){return C.h==-1}t.l=function(C){return C=W(this,C),k(C)?-1:P(C)?0:1};function U(C){for(var w=C.g.length,R=[],O=0;O<w;O++)R[O]=~C.g[O];return new c(R,~C.h).add(A)}t.abs=function(){return k(this)?U(this):this},t.add=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],O=0,D=0;D<=w;D++){var V=O+(this.i(D)&65535)+(C.i(D)&65535),x=(V>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=x>>>16,V&=65535,x&=65535,R[D]=x<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function W(C,w){return C.add(U(w))}t.j=function(C){if(P(this)||P(C))return E;if(k(this))return k(C)?U(this).j(U(C)):U(U(this).j(C));if(k(C))return U(this.j(U(C)));if(0>this.l(I)&&0>C.l(I))return g(this.m()*C.m());for(var w=this.g.length+C.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var D=0;D<C.g.length;D++){var V=this.i(O)>>>16,x=this.i(O)&65535,Ye=C.i(D)>>>16,it=C.i(D)&65535;R[2*O+2*D]+=x*it,ie(R,2*O+2*D),R[2*O+2*D+1]+=V*it,ie(R,2*O+2*D+1),R[2*O+2*D+1]+=x*Ye,ie(R,2*O+2*D+1),R[2*O+2*D+2]+=V*Ye,ie(R,2*O+2*D+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new c(R,0)};function ie(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Y(C,w){this.g=C,this.h=w}function le(C,w){if(P(w))throw Error("division by zero");if(P(C))return new Y(E,E);if(k(C))return w=le(U(C),w),new Y(U(w.g),U(w.h));if(k(w))return w=le(C,U(w)),new Y(U(w.g),w.h);if(30<C.g.length){if(k(C)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,O=w;0>=O.l(C);)R=se(R),O=se(O);var D=fe(R,1),V=fe(O,1);for(O=fe(O,2),R=fe(R,2);!P(O);){var x=V.add(O);0>=x.l(C)&&(D=D.add(R),V=x),O=fe(O,1),R=fe(R,1)}return w=W(C,D.j(w)),new Y(D,w)}for(D=E;0<=C.l(w);){for(R=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=g(R),x=V.j(w);k(x)||0<x.l(C);)R-=O,V=g(R),x=V.j(w);P(V)&&(V=A),D=D.add(V),C=W(C,x)}return new Y(D,C)}t.A=function(C){return le(this,C).h},t.and=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&C.i(O);return new c(R,this.h&C.h)},t.or=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|C.i(O);return new c(R,this.h|C.h)},t.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^C.i(O);return new c(R,this.h^C.h)};function se(C){for(var w=C.g.length+1,R=[],O=0;O<w;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(R,C.h)}function fe(C,w){var R=w>>5;w%=32;for(var O=C.g.length-R,D=[],V=0;V<O;V++)D[V]=0<w?C.i(V+R)>>>w|C.i(V+R+1)<<32-w:C.i(V+R);return new c(D,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_w=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,La=c}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bw,Iu,Ew,uh,Kp,Tw,ww,Sw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,b){return f==Array.prototype||f==Object.prototype||(f[y]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jf=="object"&&Jf];for(var y=0;y<f.length;++y){var b=f[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(f,y){if(y)e:{var b=s;f=f.split(".");for(var S=0;S<f.length-1;S++){var j=f[S];if(!(j in b))break e;b=b[j]}f=f[f.length-1],S=b[f],y=y(S),y!=S&&y!=null&&e(b,f,{configurable:!0,writable:!0,value:y})}}function u(f,y){f instanceof String&&(f+="");var b=0,S=!1,j={next:function(){if(!S&&b<f.length){var K=b++;return{value:y(K,f[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(f){return f||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,b){return f.call.apply(f.bind,arguments)}function E(f,y,b){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),f.apply(y,j)}}return function(){return f.apply(y,arguments)}}function A(f,y,b){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,A.apply(null,arguments)}function I(f,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function P(f,y){function b(){}b.prototype=y.prototype,f.aa=y.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(S,j,K){for(var de=Array(arguments.length-2),st=2;st<arguments.length;st++)de[st-2]=arguments[st];return y.prototype[j].apply(S,de)}}function k(f){const y=f.length;if(0<y){const b=Array(y);for(let S=0;S<y;S++)b[S]=f[S];return b}return[]}function U(f,y){for(let b=1;b<arguments.length;b++){const S=arguments[b];if(p(S)){const j=f.length||0,K=S.length||0;f.length=j+K;for(let de=0;de<K;de++)f[j+de]=S[de]}else f.push(S)}}class W{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(f){return/^[\s\xa0]*$/.test(f)}function Y(){var f=m.navigator;return f&&(f=f.userAgent)?f:""}function le(f){return le[" "](f),f}le[" "]=function(){};var se=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function fe(f,y,b){for(const S in f)y.call(b,f[S],S,f)}function C(f,y){for(const b in f)y.call(void 0,f[b],b,f)}function w(f){const y={};for(const b in f)y[b]=f[b];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,y){let b,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(b in S)f[b]=S[b];for(let K=0;K<R.length;K++)b=R[K],Object.prototype.hasOwnProperty.call(S,b)&&(f[b]=S[b])}}function D(f){var y=1;f=f.split(":");const b=[];for(;0<y&&f.length;)b.push(f.shift()),y--;return f.length&&b.push(f.join(":")),b}function V(f){m.setTimeout(()=>{throw f},0)}function x(){var f=xe;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,b){const S=it.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new W(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ae=!1,xe=new Ye,Ve=()=>{const f=m.Promise.resolve(void 0);ue=()=>{f.then(M)}};var M=()=>{for(var f;f=x();){try{f.h.call(f.g)}catch(b){V(b)}var y=it;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ae=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var he=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};m.addEventListener("test",b,y),m.removeEventListener("test",b,y)}catch{}return f})();function be(f,y){if(te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(se){e:{try{le(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else b=="mouseover"?y=f.fromElement:b=="mouseout"&&(y=f.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&be.aa.h.call(this)}}P(be,te);var Te={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),at=0;function Pe(f,y,b,S,j){this.listener=f,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=j,this.key=++at,this.da=this.fa=!1}function De(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Jt(f){this.src=f,this.g={},this.h=0}Jt.prototype.add=function(f,y,b,S,j){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var de=ur(f,y,S,j);return-1<de?(y=f[de],b||(y.fa=!1)):(y=new Pe(y,this.src,K,!!S,j),y.fa=b,f.push(y)),y};function Rt(f,y){var b=y.type;if(b in f.g){var S=f.g[b],j=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(S,j,1),K&&(De(y),f.g[b].length==0&&(delete f.g[b],f.h--))}}function ur(f,y,b,S){for(var j=0;j<f.length;++j){var K=f[j];if(!K.da&&K.listener==y&&K.capture==!!b&&K.ha==S)return j}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),$n={};function cr(f,y,b,S,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)cr(f,y[K],b,S,j);return null}return b=to(b),f&&f[Ee]?f.K(y,b,g(S)?!!S.capture:!1,j):eo(f,y,b,!1,S,j)}function eo(f,y,b,S,j,K){if(!y)throw Error("Invalid event type");var de=g(j)?!!j.capture:!!j,st=Xi(f);if(st||(f[zt]=st=new Jt(f)),b=st.add(y,b,S,de,K),b.proxy)return b;if(S=ra(),b.proxy=S,S.src=f,S.listener=b,f.addEventListener)he||(j=de),j===void 0&&(j=!1),f.addEventListener(y.toString(),S,j);else if(f.attachEvent)f.attachEvent(Vr(y.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ra(){function f(b){return y.call(f.src,f.listener,b)}const y=Yi;return f}function Xr(f,y,b,S,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)Xr(f,y[K],b,S,j);else S=g(S)?!!S.capture:!!S,b=to(b),f&&f[Ee]?(f=f.i,y=String(y).toString(),y in f.g&&(K=f.g[y],b=ur(K,b,S,j),-1<b&&(De(K[b]),Array.prototype.splice.call(K,b,1),K.length==0&&(delete f.g[y],f.h--)))):f&&(f=Xi(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ur(y,b,S,j)),(b=-1<f?y[f]:null)&&Dn(b))}function Dn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ee])Rt(y.i,f);else{var b=f.type,S=f.proxy;y.removeEventListener?y.removeEventListener(b,S,f.capture):y.detachEvent?y.detachEvent(Vr(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=Xi(y))?(Rt(b,f),b.h==0&&(b.src=null,y[zt]=null)):De(f)}}}function Vr(f){return f in $n?$n[f]:$n[f]="on"+f}function Yi(f,y){if(f.da)f=!0;else{y=new be(y,this);var b=f.listener,S=f.ha||f.src;f.fa&&Dn(f),f=b.call(S,y)}return f}function Xi(f){return f=f[zt],f instanceof Jt?f:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(f){return typeof f=="function"?f:(f[qt]||(f[qt]=function(y){return f.handleEvent(y)}),f[qt])}function Vt(){Q.call(this),this.i=new Jt(this),this.M=this,this.F=null}P(Vt,Q),Vt.prototype[Ee]=!0,Vt.prototype.removeEventListener=function(f,y,b,S){Xr(this,f,y,b,S)};function gt(f,y){var b,S=f.F;if(S)for(b=[];S;S=S.F)b.push(S);if(f=f.M,S=y.type||y,typeof y=="string")y=new te(y,f);else if(y instanceof te)y.target=y.target||f;else{var j=y;y=new te(S,f),O(y,j)}if(j=!0,b)for(var K=b.length-1;0<=K;K--){var de=y.g=b[K];j=Nn(de,S,!0,y)&&j}if(de=y.g=f,j=Nn(de,S,!0,y)&&j,j=Nn(de,S,!1,y)&&j,b)for(K=0;K<b.length;K++)de=y.g=b[K],j=Nn(de,S,!1,y)&&j}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var b=f.g[y],S=0;S<b.length;S++)De(b[S]);delete f.g[y],f.h--}}this.F=null},Vt.prototype.K=function(f,y,b,S){return this.i.add(String(f),y,!1,b,S)},Vt.prototype.L=function(f,y,b,S){return this.i.add(String(f),y,!0,b,S)};function Nn(f,y,b,S){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var de=y[K];if(de&&!de.da&&de.capture==b){var st=de.listener,Ht=de.ha||de.src;de.fa&&Rt(f.i,de),j=st.call(Ht,S)!==!1&&j}}return j&&!S.defaultPrevented}function Jr(f,y,b){if(typeof f=="function")b&&(f=A(f,b));else if(f&&typeof f.handleEvent=="function")f=A(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(f,y||0)}function Ji(f){f.g=Jr(()=>{f.g=null,f.i&&(f.i=!1,Ji(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Er extends Q{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ji(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(f){Q.call(this),this.h=f,this.g={}}P(Wr,Q);var ei=[];function on(f){fe(f.g,function(y,b){this.g.hasOwnProperty(b)&&Dn(y)},f),f.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),on(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=m.JSON.stringify,ln=m.JSON.parse,Il=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function Wi(){}Wi.prototype.h=null;function no(f){return f.h||(f.h=f.i())}function bi(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){te.call(this,"d")}P(yt,te);function vt(){te.call(this,"c")}P(vt,te);var mt={},_n=null;function Wt(){return _n=_n||new Vt}mt.La="serverreachability";function en(f){te.call(this,mt.La,f)}P(en,te);function Ft(f){const y=Wt();gt(y,new en(y))}mt.STAT_EVENT="statevent";function Ln(f,y){te.call(this,mt.STAT_EVENT,f),this.stat=y}P(Ln,te);function Ge(f){const y=Wt();gt(y,new Ln(y,f))}mt.Ma="timingevent";function Qn(f,y){te.call(this,mt.Ma,f),this.size=y}P(Qn,te);function tn(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},y)}function un(){this.g=!0}un.prototype.xa=function(){this.g=!1};function Ur(f,y,b,S,j,K){f.info(function(){if(f.g)if(K)for(var de="",st=K.split("&"),Ht=0;Ht<st.length;Ht++){var Ue=st[Ht].split("=");if(1<Ue.length){var dn=Ue[0];Ue=Ue[1];var mn=dn.split("_");de=2<=mn.length&&mn[1]=="type"?de+(dn+"="+Ue+"&"):de+(dn+"=redacted&")}}else de=null;else de=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+b+`
`+de})}function Lr(f,y,b,S,j,K,de){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+b+`
`+K+" "+de})}function fn(f,y,b,S){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kn(f,b)+(S?" "+S:"")})}function ti(f,y){f.info(function(){return"TIMEOUT: "+y})}un.prototype.info=function(){};function Kn(f,y){if(!f.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var S=b[f];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var de=1;de<j.length;de++)j[de]=""}}}}return On(b)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function es(){}P(es,Wi),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},ni=new es;function ri(f,y,b,S){this.j=f,this.i=y,this.l=b,this.R=S||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wc}function wc(){this.i=null,this.g="",this.h=!1}var xl={},Ei={};function ia(f,y,b){f.L=1,f.v=oa(Dt(y)),f.m=b,f.P=!0,Ti(f,null)}function Ti(f,y){f.F=Date.now(),Pr(f),f.A=Dt(f.v);var b=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),Ai(b.i,"t",S),f.C=0,b=f.j.J,f.h=new wc,f.g=Pc(f.j,b?y:null,!f.m),0<f.O&&(f.M=new Er(A(f.Y,f,f.g),f.O)),y=f.U,b=f.g,S=f.ca;var j="readystatechange";Array.isArray(j)||(j&&(ei[0]=j.toString()),j=ei);for(var K=0;K<j.length;K++){var de=cr(b,j[K],S||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ft(),Ur(f.i,f.u,f.A,f.l,f.R,f.m)}ri.prototype.ca=function(f){f=f.target;const y=this.M;y&&Bn(f)==3?y.j():this.Y(f)},ri.prototype.Y=function(f){try{if(f==this.g)e:{const mn=Bn(this.g);var y=this.g.Ba();const ds=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||mn!=4||y==7||(y==8||0>=ds?Ft(3):Ft(2)),ro(this);var b=this.g.Z();this.X=b;t:if(wi(this)){var S=ca(this.g);f="";var j=S.length,K=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),ts(this);var de="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,f+=this.h.i.decode(S[y],{stream:!(K&&y==j-1)});S.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,Lr(this.i,this.u,this.A,this.l,this.R,mn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Ht=this.g;if((st=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(st)){var Ue=st;break t}}Ue=null}if(b=Ue)fn(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ii(this,b);else{this.o=!1,this.s=3,Ge(12),Pn(this),ts(this);break e}}if(this.P){b=!0;let Xn;for(;!this.J&&this.C<de.length;)if(Xn=sa(this,de),Xn==Ei){mn==4&&(this.s=4,Ge(14),b=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==xl){this.s=4,Ge(15),fn(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else fn(this.i,this.l,Xn,null),ii(this,Xn);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||de.length!=0||this.h.h||(this.s=1,Ge(16),b=!1),this.o=this.o&&b,!b)fn(this.i,this.l,de,"[Invalid Chunked Response]"),Pn(this),ts(this);else if(0<de.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),jl(dn),dn.M=!0,Ge(11))}}else fn(this.i,this.l,de,null),ii(this,de);mn==4&&Pn(this),this.o&&!this.J&&(mn==4?Vc(this.j,this):(this.o=!1,Pr(this)))}else Dc(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Pn(this),ts(this)}}}catch{}finally{}};function wi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function sa(f,y){var b=f.C,S=y.indexOf(`
`,b);return S==-1?Ei:(b=Number(y.substring(b,S)),isNaN(b)?xl:(S+=1,S+b>y.length?Ei:(y=y.slice(S,S+b),f.C=S+b,y)))}ri.prototype.cancel=function(){this.J=!0,Pn(this)};function Pr(f){f.S=Date.now()+f.I,Ut(f,f.I)}function Ut(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=tn(A(f.ba,f),y)}function ro(f){f.B&&(m.clearTimeout(f.B),f.B=null)}ri.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ti(this.i,this.A),this.L!=2&&(Ft(),Ge(17)),Pn(this),this.s=2,ts(this)):Ut(this,this.S-f)};function ts(f){f.j.G==0||f.J||Vc(f.j,f)}function Pn(f){ro(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,on(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ii(f,y){try{var b=f.j;if(b.G!=0&&(b.g==f||ns(b.h,f))){if(!f.K&&ns(b.h,f)&&b.G==3){try{var S=b.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)fs(b),cs(b);else break e;Pl(b),Ge(18)}}else b.za=j[1],0<b.za-b.T&&37500>j[2]&&b.F&&b.v==0&&!b.C&&(b.C=tn(A(b.Za,b),6e3));if(1>=Sc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Ci(b,11)}else if((f.K||b.g==f)&&fs(b),!ie(y))for(j=b.Da.g.parse(y),y=0;y<j.length;y++){let Ue=j[y];if(b.T=Ue[0],Ue=Ue[1],b.G==2)if(Ue[0]=="c"){b.K=Ue[1],b.ia=Ue[2];const dn=Ue[3];dn!=null&&(b.la=dn,b.j.info("VER="+b.la));const mn=Ue[4];mn!=null&&(b.Aa=mn,b.j.info("SVER="+b.Aa));const ds=Ue[5];ds!=null&&typeof ds=="number"&&0<ds&&(S=1.5*ds,b.L=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Xn=f.g;if(Xn){const da=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var K=S.h;K.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(rs(K,K.h),K.h=null))}if(S.D){const Ii=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ii&&(S.ya=Ii,Je(S.I,S.D,Ii))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),S=b;var de=f;if(S.qa=Lc(S,S.J?S.ia:null,S.W),de.K){wr(S.h,de);var st=de,Ht=S.L;Ht&&(st.I=Ht),st.B&&(ro(st),Pr(st)),S.g=de}else Mc(S);0<b.i.length&&fo(b)}else Ue[0]!="stop"&&Ue[0]!="close"||Ci(b,7);else b.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ci(b,7):Ul(b):Ue[0]!="noop"&&b.l&&b.l.ta(Ue),b.v=0)}}Ft(4)}catch{}}var hd=class{constructor(f,y){this.g=f,this.map=y}};function Dl(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Sc(f){return f.h?1:f.g?f.g.size:0}function ns(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function rs(f,y){f.g?f.g.add(y):f.h=y}function wr(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Dl.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function jn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const b of f.g.values())y=y.concat(b.D);return y}return k(f.i)}function Ac(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],b=f.length,S=0;S<b;S++)y.push(f[S]);return y}y=[],b=0;for(S in f)y[b++]=f[S];return y}function dd(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var b=0;b<f;b++)y.push(b);return y}y=[],b=0;for(const S in f)y[b++]=S;return y}}}function io(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var b=dd(f),S=Ac(f),j=S.length,K=0;K<j;K++)y.call(void 0,S[K],b&&b[K],f)}var Ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(f,y){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var S=f[b].indexOf("="),j=null;if(0<=S){var K=f[b].substring(0,S);j=f[b].substring(S+1)}else K=f[b];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Si(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Si){this.h=f.h,is(this,f.j),this.o=f.o,this.g=f.g,aa(this,f.s),this.l=f.l;var y=f.i,b=new si;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),ao(this,b),this.m=f.m}else f&&(y=String(f).match(Ol))?(this.h=!1,is(this,y[1]||"",!0),this.o=ss(y[2]||""),this.g=ss(y[3]||"",!0),aa(this,y[4]),this.l=ss(y[5]||"",!0),ao(this,y[6]||"",!0),this.m=ss(y[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Si.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Sr(y,kl,!0),":");var b=this.g;return(b||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Sr(y,kl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Sr(b,b.charAt(0)=="/"?Ml:Rc,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Sr(b,gd)),f.join("")};function Dt(f){return new Si(f)}function is(f,y,b){f.j=b?ss(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function aa(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ao(f,y,b){y instanceof si?(f.i=y,Cc(f.i,f.h)):(b||(y=Sr(y,pd)),f.i=new si(y,f.h))}function Je(f,y,b){f.i.set(y,b)}function oa(f){return Je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ss(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Sr(f,y,b){return typeof f=="string"?(f=encodeURI(f).replace(y,md),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function md(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var kl=/[#\/\?@]/g,Rc=/[#\?:]/g,Ml=/[#\?]/g,pd=/[#\?@]/g,gd=/#/g;function si(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function hn(f){f.g||(f.g=new Map,f.h=0,f.i&&so(f.i,function(y,b){f.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}t=si.prototype,t.add=function(f,y){hn(this),this.i=null,f=fr(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(y),this.h+=1,this};function oo(f,y){hn(f),y=fr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function lo(f,y){return hn(f),y=fr(f,y),f.g.has(y)}t.forEach=function(f,y){hn(this),this.g.forEach(function(b,S){b.forEach(function(j){f.call(y,j,S,this)},this)},this)},t.na=function(){hn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let S=0;S<y.length;S++){const j=f[S];for(let K=0;K<j.length;K++)b.push(y[S])}return b},t.V=function(f){hn(this);let y=[];if(typeof f=="string")lo(this,f)&&(y=y.concat(this.g.get(fr(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)y=y.concat(f[b])}return y},t.set=function(f,y){return hn(this),this.i=null,f=fr(this,f),lo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ai(f,y,b){oo(f,y),0<b.length&&(f.i=null,f.g.set(fr(f,y),k(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var S=y[b];const K=encodeURIComponent(String(S)),de=this.V(S);for(S=0;S<de.length;S++){var j=K;de[S]!==""&&(j+="="+encodeURIComponent(String(de[S]))),f.push(j)}}return this.i=f.join("&")};function fr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Cc(f,y){y&&!f.j&&(hn(f),f.i=null,f.g.forEach(function(b,S){var j=S.toLowerCase();S!=j&&(oo(this,S),Ai(this,j,b))},f)),f.j=y}function zl(f,y){const b=new un;if(m.Image){const S=new Image;S.onload=I(Yn,b,"TestLoadImage: loaded",!0,y,S),S.onerror=I(Yn,b,"TestLoadImage: error",!1,y,S),S.onabort=I(Yn,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(Yn,b,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else y(!1)}function Ic(f,y){const b=new un,S=new AbortController,j=setTimeout(()=>{S.abort(),Yn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Yn(b,"TestPingServer: ok",!0,y):Yn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Yn(b,"TestPingServer: error",!1,y)})}function Yn(f,y,b,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(b)}catch{}}function jr(){this.g=new Il}function Vl(f,y,b){const S=b||"";try{io(f,function(j,K){let de=j;g(j)&&(de=On(j)),y.push(S+K+"="+encodeURIComponent(de))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function ai(f){this.l=f.Ub||null,this.j=f.eb||!1}P(ai,Wi),ai.prototype.g=function(){return new hr(this.l,this.j)},ai.prototype.i=(function(f){return function(){return f}})({});function hr(f,y){Vt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(hr,Vt),t=hr.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,as(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uo(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function uo(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?oi(this):as(this),this.readyState==3&&uo(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,oi(this))},t.Qa=function(f){this.g&&(this.response=f,oi(this))},t.ga=function(){this.g&&oi(this)};function oi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,as(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=y.next();return f.join(`\r
`)};function as(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function la(f){let y="";return fe(f,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function os(f,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=la(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Je(f,y,b))}function _t(f){Vt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(_t,Vt);var kn=/^https?$/i,Ri=["POST","PUT"];t=_t.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?no(this.o):no(ni),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(K){ua(this,K);return}if(f=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)b.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())b.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&f instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ri,y,void 0))||S||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,de]of b)this.g.setRequestHeader(K,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){ua(this,K)}};function ua(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,ls(f),us(f)}function ls(f){f.A||(f.A=!0,gt(f,"complete"),gt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,gt(this,"complete"),gt(this,"abort"),us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xc(this):this.bb())},t.bb=function(){xc(this)};function xc(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Bn(f)!=4||f.Z()!=2)){if(f.u&&Bn(f)==4)Jr(f.Ea,0,f);else if(gt(f,"readystatechange"),Bn(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=de===0){var j=String(f.D).match(Ol)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!kn.test(j?j.toLowerCase():"")}b=S}if(b)gt(f,"complete"),gt(f,"success");else{f.m=6;try{var K=2<Bn(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",ls(f)}}finally{us(f)}}}}function us(f,y){if(f.g){co(f);const b=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||gt(f,"ready");try{b.onreadystatechange=S}catch{}}}function co(f){f.I&&(m.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Bn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ln(y)}};function ca(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Dc(f){const y={};f=(f.g&&2<=Bn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(ie(f[S]))continue;var b=D(f[S]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=y[j]||[];y[j]=K,K.push(b)}C(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(f,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||y}function Nc(f){this.Aa=0,this.i=[],this.j=new un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,f),this.cb=fa("retryDelaySeedMs",1e4,f),this.Wa=fa("forwardChannelMaxRetries",2,f),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Dl(f&&f.concurrentRequestLimit),this.Da=new jr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nc.prototype,t.la=8,t.G=1,t.connect=function(f,y,b,S){Ge(0),this.W=f,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.I=Lc(this,null,this.W),fo(this)};function Ul(f){if(Oc(f),f.G==3){var y=f.U++,b=Dt(f.I);if(Je(b,"SID",f.K),Je(b,"RID",y),Je(b,"TYPE","terminate"),ha(f,b),y=new ri(f,f.j,y),y.L=2,y.v=oa(Dt(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=y.v,b=!0),b||(y.g=Pc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Pr(y)}Bl(f)}function cs(f){f.g&&(jl(f),f.g.cancel(),f.g=null)}function Oc(f){cs(f),f.u&&(m.clearTimeout(f.u),f.u=null),fs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&m.clearTimeout(f.s),f.s=null)}function fo(f){if(!Nl(f.h)&&!f.s){f.s=!0;var y=f.Ga;ue||Ve(),ae||(ue(),ae=!0),xe.add(y,f),f.B=0}}function yd(f,y){return Sc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=tn(A(f.Ga,f,y),Uc(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const j=new ri(this,this.j,f);let K=this.o;if(this.S&&(K?(K=w(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Ll(this,j,y),b=Dt(this.I),Je(b,"RID",f),Je(b,"CVER",22),this.D&&Je(b,"X-HTTP-Session-Id",this.D),ha(this,b),K&&(this.O?y="headers="+encodeURIComponent(String(la(K)))+"&"+y:this.m&&os(b,this.m,K)),rs(this.h,j),this.Ua&&Je(b,"TYPE","init"),this.P?(Je(b,"$req",y),Je(b,"SID","null"),j.T=!0,ia(j,b,null)):ia(j,b,y),this.G=2}}else this.G==3&&(f?kc(this,f):this.i.length==0||Nl(this.h)||kc(this))};function kc(f,y){var b;y?b=y.l:b=f.U++;const S=Dt(f.I);Je(S,"SID",f.K),Je(S,"RID",b),Je(S,"AID",f.T),ha(f,S),f.m&&f.o&&os(S,f.m,f.o),b=new ri(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Ll(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),rs(f.h,b),ia(b,S,y)}function ha(f,y){f.H&&fe(f.H,function(b,S){Je(y,S,b)}),f.l&&io({},function(b,S){Je(y,S,b)})}function Ll(f,y,b){b=Math.min(f.i.length,b);var S=f.l?A(f.l.Na,f.l,f):null;e:{var j=f.i;let K=-1;for(;;){const de=["count="+b];K==-1?0<b?(K=j[0].g,de.push("ofs="+K)):K=0:de.push("ofs="+K);let st=!0;for(let Ht=0;Ht<b;Ht++){let Ue=j[Ht].g;const dn=j[Ht].map;if(Ue-=K,0>Ue)K=Math.max(0,j[Ht].g-100),st=!1;else try{Vl(dn,de,"req"+Ue+"_")}catch{S&&S(dn)}}if(st){S=de.join("&");break e}}}return f=f.i.splice(0,b),y.D=f,S}function Mc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ue||Ve(),ae||(ue(),ae=!0),xe.add(y,f),f.v=0}}function Pl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=tn(A(f.Fa,f),Uc(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,zc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=tn(A(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),cs(this),zc(this))};function jl(f){f.A!=null&&(m.clearTimeout(f.A),f.A=null)}function zc(f){f.g=new ri(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Dt(f.qa);Je(y,"RID","rpc"),Je(y,"SID",f.K),Je(y,"AID",f.T),Je(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Je(y,"TO",f.ja),Je(y,"TYPE","xmlhttp"),ha(f,y),f.m&&f.o&&os(y,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=oa(Dt(y)),b.m=null,b.P=!0,Ti(b,f)}t.Za=function(){this.C!=null&&(this.C=null,cs(this),Pl(this),Ge(19))};function fs(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function Vc(f,y){var b=null;if(f.g==y){fs(f),jl(f),f.g=null;var S=2}else if(ns(f.h,y))b=y.D,wr(f.h,y),S=1;else return;if(f.G!=0){if(y.o)if(S==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var j=f.B;S=Wt(),gt(S,new Qn(S,b)),fo(f)}else Mc(f);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&yd(f,y)||S==2&&Pl(f)))switch(b&&0<b.length&&(y=f.h,y.i=y.i.concat(b)),j){case 1:Ci(f,5);break;case 4:Ci(f,10);break;case 3:Ci(f,6);break;default:Ci(f,2)}}}function Uc(f,y){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*y}function Ci(f,y){if(f.j.info("Error code "+y),y==2){var b=A(f.fb,f),S=f.Xa;const j=!S;S=new Si(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||is(S,"https"),oa(S),j?zl(S.toString(),b):Ic(S.toString(),b)}else Ge(2);f.G=0,f.l&&f.l.sa(y),Bl(f),Oc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Bl(f){if(f.G=0,f.ka=[],f.l){const y=jn(f.h);(y.length!=0||f.i.length!=0)&&(U(f.ka,y),U(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function Lc(f,y,b){var S=b instanceof Si?Dt(b):new Si(b);if(S.g!="")y&&(S.g=y+"."+S.g),aa(S,S.s);else{var j=m.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new Si(null);S&&is(K,S),y&&(K.g=y),j&&aa(K,j),b&&(K.l=b),S=K}return b=f.D,y=f.ya,b&&y&&Je(S,b,y),Je(S,"VER",f.la),ha(f,S),S}function Pc(f,y,b){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new _t(new ai({eb:b})):new _t(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}t=jc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ho(){}ho.prototype.g=function(f,y){return new qn(f,y)};function qn(f,y){Vt.call(this),this.g=new Nc(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!ie(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new hs(this)}P(qn,Vt),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Ul(this.g)},qn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=On(f),f=b);y.i.push(new hd(y.Ya++,f)),y.G==3&&fo(y)},qn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,qn.aa.N.call(this)};function Bc(f){yt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const b in y){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}P(Bc,yt);function qc(){vt.call(this),this.status=1}P(qc,vt);function hs(f){this.g=f}P(hs,jc),hs.prototype.ua=function(){gt(this.g,"a")},hs.prototype.ta=function(f){gt(this.g,new Bc(f))},hs.prototype.sa=function(f){gt(this.g,new qc)},hs.prototype.ra=function(){gt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,Sw=function(){return new ho},ww=function(){return Wt()},Tw=mt,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,uh=xt,bn.COMPLETE="complete",Ew=bn,bi.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Iu=bi,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,bw=_t}).apply(typeof Jf<"u"?Jf:typeof self<"u"?self:typeof window<"u"?window:{});const $b="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Rg("@firebase/firestore");function Ru(){return qa.logLevel}function ve(t,...e){if(qa.logLevel<=Ke.DEBUG){const n=e.map(Dg);qa.debug(`Firestore (${_l}): ${t}`,...n)}}function Qi(t,...e){if(qa.logLevel<=Ke.ERROR){const n=e.map(Dg);qa.error(`Firestore (${_l}): ${t}`,...n)}}function Gu(t,...e){if(qa.logLevel<=Ke.WARN){const n=e.map(Dg);qa.warn(`Firestore (${_l}): ${t}`,...n)}}function Dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+t;throw Qi(e),new Error(e)}function ut(t,e){t||Ie()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ea{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rr.UNAUTHENTICATED)))}shutdown(){}}class rx{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Pa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pa,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pa)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string"),new tx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new rr(e)}}class ix{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sx{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new ix(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ut(this.o===void 0);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const a=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string"),this.R=n.token,new ax(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=lx(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function tt(t,e){return t<e?-1:t>e?1:0}function cl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Mt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Mt(0,0))}static max(){return new Oe(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(),s===void 0?s=e.length-n:s>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Zu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zu?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=e.get(a),c=n.get(a);if(u<c)return-1;if(u>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class wt extends Zu{construct(e,n,s){return new wt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Zu{construct(e,n,s){return new Rn(e,n,s)}static isValidIdentifier(e){return ux.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else m==="`"?(c=!c,a++):m!=="."||c?(s+=m,a++):(u(),a++)}if(u(),c)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(wt.fromString(e))}static fromName(e){return new Ae(wt.fromString(e).popFirst(5))}static empty(){return new Ae(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new wt(e.slice()))}}function cx(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Mt(n+1,0):new Mt(n,s));return new Xs(a,Ae.empty(),e)}function fx(t){return new Xs(t.readTime,t.key,-1)}class Xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xs(Oe.min(),Ae.empty(),-1)}static max(){return new Xs(Oe.max(),Ae.empty(),-1)}}function hx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==dx)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,s)=>{n(e)}))}static reject(e){return new ce(((n,s)=>{s(e)}))}static waitFor(e){return new ce(((n,s)=>{let a=0,u=0,c=!1;e.forEach((m=>{++a,m.next((()=>{++u,c&&u===a&&n()}),(p=>s(p)))})),c=!0,u===a&&n()}))}static or(e){let n=ce.resolve(!1);for(const s of e)n=n.next((a=>a?ce.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,u)=>{s.push(n.call(this,a,u))})),this.waitFor(s)}static mapArray(e,n){return new ce(((s,a)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===u&&s(c)}),(_=>a(_)))}}))}static doWhile(e,n){return new ce(((s,a)=>{const u=()=>{e()===!0?n().next((()=>{u()}),a):s()};u()}))}}function px(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ng.oe=-1;function qh(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function gx(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $a(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??An.RED,this.left=a??An.EMPTY,this.right=u??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new An(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return An.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,s,a,u){return this}insert(e,n,s){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kb(this.data.getIterator())}getIteratorFrom(e){return new Kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class Kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new br([])}unionWith(e){let n=new Cn(Rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Cw("Invalid base64 string: "+u):u}})(e);return new In(n)}static fromUint8Array(e){const n=(function(a){let u="";for(let c=0;c<a.length;++c)u+=String.fromCharCode(a[c]);return u})(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(ut(!!t),typeof t=="string"){let e=0;const n=yx.exec(t);if(ut(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fa(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kg(t){const e=t.mapValue.fields.__previous_value__;return Og(e)?kg(e):e}function $u(t){const e=Js(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s,a,u,c,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}class Qu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={mapValue:{}};function Ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Og(t)?4:bx(t)?9007199254740991:_x(t)?10:11:Ie()}function vi(t,e){if(t===e)return!0;const n=Ha(t);if(n!==Ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const c=Js(a.timestampValue),m=Js(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,u){return Fa(a.bytesValue).isEqual(Fa(u.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,u){return jt(a.geoPointValue.latitude)===jt(u.geoPointValue.latitude)&&jt(a.geoPointValue.longitude)===jt(u.geoPointValue.longitude)})(t,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return jt(a.integerValue)===jt(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const c=jt(a.doubleValue),m=jt(u.doubleValue);return c===m?Th(c)===Th(m):isNaN(c)&&isNaN(m)}return!1})(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(a,u){const c=a.mapValue.fields||{},m=u.mapValue.fields||{};if(Qb(c)!==Qb(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!vi(c[p],m[p])))return!1;return!0})(t,e);default:return Ie()}}function Ku(t,e){return(t.values||[]).find((n=>vi(n,e)))!==void 0}function fl(t,e){if(t===e)return 0;const n=Ha(t),s=Ha(e);if(n!==s)return tt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=jt(u.integerValue||u.doubleValue),p=jt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(t,e);case 3:return Yb(t.timestampValue,e.timestampValue);case 4:return Yb($u(t),$u(e));case 5:return tt(t.stringValue,e.stringValue);case 6:return(function(u,c){const m=Fa(u),p=Fa(c);return m.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=tt(m[g],p[g]);if(_!==0)return _}return tt(m.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=tt(jt(u.latitude),jt(c.latitude));return m!==0?m:tt(jt(u.longitude),jt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Xb(t.arrayValue,e.arrayValue);case 10:return(function(u,c){var m,p,g,_;const E=u.fields||{},A=c.fields||{},I=(m=E.value)===null||m===void 0?void 0:m.arrayValue,P=(p=A.value)===null||p===void 0?void 0:p.arrayValue,k=tt(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:Xb(I,P)})(t.mapValue,e.mapValue);case 11:return(function(u,c){if(u===eh.mapValue&&c===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(c===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const A=tt(p[E],_[E]);if(A!==0)return A;const I=fl(m[p[E]],g[_[E]]);if(I!==0)return I}return tt(p.length,_.length)})(t.mapValue,e.mapValue);default:throw Ie()}}function Yb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Js(t),s=Js(e),a=tt(n.seconds,s.seconds);return a!==0?a:tt(n.nanos,s.nanos)}function Xb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=fl(n[a],s[a]);if(u)return u}return tt(n.length,s.length)}function hl(t){return Yp(t)}function Yp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Js(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Fa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Yp(u);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const c of s)u?u=!1:a+=",",a+=`${c}:${Yp(n.fields[c])}`;return a+"}"})(t.mapValue):Ie()}function Jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xp(t){return!!t&&"integerValue"in t}function Mg(t){return!!t&&"arrayValue"in t}function Wb(t){return!!t&&"nullValue"in t}function eE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function _x(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $a(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=zu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Rn.emptyPath(),s={},a=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=m.popLast()}c?s[m.lastSegment()]=zu(c):a.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];ch(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){$a(n,((a,u)=>e[a]=u));for(const a of s)delete e[a]}clone(){return new ir(zu(this.value))}}function Iw(t){const e=[];return $a(t.fields,((n,s)=>{const a=new Rn([n]);if(ch(s)){const u=Iw(s.mapValue).fields;if(u.length===0)e.push(a);else for(const c of u)e.push(a.child(c))}else e.push(a)})),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,s,a,u,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Un(e,0,Oe.min(),Oe.min(),Oe.min(),ir.empty(),0)}static newFoundDocument(e,n,s,a){return new Un(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new Un(e,2,n,Oe.min(),Oe.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Oe.min(),Oe.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function tE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const u=e[a],c=t.position[a];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(c.referenceValue),n.key):s=fl(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ex(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class Yt extends xw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new wx(e,n,s):n==="array-contains"?new Rx(e,s):n==="in"?new Cx(e,s):n==="not-in"?new Ix(e,s):n==="array-contains-any"?new xx(e,s):new Yt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Sx(e,s):new Ax(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fl(n,this.value)):n!==null&&Ha(this.value)===Ha(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends xw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kr(e,n)}matches(e){return Dw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Dw(t){return t.op==="and"}function Nw(t){return Tx(t)&&Dw(t)}function Tx(t){for(const e of t.filters)if(e instanceof Kr)return!1;return!0}function Jp(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(Nw(t))return t.filters.map((e=>Jp(e))).join(",");{const e=t.filters.map((n=>Jp(n))).join(",");return`${t.op}(${e})`}}function Ow(t,e){return t instanceof Yt?(function(s,a){return a instanceof Yt&&s.op===a.op&&s.field.isEqual(a.field)&&vi(s.value,a.value)})(t,e):t instanceof Kr?(function(s,a){return a instanceof Kr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,c,m)=>u&&Ow(c,a.filters[m])),!0):!1})(t,e):void Ie()}function kw(t){return t instanceof Yt?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(t):t instanceof Kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(kw).join(" ,")+"}"})(t):"Filter"}class wx extends Yt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sx extends Yt{constructor(e,n){super(e,"in",n),this.keys=Mw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ax extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=Mw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Mw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ae.fromName(s.referenceValue)))}class Rx extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mg(n)&&Ku(n.arrayValue,this.value)}}class Cx extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class Ix extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ku(this.value.arrayValue,n)}}class xx extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ku(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n=null,s=[],a=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=c,this.endAt=m,this.ue=null}}function rE(t,e=null,n=[],s=[],a=null,u=null,c=null){return new Dx(t,e,n,s,a,u,c)}function zg(t){const e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>hl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>hl(s))).join(",")),e.ue=n}return e.ue}function Vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ex(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ow(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nE(t.startAt,e.startAt)&&nE(t.endAt,e.endAt)}function Wp(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n=null,s=[],a=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Nx(t,e,n,s,a,u,c,m){return new bl(t,e,n,s,a,u,c,m)}function Ug(t){return new bl(t)}function iE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zw(t){return t.collectionGroup!==null}function Vu(t){const e=ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Cn(Rn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Yu(u,s))})),n.has(Rn.keyField().canonicalString())||e.ce.push(new Yu(Rn.keyField(),s))}return e.ce}function gi(t){const e=ke(t);return e.le||(e.le=Ox(e,Vu(t))),e.le}function Ox(t,e){if(t.limitType==="F")return rE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Yu(a.field,u)}));const n=t.endAt?new wh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new wh(t.startAt.position,t.startAt.inclusive):null;return rE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function eg(t,e){const n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tg(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return Vg(gi(t),gi(e))&&t.limitType===e.limitType}function Vw(t){return`${zg(gi(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>kw(a))).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>hl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>hl(a))).join(",")),`Target(${s})`})(gi(t))}; limitType=${t.limitType})`}function Hh(t,e){return e.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(t,e)&&(function(s,a){for(const u of Vu(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,m,p){const g=tE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Vu(s),a)||s.endAt&&!(function(c,m,p){const g=tE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Vu(s),a))})(t,e)}function kx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uw(t){return(e,n)=>{let s=!1;for(const a of Vu(t)){const u=Mx(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function Mx(t,e,n){const s=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fl(p,g):Ie()})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,((n,s)=>{for(const[a,u]of s)e(a,u)}))}isEmpty(){return Rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Ct(Ae.comparator);function Ki(){return zx}const Lw=new Ct(Ae.comparator);function xu(...t){let e=Lw;for(const n of t)e=e.insert(n.key,n);return e}function Pw(t){let e=Lw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Na(){return Uu()}function jw(){return Uu()}function Uu(){return new El((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Vx=new Ct(Ae.comparator),Ux=new Cn(Ae.comparator);function He(...t){let e=Ux;for(const n of t)e=e.add(n);return e}const Lx=new Cn(tt);function Px(){return Lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Bw(t){return{integerValue:""+t}}function jx(t,e){return gx(e)?Bw(e):Lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function Bx(t,e,n){return t instanceof Xu?(function(a,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Og(u)&&(u=kg(u)),u&&(c.fields.__previous_value__=u),{mapValue:c}})(n,e):t instanceof Ju?Fw(t,e):t instanceof Wu?Hw(t,e):(function(a,u){const c=qw(a,u),m=sE(c)+sE(a.Pe);return Xp(c)&&Xp(a.Pe)?Bw(m):Lg(a.serializer,m)})(t,e)}function qx(t,e,n){return t instanceof Ju?Fw(t,e):t instanceof Wu?Hw(t,e):n}function qw(t,e){return t instanceof Sh?(function(s){return Xp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Xu extends Gh{}class Ju extends Gh{constructor(e){super(),this.elements=e}}function Fw(t,e){const n=Gw(e);for(const s of t.elements)n.some((a=>vi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Wu extends Gh{constructor(e){super(),this.elements=e}}function Hw(t,e){let n=Gw(e);for(const s of t.elements)n=n.filter((a=>!vi(a,s)));return{arrayValue:{values:n}}}class Sh extends Gh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function sE(t){return jt(t.integerValue||t.doubleValue)}function Gw(t){return Mg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.field=e,this.transform=n}}function Hx(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Ju&&a instanceof Ju||s instanceof Wu&&a instanceof Wu?cl(s.elements,a.elements,vi):s instanceof Sh&&a instanceof Sh?vi(s.Pe,a.Pe):s instanceof Xu&&a instanceof Xu})(t.transform,e.transform)}class Gx{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zh{}function Zw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pg(t.key,$r.none()):new dc(t.key,t.data,$r.none());{const n=t.data,s=ir.empty();let a=new Cn(Rn.comparator);for(let u of e.fields)if(!a.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),a=a.add(u)}return new ta(t.key,s,new br(a.toArray()),$r.none())}}function Zx(t,e,n){t instanceof dc?(function(a,u,c){const m=a.value.clone(),p=oE(a.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):t instanceof ta?(function(a,u,c){if(!fh(a.precondition,u))return void u.convertToUnknownDocument(c.version);const m=oE(a.fieldTransforms,u,c.transformResults),p=u.data;p.setAll($w(a)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(a,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Lu(t,e,n,s){return t instanceof dc?(function(u,c,m,p){if(!fh(u.precondition,c))return m;const g=u.value.clone(),_=lE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof ta?(function(u,c,m,p){if(!fh(u.precondition,c))return m;const g=lE(u.fieldTransforms,p,c),_=c.data;return _.setAll($w(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(t,e,n,s):(function(u,c,m){return fh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(t,e,n)}function $x(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),u=qw(s.transform,a||null);u!=null&&(n===null&&(n=ir.empty()),n.set(s.field,u))}return n||null}function aE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&cl(s,a,((u,c)=>Hx(u,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dc extends Zh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ta extends Zh{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $w(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function oE(t,e,n){const s=new Map;ut(t.length===n.length);for(let a=0;a<n.length;a++){const u=t[a],c=u.transform,m=e.data.field(u.field);s.set(u.field,qx(c,m,n[a]))}return s}function lE(t,e,n){const s=new Map;for(const a of t){const u=a.transform,c=n.data.field(a.field);s.set(a.field,Bx(u,c,e))}return s}class Pg extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qx extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Zx(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jw();return this.mutations.forEach((a=>{const u=e.get(a.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(a.key)?null:m;const p=Zw(c,m);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,s)=>aE(n,s)))&&cl(this.baseMutations,e.baseMutations,((n,s)=>aE(n,s)))}}class jg{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length);let a=(function(){return Vx})();const u=e.mutations;for(let c=0;c<u.length;c++)a=a.insert(u[c].key,s[c].version);return new jg(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,Xe;function Jx(t){switch(t){default:return Ie();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function Qw(t){if(t===void 0)return Qi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Kt.OK:return oe.OK;case Kt.CANCELLED:return oe.CANCELLED;case Kt.UNKNOWN:return oe.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return oe.INTERNAL;case Kt.UNAVAILABLE:return oe.UNAVAILABLE;case Kt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Kt.NOT_FOUND:return oe.NOT_FOUND;case Kt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Kt.ABORTED:return oe.ABORTED;case Kt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Kt.DATA_LOSS:return oe.DATA_LOSS;default:return Ie()}}(Xe=Kt||(Kt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new La([4294967295,4294967295],0);function uE(t){const e=Wx().encode(t),n=new _w;return n.update(e),new Uint8Array(n.digest())}function cE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new La([n,s],0),new La([a,u],0)]}class Bg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(s<0)throw new Du(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=La.fromNumber(this.Ie)}Ee(e,n,s){let a=e.add(n.multiply(La.fromNumber(s)));return a.compare(eD)===1&&(a=new La([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=uE(e),[s,a]=cE(n);for(let u=0;u<this.hashCount;u++){const c=this.Ee(s,a,u);if(!this.de(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Bg(u,a,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.Ie===0)return;const n=uE(e),[s,a]=cE(n);for(let u=0;u<this.hashCount;u++){const c=this.Ee(s,a,u);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $h(Oe.min(),a,new Ct(tt),Ki(),He())}}class mc{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mc(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Kw{constructor(e,n){this.targetId=e,this.me=n}}class Yw{constructor(e,n,s=In.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class fE{constructor(){this.fe=0,this.ge=dE(),this.pe=In.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),n=He(),s=He();return this.ge.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ie()}})),new mc(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=dE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=hE(),this.Qe=new Ct(tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:Ie()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((s,a)=>{this.ze(a)&&n(a)}))}He(e){const n=e.targetId,s=e.me.count,a=this.Je(n);if(a){const u=a.target;if(Wp(u))if(s===0){const c=new Ae(u.path);this.Ue(n,c,Un.newNoDocument(c,Oe.min()))}else ut(s===1);else{const c=this.Ye(n);if(c!==s){const m=this.Ze(e),p=m?this.Xe(m,e,c):1;if(p!==0){this.je(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let c,m;try{c=Fa(s).toUint8Array()}catch(p){if(p instanceof Cw)return Gu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bg(c,a,u)}catch(p){return Gu(p instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach((u=>{const c=this.Le.tt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,u,null),a++)})),a}rt(e){const n=new Map;this.Be.forEach(((u,c)=>{const m=this.Je(c);if(m){if(u.current&&Wp(m.target)){const p=new Ae(m.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,Un.newNoDocument(p,e))}u.be&&(n.set(c,u.ve()),u.Ce())}}));let s=He();this.qe.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ke.forEach(((u,c)=>c.setReadTime(e)));const a=new $h(e,n,this.Qe,this.ke,s);return this.ke=Ki(),this.qe=hE(),this.Qe=new Ct(tt),a}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new fE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Cn(tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fE),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hE(){return new Ct(Ae.comparator)}function dE(){return new Ct(Ae.comparator)}const nD={asc:"ASCENDING",desc:"DESCENDING"},rD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iD={and:"AND",or:"OR"};class sD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(t,e){return t.useProto3Json||qh(e)?e:{value:e}}function Ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aD(t,e){return Ah(t,e.toTimestamp())}function yi(t){return ut(!!t),Oe.fromTimestamp((function(n){const s=Js(n);return new Mt(s.seconds,s.nanos)})(t))}function qg(t,e){return rg(t,e).canonicalString()}function rg(t,e){const n=(function(a){return new wt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Jw(t){const e=wt.fromString(t);return ut(rS(e)),e}function ig(t,e){return qg(t.databaseId,e.path)}function Ip(t,e){const n=Jw(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(eS(n))}function Ww(t,e){return qg(t.databaseId,e)}function oD(t){const e=Jw(t);return e.length===4?wt.emptyPath():eS(e)}function sg(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eS(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mE(t,e,n){return{name:ig(t,e),fields:n.value.mapValue.fields}}function lD(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(ut(_===void 0||typeof _=="string"),In.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),In.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?oe.UNKNOWN:Qw(g.code);return new ye(_,g.message||"")})(c);n=new Yw(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ip(t,s.document.name),u=yi(s.document.updateTime),c=s.document.createTime?yi(s.document.createTime):Oe.min(),m=new ir({mapValue:{fields:s.document.fields}}),p=Un.newFoundDocument(a,u,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new hh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ip(t,s.document),u=s.readTime?yi(s.readTime):Oe.min(),c=Un.newNoDocument(a,u),m=s.removedTargetIds||[];n=new hh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ip(t,s.document),u=s.removedTargetIds||[];n=new hh([],u,a,null)}else{if(!("filter"in e))return Ie();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,c=new Xx(a,u),m=s.targetId;n=new Kw(m,c)}}return n}function uD(t,e){let n;if(e instanceof dc)n={update:mE(t,e.key,e.value)};else if(e instanceof Pg)n={delete:ig(t,e.key)};else if(e instanceof ta)n={update:mE(t,e.key,e.data),updateMask:vD(e.fieldMask)};else{if(!(e instanceof Qx))return Ie();n={verify:ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof Xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:c.field.canonicalString(),increment:m.Pe};throw Ie()})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:aD(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie()})(t,e.precondition)),n}function cD(t,e){return t&&t.length>0?(ut(e!==void 0),t.map((n=>(function(a,u){let c=a.updateTime?yi(a.updateTime):yi(u);return c.isEqual(Oe.min())&&(c=yi(u)),new Gx(c,a.transformResults||[])})(n,e)))):[]}function fD(t,e){return{documents:[Ww(t,e.path)]}}function hD(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ww(t,a);const u=(function(g){if(g.length!==0)return nS(Kr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:Ho(A.field),direction:pD(A.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=ng(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{_t:n,parent:a}}function dD(t){let e=oD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1);const _=n.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const A=tS(E);return A instanceof Kr&&Nw(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((A=>(function(P){return new Yu(Go(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let A;return A=typeof E=="object"?E.value:E,qh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(E){const A=!!E.before,I=E.values||[];return new wh(I,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const A=!E.before,I=E.values||[];return new wh(I,A)})(n.endAt)),Nx(e,a,c,u,m,"F",p,g)}function mD(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Go(n.unaryFilter.field);return Yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Go(n.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Go(n.unaryFilter.field);return Yt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(n.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}})(t):t.fieldFilter!==void 0?(function(n){return Yt.create(Go(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Kr.create(n.compositeFilter.filters.map((s=>tS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie()}})(n.compositeFilter.op))})(t):Ie()}function pD(t){return nD[t]}function gD(t){return rD[t]}function yD(t){return iD[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Go(t){return Rn.fromServerFormat(t.fieldPath)}function nS(t){return t instanceof Yt?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:gD(n.op),value:n.value}}})(t):t instanceof Kr?(function(n){const s=n.getFilters().map((a=>nS(a)));return s.length===1?s[0]:{compositeFilter:{op:yD(n.op),filters:s}}})(t):Ie()}function vD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s,a,u=Oe.min(),c=Oe.min(),m=In.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.ct=e}}function bD(t){const e=dD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.un=new TD}addToCollectionParentIndex(e,n){return this.un.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Xs.min())}updateCollectionGroup(e,n,s){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class TD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Cn(wt.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Cn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new dl(0)}static kn(){return new dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.changes=new El((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ce.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Lu(s.mutation,a,br.empty(),Mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const a=Na();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((u=>{let c=xu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const a=[];return s.forEach((u=>{n.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,a){let u=Ki();const c=Uu(),m=(function(){return Uu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof ta)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Lu(_.mutation,g,_.mutation.getFieldMask(),Mt.now())):c.set(g.key,br.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>{var E;return m.set(g,new SD(_,(E=c.get(g))!==null&&E!==void 0?E:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=Uu();let a=new Ct(((c,m)=>c-m)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||br.empty();_=m.applyToLocalView(g,_),s.set(p,_);const E=(a.get(m.batchId)||He()).add(p);a=a.insert(m.batchId,E)}))})).next((()=>{const c=[],m=a.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,E=jw();_.forEach((A=>{if(!u.has(A)){const I=Zw(n.get(A),s.get(A));I!==null&&E.set(A,I),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ce.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((u=>{const c=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):ce.resolve(Na());let m=-1,p=u;return c.next((g=>ce.forEach(g,((_,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(_)?ce.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,He()))).next((_=>({batchId:m,changes:Pw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let a=xu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let c=xu();return this.indexManager.getCollectionParents(e,u).next((m=>ce.forEach(m,(p=>{const g=(function(E,A){return new bl(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((_=>{_.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Un.newInvalidDocument(_)))}));let m=xu();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&Lu(_.mutation,g,br.empty(),Mt.now()),Hh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:yi(a.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(a){return{name:a.name,query:bD(a.bundledQuery),readTime:yi(a.readTime)}})(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.overlays=new Ct(Ae.comparator),this.Ir=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Na();return ce.forEach(n,(a=>this.getOverlay(e,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,u)=>{this.ht(e,n,u)})),ce.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Ir.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(s)),ce.resolve()}getOverlaysForCollection(e,n,s){const a=Na(),u=n.length+1,c=new Ae(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Ct(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Na(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=a)););return ce.resolve(m)}ht(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Ir.get(a.largestBatchId).delete(s.key);this.Ir.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Yx(n,s));let u=this.Ir.get(n);u===void 0&&(u=He(),this.Ir.set(n,u)),this.Ir.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Tr=new Cn(yn.Er),this.dr=new Cn(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new yn(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Vr(new yn(e,n))}mr(e,n){e.forEach((s=>this.removeReference(s,n)))}gr(e){const n=new Ae(new wt([])),s=new yn(n,e),a=new yn(n,e+1),u=[];return this.dr.forEachInRange([s,a],(c=>{this.Vr(c),u.push(c.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ae(new wt([])),s=new yn(n,e),a=new yn(n,e+1);let u=He();return this.dr.forEachInRange([s,a],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new yn(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class yn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ae.comparator(e.key,n.key)||tt(e.wr,n.wr)}static Ar(e,n){return tt(e.wr,n.wr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Cn(yn.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Kx(u,n,s,a);this.mutationQueue.push(c);for(const m of a)this.br=this.br.add(new yn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.vr(s),u=a<0?0:a;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new yn(n,0),a=new yn(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,a],(c=>{const m=this.Dr(c.wr);u.push(m)})),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Cn(tt);return n.forEach((a=>{const u=new yn(a,0),c=new yn(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,c],(m=>{s=s.add(m.wr)}))})),ce.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const c=new yn(new Ae(u),0);let m=new Cn(tt);return this.br.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(m=m.add(p.wr)),!0)}),c),ce.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach((s=>{const a=this.Dr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return ce.forEach(n.mutations,(a=>{const u=new yn(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,n){const s=new yn(n,0),a=this.br.firstAfterOrEqual(s);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.Mr=e,this.docs=(function(){return new Ct(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,c=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ce.resolve(s?s.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let s=Ki();return n.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Un.newInvalidDocument(a))})),ce.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ki();const c=n.path,m=new Ae(c.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||hx(fx(_),s)<=0||(a.has(_.key)||Hh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ce.resolve(u)}getAllFromCollectionGroup(e,n,s,a){Ie()}Or(e,n){return ce.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new ND(this)}getSize(e){return ce.resolve(this.size)}}class ND extends wD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(s)})),ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.persistence=e,this.Nr=new El((n=>zg(n)),Vg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fg,this.targetCount=0,this.kr=dl.Bn()}forEachTarget(e,n){return this.Nr.forEach(((s,a)=>n(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Kn(n),ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Nr.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Nr.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),ce.waitFor(u).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return ce.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),ce.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach((c=>{u.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return ce.resolve(s)}containsKey(e,n){return ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ng(0),this.Kr=!1,this.Kr=!0,this.$r=new ID,this.referenceDelegate=e(this),this.Ur=new OD(this),this.indexManager=new ED,this.remoteDocumentCache=(function(a){return new DD(a)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new _D(n),this.Gr=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new xD(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const a=new MD(this.Qr.next());return this.referenceDelegate.zr(),s(a).next((u=>this.referenceDelegate.jr(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Hr(e,n){return ce.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,n))))}}class MD extends mx{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Jr=new Fg,this.Yr=null}static Zr(e){return new Hg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),ce.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((a=>this.Xr.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((u=>this.Xr.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,(s=>{const a=Ae.fromPath(s);return this.ei(e,a).next((u=>{u||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=a}static Wi(e,n){let s=He(),a=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Gg(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return lI()?8:px(Qr())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Yi(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.Zi(e,n,a,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new zD;return this.Xi(e,n,c).next((m=>{if(u.result=m,this.zi)return this.es(e,n,c,m.size)}))})).next((()=>u.result))}es(e,n,s,a){return s.documentReadCount<this.ji?(Ru()<=Ke.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(Ru()<=Ke.DEBUG&&ve("QueryEngine","Query:",Fo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Hi*a?(Ru()<=Ke.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):ce.resolve())}Yi(e,n){if(iE(n))return ce.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=tg(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=He(...u);return this.Ji.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.ts(n,m);return this.ns(n,g,c,p.readTime)?this.Yi(e,tg(n,null,"F")):this.rs(e,g,n,p)}))))})))))}Zi(e,n,s,a){return iE(n)||a.isEqual(Oe.min())?ce.resolve(null):this.Ji.getDocuments(e,s).next((u=>{const c=this.ts(n,u);return this.ns(n,c,s,a)?ce.resolve(null):(Ru()<=Ke.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fo(n)),this.rs(e,c,n,cx(a,-1)).next((m=>m)))}))}ts(e,n){let s=new Cn(Uw(e));return n.forEach(((a,u)=>{Hh(e,u)&&(s=s.add(u))})),s}ns(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Xi(e,n,s){return Ru()<=Ke.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xs.min(),s)}rs(e,n,s,a){return this.Ji.getDocumentsMatchingQuery(e,s,a).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,s,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new Ct(tt),this._s=new El((u=>zg(u)),Vg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function LD(t,e,n,s){return new UD(t,e,n,s)}async function iS(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,n.ls(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=He();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function PD(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const E=g.batch,A=E.keys();let I=ce.resolve();return A.forEach((P=>{I=I.next((()=>_.getEntry(p,P))).next((k=>{const U=g.docVersions.get(P);ut(U!==null),k.version.compareTo(U)<0&&(E.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=He();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function sS(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function jD(t,e){const n=ke(t),s=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const m=[];e.targetChanges.forEach(((_,E)=>{const A=a.get(E);if(!A)return;m.push(n.Ur.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.Ur.addMatchingKeys(u,_.addedDocuments,E))));let I=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(In.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),a=a.insert(E,I),(function(k,U,W){return k.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,I,_)&&m.push(n.Ur.updateTargetData(u,I))}));let p=Ki(),g=He();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(BD(u,c,e.documentUpdates).next((_=>{p=_.Ps,g=_.Is}))),!s.isEqual(Oe.min())){const _=n.Ur.getLastRemoteSnapshotVersion(u).next((E=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ce.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.os=a,u)))}function BD(t,e,n){let s=He(),a=He();return n.forEach((u=>s=s.add(u))),e.getEntries(t,s).next((u=>{let c=Ki();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):ve("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ps:c,Is:a}}))}function qD(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function FD(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Ur.getTargetData(s,e).next((u=>u?(a=u,ce.resolve(a)):n.Ur.allocateTargetId(s).next((c=>(a=new $s(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.os.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s}))}async function ag(t,e,n){const s=ke(t),a=s.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hc(c))throw c;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.os=s.os.remove(e),s._s.delete(a.target)}function pE(t,e,n){const s=ke(t);let a=Oe.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=ke(p),A=E._s.get(_);return A!==void 0?ce.resolve(E.os.get(A)):E.Ur.getTargetData(g,_)})(s,c,gi(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.ss.getDocumentsMatchingQuery(c,e,n?a:Oe.min(),n?u:He()))).next((m=>(HD(s,kx(e),m),{documents:m,Ts:u})))))}function HD(t,e,n){let s=t.us.get(e)||Oe.min();n.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),t.us.set(e,s)}class gE{constructor(){this.activeTargetIds=Px()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.so=new gE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function xp(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class KD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${a}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}get Fo(){return!1}Mo(n,s,a,u,c){const m=xp(),p=this.xo(n,s.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${m}:`,p,a);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,u,c),this.No(n,p,g,a).then((_=>(ve("RestConnection",`Received RPC '${n}' ${m}: `,_),_)),(_=>{throw Gu("RestConnection",`RPC '${n}' ${m} failed with error: `,_,"url: ",p,"request:",a),_}))}Lo(n,s,a,u,c,m){return this.Mo(n,s,a,u,c)}Oo(n,s,a){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,c)=>n[c]=u)),a&&a.headers.forEach(((u,c)=>n[c]=u))}xo(n,s){const a=$D[n];return`${this.Do}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,a){const u=xp();return new Promise(((c,m)=>{const p=new bw;p.setWithCredentials(!0),p.listenOnce(Ew.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case uh.NO_ERROR:const _=p.getResponseJson();ve(Vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),c(_);break;case uh.TIMEOUT:ve(Vn,`RPC '${e}' ${u} timed out`),m(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const E=p.getStatus();if(ve(Vn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const P=(function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(W)>=0?W:oe.UNKNOWN})(I.status);m(new ye(P,I.message))}else m(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ve(Vn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);ve(Vn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",g,s,15)}))}Bo(e,n,s){const a=xp(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Sw(),m=ww(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ve(Vn,`Creating RPC '${e}' stream ${a}: ${_}`,p);const E=c.createWebChannel(_,p);let A=!1,I=!1;const P=new QD({Io:U=>{I?ve(Vn,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(A||(ve(Vn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),A=!0),ve(Vn,`RPC '${e}' stream ${a} sending:`,U),E.send(U))},To:()=>E.close()}),k=(U,W,ie)=>{U.listen(W,(Y=>{try{ie(Y)}catch(le){setTimeout((()=>{throw le}),0)}}))};return k(E,Iu.EventType.OPEN,(()=>{I||(ve(Vn,`RPC '${e}' stream ${a} transport opened.`),P.yo())})),k(E,Iu.EventType.CLOSE,(()=>{I||(I=!0,ve(Vn,`RPC '${e}' stream ${a} transport closed`),P.So())})),k(E,Iu.EventType.ERROR,(U=>{I||(I=!0,Gu(Vn,`RPC '${e}' stream ${a} transport errored:`,U),P.So(new ye(oe.UNAVAILABLE,"The operation could not be completed")))})),k(E,Iu.EventType.MESSAGE,(U=>{var W;if(!I){const ie=U.data[0];ut(!!ie);const Y=ie,le=Y.error||((W=Y[0])===null||W===void 0?void 0:W.error);if(le){ve(Vn,`RPC '${e}' stream ${a} received error:`,le);const se=le.status;let fe=(function(R){const O=Kt[R];if(O!==void 0)return Qw(O)})(se),C=le.message;fe===void 0&&(fe=oe.INTERNAL,C="Unknown error status: "+se+" with message "+le.message),I=!0,P.So(new ye(fe,C)),E.close()}else ve(Vn,`RPC '${e}' stream ${a} received:`,ie),P.bo(ie)}})),k(m,Tw.STAT_EVENT,(U=>{U.stat===Kp.PROXY?ve(Vn,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Kp.NOPROXY&&ve(Vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{P.wo()}),0),P}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return new sD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,s=1e3,a=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=a,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,s,a,u,c,m,p){this.ui=e,this.Ho=s,this.Jo=a,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new aS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.Yo===n&&this.P_(s,a)}),(s=>{e((()=>{const a=new ye(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(a)}))}))}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{s((()=>this.I_(a)))})),this.stream.onMessage((a=>{s((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YD extends oS{constructor(e,n,s,a,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Oe.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?yi(c.readTime):Oe.min()})(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=sg(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=Wp(p)?{documents:fD(u,p)}:{query:hD(u,p)._t},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Xw(u,c.resumeToken);const g=ng(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Ah(u,c.snapshotVersion.toTimestamp());const g=ng(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=mD(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.a_(n)}}class XD extends oS{constructor(e,n,s,a,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=cD(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=sg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>uD(this.serializer,s)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Mo(e,rg(n,s),a,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(oe.UNKNOWN,u.toString())}))}Lo(e,n,s,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Lo(e,rg(n,s),a,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(oe.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class WD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qi(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((c=>{s.enqueueAndForget((async()=>{Qa(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const g=ke(p);g.L_.add(4),await pc(g),g.q_.set("Unknown"),g.L_.delete(4),await Kh(g)})(this))}))})),this.q_=new WD(s,a)}}async function Kh(t){if(Qa(t))for(const e of t.B_)await e(!0)}async function pc(t){for(const e of t.B_)await e(!1)}function lS(t,e){const n=ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Kg(n)?Qg(n):Tl(n).r_()&&$g(n,e))}function Zg(t,e){const n=ke(t),s=Tl(n);n.N_.delete(e),s.r_()&&uS(n,e),n.N_.size===0&&(s.r_()?s.o_():Qa(n)&&n.q_.set("Unknown"))}function $g(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(t).A_(e)}function uS(t,e){t.Q_.xe(e),Tl(t).R_(e)}function Qg(t){t.Q_=new tD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Tl(t).start(),t.q_.v_()}function Kg(t){return Qa(t)&&!Tl(t).n_()&&t.N_.size>0}function Qa(t){return ke(t).L_.size===0}function cS(t){t.Q_=void 0}async function tN(t){t.q_.set("Online")}async function nN(t){t.N_.forEach(((e,n)=>{$g(t,e)}))}async function rN(t,e){cS(t),Kg(t)?(t.q_.M_(e),Qg(t)):t.q_.set("Unknown")}async function iN(t,e,n){if(t.q_.set("Online"),e instanceof Yw&&e.state===2&&e.cause)try{await(async function(a,u){const c=u.cause;for(const m of u.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,c),a.N_.delete(m),a.Q_.removeTarget(m))})(t,e)}catch(s){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(t,s)}else if(e instanceof hh?t.Q_.Ke(e):e instanceof Kw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{const s=await sS(t.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Q_.rt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.N_.get(g);_&&u.N_.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.N_.get(p);if(!_)return;u.N_.set(p,_.withResumeToken(In.EMPTY_BYTE_STRING,_.snapshotVersion)),uS(u,p);const E=new $s(_.target,p,g,_.sequenceNumber);$g(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(s){ve("RemoteStore","Failed to raise snapshot:",s),await Rh(t,s)}}async function Rh(t,e,n){if(!hc(e))throw e;t.L_.add(1),await pc(t),t.q_.set("Offline"),n||(n=()=>sS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kh(t)}))}function fS(t,e){return e().catch((n=>Rh(t,n,e)))}async function Yh(t){const e=ke(t),n=Ws(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sN(e);)try{const a=await qD(e.localStore,s);if(a===null){e.O_.length===0&&n.o_();break}s=a.batchId,aN(e,a)}catch(a){await Rh(e,a)}hS(e)&&dS(e)}function sN(t){return Qa(t)&&t.O_.length<10}function aN(t,e){t.O_.push(e);const n=Ws(t);n.r_()&&n.V_&&n.m_(e.mutations)}function hS(t){return Qa(t)&&!Ws(t).n_()&&t.O_.length>0}function dS(t){Ws(t).start()}async function oN(t){Ws(t).p_()}async function lN(t){const e=Ws(t);for(const n of t.O_)e.m_(n.mutations)}async function uN(t,e,n){const s=t.O_.shift(),a=jg.from(s,e,n);await fS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Yh(t)}async function cN(t,e){e&&Ws(t).V_&&await(async function(s,a){if((function(c){return Jx(c)&&c!==oe.ABORTED})(a.code)){const u=s.O_.shift();Ws(s).s_(),await fS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await Yh(s)}})(t,e),hS(t)&&dS(t)}async function vE(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const s=Qa(n);n.L_.add(3),await pc(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kh(n)}async function fN(t,e){const n=ke(t);e?(n.L_.delete(2),await Kh(n)):e||(n.L_.add(2),await pc(n),n.q_.set("Unknown"))}function Tl(t){return t.K_||(t.K_=(function(n,s,a){const u=ke(n);return u.w_(),new YD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(t.datastore,t.asyncQueue,{Eo:tN.bind(null,t),Ro:nN.bind(null,t),mo:rN.bind(null,t),d_:iN.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Kg(t)?Qg(t):t.q_.set("Unknown")):(await t.K_.stop(),cS(t))}))),t.K_}function Ws(t){return t.U_||(t.U_=(function(n,s,a){const u=ke(n);return u.w_(),new XD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:oN.bind(null,t),mo:cN.bind(null,t),f_:lN.bind(null,t),g_:uN.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Yh(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const c=Date.now()+s,m=new Yg(e,n,c,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(t,e){if(Qi("AsyncQueue",`${e}: ${t}`),hc(t))return new ye(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=xu(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Xo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.W_=new Ct(Ae.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ml{constructor(e,n,s,a,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new ml(e,n,Xo.emptySet(n),c,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class dN{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const a=ke(n),u=a.queries;a.queries=bE(),u.forEach(((c,m)=>{for(const p of m.j_)p.onError(s)}))})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function bE(){return new El((t=>Vw(t)),Fh)}async function mN(t,e){const n=ke(t);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.H_()&&e.J_()&&(s=2):(u=new hN,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await n.onListen(a,!0);break;case 1:u.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const m=Xg(c,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&Jg(n)}async function pN(t,e){const n=ke(t),s=e.query;let a=3;const u=n.queries.get(s);if(u){const c=u.j_.indexOf(e);c>=0&&(u.j_.splice(c,1),u.j_.length===0?a=e.J_()?0:1:!u.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gN(t,e){const n=ke(t);let s=!1;for(const a of e){const u=a.query,c=n.queries.get(u);if(c){for(const m of c.j_)m.X_(a)&&(s=!0);c.z_=a}}s&&Jg(n)}function yN(t,e,n){const s=ke(t),a=s.queries.get(e);if(a)for(const u of a.j_)u.onError(n);s.queries.delete(e)}function Jg(t){t.Y_.forEach((e=>{e.next()}))}var og,EE;(EE=og||(og={})).ea="default",EE.Cache="cache";class vN{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ml(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.key=e}}class pS{constructor(e){this.key=e}}class _N{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=He(),this.mutatedKeys=He(),this.Aa=Uw(e),this.Ra=new Xo(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new _E,a=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,c=a,m=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const A=a.get(_),I=Hh(this.query,E)?E:null,P=!!A&&this.mutatedKeys.has(A.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;A&&I?A.data.isEqual(I.data)?P!==k&&(s.track({type:3,doc:I}),U=!0):this.ga(A,I)||(s.track({type:2,doc:I}),U=!0,(p&&this.Aa(I,p)>0||g&&this.Aa(I,g)<0)&&(m=!0)):!A&&I?(s.track({type:0,doc:I}),U=!0):A&&!I&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(I?(c=c.add(I),u=k?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{Ra:c,fa:s,ns:m,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((_,E)=>(function(I,P){const k=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return k(I)-k(P)})(_.type,E.type)||this.Aa(_.doc,E.doc))),this.pa(s),a=a!=null&&a;const m=n&&!a?this.ya():[],p=this.da.size===0&&this.current&&!a?1:0,g=p!==this.Ea;return this.Ea=p,c.length!==0||g?{snapshot:new ml(this.query,e.Ra,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _E,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=He(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const n=[];return e.forEach((s=>{this.da.has(s)||n.push(new pS(s))})),this.da.forEach((s=>{e.has(s)||n.push(new mS(s))})),n}ba(e){this.Ta=e.Ts,this.da=He();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ml.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class EN{constructor(e){this.key=e,this.va=!1}}class TN{constructor(e,n,s,a,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new El((m=>Vw(m)),Fh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(Ae.comparator),this.Na=new Map,this.La=new Fg,this.Ba={},this.ka=new Map,this.qa=dl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function wN(t,e,n=!0){const s=ES(t);let a;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Da()):a=await gS(s,e,n,!0),a}async function SN(t,e){const n=ES(t);await gS(n,e,!0,!1)}async function gS(t,e,n,s){const a=await FD(t.localStore,gi(e)),u=a.targetId,c=t.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await AN(t,e,u,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&lS(t.remoteStore,a),m}async function AN(t,e,n,s,a){t.Ka=(E,A,I)=>(async function(k,U,W,ie){let Y=U.view.ma(W);Y.ns&&(Y=await pE(k.localStore,U.query,!1).then((({documents:C})=>U.view.ma(C,Y))));const le=ie&&ie.targetChanges.get(U.targetId),se=ie&&ie.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(Y,k.isPrimaryClient,le,se);return wE(k,U.targetId,fe.wa),fe.snapshot})(t,E,A,I);const u=await pE(t.localStore,e,!0),c=new _N(e,u.Ts),m=c.ma(u.documents),p=mc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=c.applyChanges(m,t.isPrimaryClient,p);wE(t,n,g.wa);const _=new bN(e,n,c);return t.Fa.set(e,_),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),g.snapshot}async function RN(t,e,n){const s=ke(t),a=s.Fa.get(e),u=s.Ma.get(a.targetId);if(u.length>1)return s.Ma.set(a.targetId,u.filter((c=>!Fh(c,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ag(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Zg(s.remoteStore,a.targetId),lg(s,a.targetId)})).catch(fc)):(lg(s,a.targetId),await ag(s.localStore,a.targetId,!0))}async function CN(t,e){const n=ke(t),s=n.Fa.get(e),a=n.Ma.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zg(n.remoteStore,s.targetId))}async function IN(t,e,n){const s=zN(t);try{const a=await(function(c,m){const p=ke(c),g=Mt.now(),_=m.reduce(((I,P)=>I.add(P.key)),He());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=Ki(),k=He();return p.cs.getEntries(I,_).next((U=>{P=U,P.forEach(((W,ie)=>{ie.isValidDocument()||(k=k.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,P))).next((U=>{E=U;const W=[];for(const ie of m){const Y=$x(ie,E.get(ie.key).overlayedDocument);Y!=null&&W.push(new ta(ie.key,Y,Iw(Y.value.mapValue),$r.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,W,m)})).next((U=>{A=U;const W=U.applyToLocalDocumentSet(E,k);return p.documentOverlayCache.saveOverlays(I,U.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:Pw(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,m,p){let g=c.Ba[c.currentUser.toKey()];g||(g=new Ct(tt)),g=g.insert(m,p),c.Ba[c.currentUser.toKey()]=g})(s,a.batchId,n),await gc(s,a.changes),await Yh(s.remoteStore)}catch(a){const u=Xg(a,"Failed to persist write");n.reject(u)}}async function yS(t,e){const n=ke(t);try{const s=await jD(n.localStore,e);e.targetChanges.forEach(((a,u)=>{const c=n.Na.get(u);c&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.va=!0:a.modifiedDocuments.size>0?ut(c.va):a.removedDocuments.size>0&&(ut(c.va),c.va=!1))})),await gc(n,s,e)}catch(s){await fc(s)}}function TE(t,e,n){const s=ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Fa.forEach(((u,c)=>{const m=c.view.Z_(e);m.snapshot&&a.push(m.snapshot)})),(function(c,m){const p=ke(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,E)=>{for(const A of E.j_)A.Z_(m)&&(g=!0)})),g&&Jg(p)})(s.eventManager,e),a.length&&s.Ca.d_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xN(t,e,n){const s=ke(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Na.get(e),u=a&&a.key;if(u){let c=new Ct(Ae.comparator);c=c.insert(u,Un.newNoDocument(u,Oe.min()));const m=He().add(u),p=new $h(Oe.min(),new Map,new Ct(tt),c,m);await yS(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),Wg(s)}else await ag(s.localStore,e,!1).then((()=>lg(s,e,n))).catch(fc)}async function DN(t,e){const n=ke(t),s=e.batch.batchId;try{const a=await PD(n.localStore,e);_S(n,s,null),vS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gc(n,a)}catch(a){await fc(a)}}async function NN(t,e,n){const s=ke(t);try{const a=await(function(c,m){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(ut(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);_S(s,e,n),vS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gc(s,a)}catch(a){await fc(a)}}function vS(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function _S(t,e,n){const s=ke(t);let a=s.Ba[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.Ba[s.currentUser.toKey()]=a}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Ma.get(e))t.Fa.delete(s),n&&t.Ca.$a(s,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((s=>{t.La.containsKey(s)||bS(t,s)}))}function bS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Zg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Wg(t))}function wE(t,e,n){for(const s of n)s instanceof mS?(t.La.addReference(s.key,e),ON(t,s)):s instanceof pS?(ve("SyncEngine","Document no longer in limbo: "+s.key),t.La.removeReference(s.key,e),t.La.containsKey(s.key)||bS(t,s.key)):Ie()}function ON(t,e){const n=e.key,s=n.path.canonicalString();t.Oa.get(n)||t.xa.has(s)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(s),Wg(t))}function Wg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ae(wt.fromString(e)),s=t.qa.next();t.Na.set(s,new EN(n)),t.Oa=t.Oa.insert(n,s),lS(t.remoteStore,new $s(gi(Ug(n.path)),s,"TargetPurposeLimboResolution",Ng.oe))}}async function gc(t,e,n){const s=ke(t),a=[],u=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach(((m,p)=>{c.push(s.Ka(p,e,n).then((g=>{var _;if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){a.push(g);const E=Gg.Wi(p.targetId,g);u.push(E)}})))})),await Promise.all(c),s.Ca.d_(a),await(async function(p,g){const _=ke(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ce.forEach(g,(A=>ce.forEach(A.$i,(I=>_.persistence.referenceDelegate.addReference(E,A.targetId,I))).next((()=>ce.forEach(A.Ui,(I=>_.persistence.referenceDelegate.removeReference(E,A.targetId,I)))))))))}catch(E){if(!hc(E))throw E;ve("LocalStore","Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const I=_.os.get(A),P=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(P);_.os=_.os.insert(A,k)}}})(s.localStore,u))}async function kN(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const s=await iS(n.localStore,e);n.currentUser=e,(function(u,c){u.ka.forEach((m=>{m.forEach((p=>{p.reject(new ye(oe.CANCELLED,c))}))})),u.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gc(n,s.hs)}}function MN(t,e){const n=ke(t),s=n.Na.get(e);if(s&&s.va)return He().add(s.key);{let a=He();const u=n.Ma.get(e);if(!u)return a;for(const c of u){const m=n.Fa.get(c);a=a.unionWith(m.view.Va)}return a}}function ES(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xN.bind(null,e),e.Ca.d_=gN.bind(null,e.eventManager),e.Ca.$a=yN.bind(null,e.eventManager),e}function zN(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return LD(this.persistence,new VD,e.initialUser,this.serializer)}Ga(e){return new kD(Hg.Zr,this.serializer)}Wa(e){return new GD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,this.syncEngine),await fN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dN})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),s=(function(u){return new KD(u)})(e.databaseInfo);return(function(u,c,m,p){return new JD(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,u,c,m){return new eN(s,a,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>TE(this.syncEngine,n,0)),(function(){return yE.D()?new yE:new ZD})())}createSyncEngine(e,n){return(function(a,u,c,m,p,g,_){const E=new TN(a,u,c,m,p,g);return _&&(E.Qa=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const u=ke(a);ve("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await pc(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=rr.UNAUTHENTICATED,this.clientId=Aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ve("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Np(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await iS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function SE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LN(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>vE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>vE(e.remoteStore,a))),t._onlineComponents=e}async function LN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Gu("Error using user provided cache. Falling back to memory cache: "+n),await Np(t,new Ch)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Np(t,new Ch);return t._offlineComponents}async function TS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await SE(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await SE(t,new ug))),t._onlineComponents}function PN(t){return TS(t).then((e=>e.syncEngine))}async function AE(t){const e=await TS(t),n=e.eventManager;return n.onListen=wN.bind(null,e.syncEngine),n.onUnlisten=RN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CN.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e,n){if(!n)throw new ye(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jN(t,e,n,s){if(e===!0&&s===!0)throw new ye(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CE(t){if(!Ae.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IE(t){if(Ae.isDocumentKey(t))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function ja(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(t);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ey{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nx;switch(s.type){case"firstParty":return new sx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=RE.get(n);s&&(ve("ComponentProvider","Removing Datastore"),RE.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class sr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class Ys extends Ka{constructor(e,n,s){super(e,n,Ug(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Ae(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Jh(t,e,...n){if(t=ar(t),SS("collection","path",e),t instanceof ey){const s=wt.fromString(e,...n);return IE(s),new Ys(t,null,s)}{if(!(t instanceof sr||t instanceof Ys))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(wt.fromString(e,...n));return IE(s),new Ys(t.firestore,null,s)}}function Wh(t,e,...n){if(t=ar(t),arguments.length===1&&(e=Aw.newId()),SS("doc","path",e),t instanceof ey){const s=wt.fromString(e,...n);return CE(s),new sr(t,null,new Ae(s))}{if(!(t instanceof sr||t instanceof Ys))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(wt.fromString(e,...n));return CE(s),new sr(t.firestore,t instanceof Ys?t.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new aS(this,"async_queue_retry"),this.Vu=()=>{const s=Dp();s&&ve("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Pa;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hc(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const a=(function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m})(s);throw Qi("INTERNAL UNHANDLED ERROR: ",a),s})).then((s=>(this.du=!1,s))))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=Yg.createAndSchedule(this,e,n,s,(u=>this.yu(u)));return this.Tu.push(a),a}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function NE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1})(t,["next","error","complete"])}class pl extends ey{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new DE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function AS(t){if(t._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BN(t),t._firestoreClient}function BN(t){var e,n,s;const a=t._freezeSettings(),u=(function(m,p,g,_){return new vx(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,wS(_.experimentalLongPollingOptions),_.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new UN(t._authCredentials,t._appCheckCredentials,t._queue,u,t._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(In.fromBase64String(e))}catch(n){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gl(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^__.*__$/;class FN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new dc(e,this.data,n,this.fieldTransforms)}}class RS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class ry{constructor(e,n,s,a,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.Ou(e),a}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ih(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(CS(this.Cu)&&qN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class HN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(e)}Qu(e,n,s,a=!1){return new ry({Cu:e,methodName:n,qu:s,path:Rn.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iy(t){const e=t._freezeSettings(),n=Qh(t._databaseId);return new HN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GN(t,e,n,s,a,u={}){const c=t.Qu(u.merge||u.mergeFields?2:0,e,n,a);ay("Data must be an object, but it was:",c,s);const m=IS(s,c);let p,g;if(u.merge)p=new br(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const A=cg(e,E,n);if(!c.contains(A))throw new ye(oe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);DS(_,A)||_.push(A)}p=new br(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new FN(new ir(m),p,g)}class nd extends td{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nd}}class sy extends td{_toFieldTransform(e){return new Fx(e.path,new Xu)}isEqual(e){return e instanceof sy}}function ZN(t,e,n,s){const a=t.Qu(1,e,n);ay("Data must be an object, but it was:",a,s);const u=[],c=ir.empty();$a(s,((p,g)=>{const _=oy(e,p,n);g=ar(g);const E=a.Nu(_);if(g instanceof nd)u.push(_);else{const A=yc(g,E);A!=null&&(u.push(_),c.set(_,A))}}));const m=new br(u);return new RS(c,m,a.fieldTransforms)}function $N(t,e,n,s,a,u){const c=t.Qu(1,e,n),m=[cg(e,s,n)],p=[a];if(u.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(cg(e,u[A])),p.push(u[A+1]);const g=[],_=ir.empty();for(let A=m.length-1;A>=0;--A)if(!DS(g,m[A])){const I=m[A];let P=p[A];P=ar(P);const k=c.Nu(I);if(P instanceof nd)g.push(I);else{const U=yc(P,k);U!=null&&(g.push(I),_.set(I,U))}}const E=new br(g);return new RS(_,E,c.fieldTransforms)}function QN(t,e,n,s=!1){return yc(n,t.Qu(s?4:3,e))}function yc(t,e){if(xS(t=ar(t)))return ay("Unsupported field value:",e,t),IS(t,e);if(t instanceof td)return(function(s,a){if(!CS(a.Cu))throw a.Bu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,a){const u=[];let c=0;for(const m of s){let p=yc(m,a.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(t,e)}return(function(s,a){if((s=ar(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jx(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Mt.fromDate(s);return{timestampValue:Ah(a.serializer,u)}}if(s instanceof Mt){const u=new Mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(a.serializer,u)}}if(s instanceof ty)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gl)return{bytesValue:Xw(a.serializer,s._byteString)};if(s instanceof sr){const u=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw a.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ny)return(function(c,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Lg(m.serializer,p)}))}}}}}})(s,a);throw a.Bu(`Unsupported field value: ${Xh(s)}`)})(t,e)}function IS(t,e){const n={};return Rw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(t,((s,a)=>{const u=yc(a,e.Mu(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function xS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof ty||t instanceof gl||t instanceof sr||t instanceof td||t instanceof ny)}function ay(t,e,n){if(!xS(n)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(n)){const s=Xh(n);throw s==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+s)}}function cg(t,e,n){if((e=ar(e))instanceof ed)return e._internalPath;if(typeof e=="string")return oy(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const KN=new RegExp("[~\\*/\\[\\]]");function oy(t,e,n){if(e.search(KN)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ed(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,s,a){const u=s&&!s.isEmpty(),c=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new ye(oe.INVALID_ARGUMENT,m+t+p)}function DS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YN extends NS{data(){return super.data()}}function ly(t,e){return typeof e=="string"?oy(t,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class OS extends uy{}function cy(t,e,...n){let s=[];e instanceof uy&&s.push(e),s=s.concat(n),(function(u){const c=u.filter((p=>p instanceof hy)).length,m=u.filter((p=>p instanceof fy)).length;if(c>1||c>0&&m>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class fy extends OS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new fy(e,n,s)}_apply(e){const n=this._parse(e);return kS(e._query,n),new Ka(e.firestore,e.converter,eg(e._query,n))}_parse(e){const n=iy(e.firestore);return(function(u,c,m,p,g,_,E){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){kE(E,_);const I=[];for(const P of E)I.push(OE(p,u,P));A={arrayValue:{values:I}}}else A=OE(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||kE(E,_),A=QN(m,c,E,_==="in"||_==="not-in");return Yt.create(g,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hy extends uy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,u){let c=a;const m=u.getFlattenedFilters();for(const p of m)kS(c,p),c=eg(c,p)})(e._query,n),new Ka(e.firestore,e.converter,eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dy extends OS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dy(e,n)}_apply(e){const n=(function(a,u,c){if(a.startAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yu(u,c)})(e._query,this._field,this._direction);return new Ka(e.firestore,e.converter,(function(a,u){const c=a.explicitOrderBy.concat([u]);return new bl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function JN(t,e="asc"){const n=e,s=ly("orderBy",t);return dy._create(s,n)}function OE(t,e,n){if(typeof(n=ar(n))=="string"){if(n==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(e)&&n.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(wt.fromString(n));if(!Ae.isDocumentKey(s))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jb(t,new Ae(s))}if(n instanceof sr)return Jb(t,n._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function kE(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kS(t,e){const n=(function(a,u){for(const c of a)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WN{convertValue(e,n="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $a(e,((a,u)=>{s[a]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((c=>jt(c.doubleValue)));return new ny(u)}convertGeoPoint(e){return new ty(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kg(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=Js(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=wt.fromString(e);ut(rS(s));const a=new Qu(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return a.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MS extends NS{constructor(e,n,s,a,u,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ly("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class dh extends MS{data(e={}){return super.data(e)}}class tO{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Nu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((m=>{const p=new dh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Nu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Nu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:nO(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class zS extends WN{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function VS(t,e,n,...s){t=ja(t,sr);const a=ja(t.firestore,pl),u=iy(a);let c;return c=typeof(e=ar(e))=="string"||e instanceof ed?$N(u,"updateDoc",t._key,e,n,s):ZN(u,"updateDoc",t._key,e),py(a,[c.toMutation(t._key,$r.exists(!0))])}function rO(t){return py(ja(t.firestore,pl),[new Pg(t._key,$r.none())])}function iO(t,e){const n=ja(t.firestore,pl),s=Wh(t),a=eO(t.converter,e);return py(n,[GN(iy(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,$r.exists(!1))]).then((()=>s))}function my(t,...e){var n,s,a;t=ar(t);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||NE(e[c])||(u=e[c],c++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(NE(e[c])){const E=e[c];e[c]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),e[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let p,g,_;if(t instanceof sr)g=ja(t.firestore,pl),_=Ug(t._key.path),p={next:E=>{e[c]&&e[c](sO(g,t,E))},error:e[c+1],complete:e[c+2]};else{const E=ja(t,Ka);g=ja(E.firestore,pl),_=E._query;const A=new zS(g);p={next:I=>{e[c]&&e[c](new tO(g,A,E,I))},error:e[c+1],complete:e[c+2]},XN(t._query)}return(function(A,I,P,k){const U=new VN(k),W=new vN(I,U,P);return A.asyncQueue.enqueueAndForget((async()=>mN(await AE(A),W))),()=>{U.Za(),A.asyncQueue.enqueueAndForget((async()=>pN(await AE(A),W)))}})(AS(g),_,m,p)}function py(t,e){return(function(s,a){const u=new Pa;return s.asyncQueue.enqueueAndForget((async()=>IN(await PN(s),a,u))),u.promise})(AS(t),e)}function sO(t,e,n){const s=n.docs.get(e._key),a=new zS(t);return new MS(t,a,e._key,s,new Nu(n.hasPendingWrites,n.fromCache),e.converter)}function US(){return new sy("serverTimestamp")}(function(e,n=!0){(function(a){_l=a})(jh),ul(new ll("firestore",((s,{instanceIdentifier:a,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new pl(new rx(s.getProvider("auth-internal")),new ox(s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(g.options.projectId,_)})(c,a),c);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ks($b,"4.7.3",e),Ks($b,"4.7.3","esm2017")})();var aO="firebase",oO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(aO,oO,"app");let vc,_c;function LS(){throw new Error("Firebase not initialized. Call initializeFirebase() first.")}function lO(){return typeof window<"u"&&window.GLOBAL_APP_ID?window.GLOBAL_APP_ID:typeof __app_id<"u"?__app_id:"default-app-id"}function Zo(t){return`artifacts/${lO()}/users/${t}`}function ME(t,e){return`${Zo(t)}/workspaces/${e}`}const Ya={users:t=>Zo(t),filters:t=>`${Zo(t)}/filters`,labels:t=>`${Zo(t)}/labels`,workspaces:t=>`${Zo(t)}/workspaces`,timeblocks:t=>`${Zo(t)}/timeblocks`,tasks:(t,e)=>`${ME(t,e)}/tasks`,projects:(t,e)=>`${ME(t,e)}/projects`};function uO(t,e){if(!t)return e([]),()=>{};const n=Ya.labels(t),{db:s}=LS(),a=cy(Jh(s,n));return my(a,u=>{const c=u.docs.map(m=>({id:m.id,...m.data()}));e(c)},u=>{console.error("[Labels] Subscription error:",u),e([])})}function cO(t,e){var a;const n=typeof t=="function"?t:e,s=(a=vc.currentUser)==null?void 0:a.uid;return s&&typeof n=="function"?uO(s,n):(typeof n=="function"&&n([]),()=>{})}function re(t,e,n){function s(m,p){if(m._zod||Object.defineProperty(m,"_zod",{value:{def:p,constr:c,traits:new Set},enumerable:!1}),m._zod.traits.has(t))return;m._zod.traits.add(t),e(m,p);const g=c.prototype,_=Object.keys(g);for(let E=0;E<_.length;E++){const A=_[E];A in m||(m[A]=g[A].bind(m))}}const a=(n==null?void 0:n.Parent)??Object;class u extends a{}Object.defineProperty(u,"name",{value:t});function c(m){var p;const g=n!=null&&n.Parent?new u:this;s(g,m),(p=g._zod).deferred??(p.deferred=[]);for(const _ of g._zod.deferred)_();return g}return Object.defineProperty(c,"init",{value:s}),Object.defineProperty(c,Symbol.hasInstance,{value:m=>{var p,g;return n!=null&&n.Parent&&m instanceof n.Parent?!0:(g=(p=m==null?void 0:m._zod)==null?void 0:p.traits)==null?void 0:g.has(t)}}),Object.defineProperty(c,"name",{value:t}),c}class Jo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class PS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const jS={};function Ga(t){return jS}function BS(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,a])=>e.indexOf(+s)===-1).map(([s,a])=>a)}function fg(t,e){return typeof e=="bigint"?e.toString():e}function gy(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function yy(t){return t==null}function vy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function fO(t,e){const n=(t.toString().split(".")[1]||"").length,s=e.toString();let a=(s.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(s)){const p=s.match(/\d?e-(\d?)/);p!=null&&p[1]&&(a=Number.parseInt(p[1]))}const u=n>a?n:a,c=Number.parseInt(t.toFixed(u).replace(".","")),m=Number.parseInt(e.toFixed(u).replace(".",""));return c%m/10**u}const zE=Symbol("evaluating");function pt(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==zE)return s===void 0&&(s=zE,s=n()),s},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Xa(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ja(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function VE(t){return JSON.stringify(t)}function hO(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const qS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function xh(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const dO=gy(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ec(t){if(xh(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(xh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function FS(t){return ec(t)?{...t}:Array.isArray(t)?[...t]:t}const mO=new Set(["string","number","symbol"]);function rd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function na(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(s._zod.parent=t),s}function Se(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function pO(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const gO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function yO(t,e){const n=t._zod.def,s=Ja(t._zod.def,{get shape(){const a={};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&(a[u]=n.shape[u])}return Xa(this,"shape",a),a},checks:[]});return na(t,s)}function vO(t,e){const n=t._zod.def,s=Ja(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&delete a[u]}return Xa(this,"shape",a),a},checks:[]});return na(t,s)}function _O(t,e){if(!ec(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Ja(t._zod.def,{get shape(){const u={...t._zod.def.shape,...e};return Xa(this,"shape",u),u},checks:[]});return na(t,a)}function bO(t,e){if(!ec(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const s={...t._zod.def.shape,...e};return Xa(this,"shape",s),s},checks:t._zod.def.checks};return na(t,n)}function EO(t,e){const n=Ja(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return Xa(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return na(t,n)}function TO(t,e,n){const s=Ja(e._zod.def,{get shape(){const a=e._zod.def.shape,u={...a};if(n)for(const c in n){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=t?new t({type:"optional",innerType:a[c]}):a[c])}else for(const c in a)u[c]=t?new t({type:"optional",innerType:a[c]}):a[c];return Xa(this,"shape",u),u},checks:[]});return na(e,s)}function wO(t,e,n){const s=Ja(e._zod.def,{get shape(){const a=e._zod.def.shape,u={...a};if(n)for(const c in n){if(!(c in u))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)u[c]=new t({type:"nonoptional",innerType:a[c]});return Xa(this,"shape",u),u},checks:[]});return na(e,s)}function Qo(t,e=0){var n;if(t.aborted===!0)return!0;for(let s=e;s<t.issues.length;s++)if(((n=t.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function HS(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function nh(t){return typeof t=="string"?t:t==null?void 0:t.message}function Za(t,e,n){var a,u,c,m,p,g;const s={...t,path:t.path??[]};if(!t.message){const _=nh((c=(u=(a=t.inst)==null?void 0:a._zod.def)==null?void 0:u.error)==null?void 0:c.call(u,t))??nh((m=e==null?void 0:e.error)==null?void 0:m.call(e,t))??nh((p=n.customError)==null?void 0:p.call(n,t))??nh((g=n.localeError)==null?void 0:g.call(n,t))??"Invalid input";s.message=_}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function _y(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function tc(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const GS=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,fg,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},ZS=re("$ZodError",GS),$S=re("$ZodError",GS,{Parent:Error});function SO(t,e=n=>n.message){const n={},s=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:n}}function AO(t,e=n=>n.message){const n={_errors:[]},s=a=>{for(const u of a.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(c=>s({issues:c}));else if(u.code==="invalid_key")s({issues:u.issues});else if(u.code==="invalid_element")s({issues:u.issues});else if(u.path.length===0)n._errors.push(e(u));else{let c=n,m=0;for(;m<u.path.length;){const p=u.path[m];m===u.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(e(u))):c[p]=c[p]||{_errors:[]},c=c[p],m++}}};return s(t),n}const by=t=>(e,n,s,a)=>{const u=s?Object.assign(s,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},u);if(c instanceof Promise)throw new Jo;if(c.issues.length){const m=new((a==null?void 0:a.Err)??t)(c.issues.map(p=>Za(p,u,Ga())));throw qS(m,a==null?void 0:a.callee),m}return c.value},Ey=t=>async(e,n,s,a)=>{const u=s?Object.assign(s,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},u);if(c instanceof Promise&&(c=await c),c.issues.length){const m=new((a==null?void 0:a.Err)??t)(c.issues.map(p=>Za(p,u,Ga())));throw qS(m,a==null?void 0:a.callee),m}return c.value},id=t=>(e,n,s)=>{const a=s?{...s,async:!1}:{async:!1},u=e._zod.run({value:n,issues:[]},a);if(u instanceof Promise)throw new Jo;return u.issues.length?{success:!1,error:new(t??ZS)(u.issues.map(c=>Za(c,a,Ga())))}:{success:!0,data:u.value}},RO=id($S),sd=t=>async(e,n,s)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},a);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new t(u.issues.map(c=>Za(c,a,Ga())))}:{success:!0,data:u.value}},CO=sd($S),IO=t=>(e,n,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return by(t)(e,n,a)},xO=t=>(e,n,s)=>by(t)(e,n,s),DO=t=>async(e,n,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Ey(t)(e,n,a)},NO=t=>async(e,n,s)=>Ey(t)(e,n,s),OO=t=>(e,n,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return id(t)(e,n,a)},kO=t=>(e,n,s)=>id(t)(e,n,s),MO=t=>async(e,n,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return sd(t)(e,n,a)},zO=t=>async(e,n,s)=>sd(t)(e,n,s),VO=/^[cC][^\s-]{8,}$/,UO=/^[0-9a-z]+$/,LO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,PO=/^[0-9a-vA-V]{20}$/,jO=/^[A-Za-z0-9]{27}$/,BO=/^[a-zA-Z0-9_-]{21}$/,qO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,FO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,UE=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,HO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,GO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ZO(){return new RegExp(GO,"u")}const $O=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,KO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,YO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,QS=/^[A-Za-z0-9_-]*$/,JO=/^\+(?:[0-9]){6,14}[0-9]$/,KS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",WO=new RegExp(`^${KS}$`);function YS(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ek(t){return new RegExp(`^${YS(t)}$`)}function tk(t){const e=YS({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${KS}T(?:${s})$`)}const nk=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},rk=/^-?\d+$/,ik=/^-?\d+(?:\.\d+)?/,sk=/^[^A-Z]*$/,ak=/^[^a-z]*$/,or=re("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),XS={number:"number",bigint:"bigint",object:"date"},JS=re("$ZodCheckLessThan",(t,e)=>{or.init(t,e);const n=XS[typeof e.value];t._zod.onattach.push(s=>{const a=s._zod.bag,u=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<u&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:n,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),WS=re("$ZodCheckGreaterThan",(t,e)=>{or.init(t,e);const n=XS[typeof e.value];t._zod.onattach.push(s=>{const a=s._zod.bag,u=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>u&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:n,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ok=re("$ZodCheckMultipleOf",(t,e)=>{or.init(t,e),t._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):fO(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),lk=re("$ZodCheckNumberFormat",(t,e)=>{var c;or.init(t,e),e.format=e.format||"float64";const n=(c=e.format)==null?void 0:c.includes("int"),s=n?"int":"number",[a,u]=gO[e.format];t._zod.onattach.push(m=>{const p=m._zod.bag;p.format=e.format,p.minimum=a,p.maximum=u,n&&(p.pattern=rk)}),t._zod.check=m=>{const p=m.value;if(n){if(!Number.isInteger(p)){m.issues.push({expected:s,format:e.format,code:"invalid_type",continue:!1,input:p,inst:t});return}if(!Number.isSafeInteger(p)){p>0?m.issues.push({input:p,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort}):m.issues.push({input:p,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort});return}}p<a&&m.issues.push({origin:"number",input:p,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),p>u&&m.issues.push({origin:"number",input:p,code:"too_big",maximum:u,inst:t})}}),uk=re("$ZodCheckMaxLength",(t,e)=>{var n;or.init(t,e),(n=t._zod.def).when??(n.when=s=>{const a=s.value;return!yy(a)&&a.length!==void 0}),t._zod.onattach.push(s=>{const a=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const a=s.value;if(a.length<=e.maximum)return;const c=_y(a);s.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),ck=re("$ZodCheckMinLength",(t,e)=>{var n;or.init(t,e),(n=t._zod.def).when??(n.when=s=>{const a=s.value;return!yy(a)&&a.length!==void 0}),t._zod.onattach.push(s=>{const a=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const a=s.value;if(a.length>=e.minimum)return;const c=_y(a);s.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),fk=re("$ZodCheckLengthEquals",(t,e)=>{var n;or.init(t,e),(n=t._zod.def).when??(n.when=s=>{const a=s.value;return!yy(a)&&a.length!==void 0}),t._zod.onattach.push(s=>{const a=s._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=s=>{const a=s.value,u=a.length;if(u===e.length)return;const c=_y(a),m=u>e.length;s.issues.push({origin:c,...m?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),ad=re("$ZodCheckStringFormat",(t,e)=>{var n,s;or.init(t,e),t._zod.onattach.push(a=>{const u=a._zod.bag;u.format=e.format,e.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),hk=re("$ZodCheckRegex",(t,e)=>{ad.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),dk=re("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=sk),ad.init(t,e)}),mk=re("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=ak),ad.init(t,e)}),pk=re("$ZodCheckIncludes",(t,e)=>{or.init(t,e);const n=rd(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(a=>{const u=a._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(s)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),gk=re("$ZodCheckStartsWith",(t,e)=>{or.init(t,e);const n=new RegExp(`^${rd(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),yk=re("$ZodCheckEndsWith",(t,e)=>{or.init(t,e);const n=new RegExp(`.*${rd(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),vk=re("$ZodCheckOverwrite",(t,e)=>{or.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class _k{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(c=>c),a=Math.min(...s.map(c=>c.length-c.trimStart().length)),u=s.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of u)this.content.push(c)}compile(){const e=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(u=>`  ${u}`)];return new e(...n,a.join(`
`))}}const bk={major:4,minor:2,patch:1},Bt=re("$ZodType",(t,e)=>{var a;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=bk;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const u of s)for(const c of u._zod.onattach)c(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),(a=t._zod.deferred)==null||a.push(()=>{t._zod.run=t._zod.parse});else{const u=(m,p,g)=>{let _=Qo(m),E;for(const A of p){if(A._zod.def.when){if(!A._zod.def.when(m))continue}else if(_)continue;const I=m.issues.length,P=A._zod.check(m);if(P instanceof Promise&&(g==null?void 0:g.async)===!1)throw new Jo;if(E||P instanceof Promise)E=(E??Promise.resolve()).then(async()=>{await P,m.issues.length!==I&&(_||(_=Qo(m,I)))});else{if(m.issues.length===I)continue;_||(_=Qo(m,I))}}return E?E.then(()=>m):m},c=(m,p,g)=>{if(Qo(m))return m.aborted=!0,m;const _=u(p,s,g);if(_ instanceof Promise){if(g.async===!1)throw new Jo;return _.then(E=>t._zod.parse(E,g))}return t._zod.parse(_,g)};t._zod.run=(m,p)=>{if(p.skipChecks)return t._zod.parse(m,p);if(p.direction==="backward"){const _=t._zod.parse({value:m.value,issues:[]},{...p,skipChecks:!0});return _ instanceof Promise?_.then(E=>c(E,m,p)):c(_,m,p)}const g=t._zod.parse(m,p);if(g instanceof Promise){if(p.async===!1)throw new Jo;return g.then(_=>u(_,s,p))}return u(g,s,p)}}t["~standard"]={validate:u=>{var c;try{const m=RO(t,u);return m.success?{value:m.data}:{issues:(c=m.error)==null?void 0:c.issues}}catch{return CO(t,u).then(p=>{var g;return p.success?{value:p.data}:{issues:(g=p.error)==null?void 0:g.issues}})}},vendor:"zod",version:1}}),Ty=re("$ZodString",(t,e)=>{var n;Bt.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??nk(t._zod.bag),t._zod.parse=(s,a)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:t}),s}}),At=re("$ZodStringFormat",(t,e)=>{ad.init(t,e),Ty.init(t,e)}),Ek=re("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=FO),At.init(t,e)}),Tk=re("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=UE(s))}else e.pattern??(e.pattern=UE());At.init(t,e)}),wk=re("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=HO),At.init(t,e)}),Sk=re("$ZodURL",(t,e)=>{At.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),a=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Ak=re("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=ZO()),At.init(t,e)}),Rk=re("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=BO),At.init(t,e)}),Ck=re("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=VO),At.init(t,e)}),Ik=re("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=UO),At.init(t,e)}),xk=re("$ZodULID",(t,e)=>{e.pattern??(e.pattern=LO),At.init(t,e)}),Dk=re("$ZodXID",(t,e)=>{e.pattern??(e.pattern=PO),At.init(t,e)}),Nk=re("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=jO),At.init(t,e)}),Ok=re("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=tk(e)),At.init(t,e)}),kk=re("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=WO),At.init(t,e)}),Mk=re("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=ek(e)),At.init(t,e)}),zk=re("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=qO),At.init(t,e)}),Vk=re("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=$O),At.init(t,e),t._zod.bag.format="ipv4"}),Uk=re("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=QO),At.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Lk=re("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=KO),At.init(t,e)}),Pk=re("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=YO),At.init(t,e),t._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[a,u]=s;if(!u)throw new Error;const c=Number(u);if(`${c}`!==u)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function eA(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const jk=re("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=XO),At.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{eA(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Bk(t){if(!QS.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return eA(n)}const qk=re("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=QS),At.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{Bk(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Fk=re("$ZodE164",(t,e)=>{e.pattern??(e.pattern=JO),At.init(t,e)});function Hk(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const a=JSON.parse(atob(s));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const Gk=re("$ZodJWT",(t,e)=>{At.init(t,e),t._zod.check=n=>{Hk(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),tA=re("$ZodNumber",(t,e)=>{Bt.init(t,e),t._zod.pattern=t._zod.bag.pattern??ik,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const u=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...u?{received:u}:{}}),n}}),Zk=re("$ZodNumberFormat",(t,e)=>{lk.init(t,e),tA.init(t,e)}),$k=re("$ZodUnknown",(t,e)=>{Bt.init(t,e),t._zod.parse=n=>n}),Qk=re("$ZodNever",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),Kk=re("$ZodDate",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,u=a instanceof Date;return u&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...u?{received:"Invalid Date"}:{},inst:t}),n}});function LE(t,e,n){t.issues.length&&e.issues.push(...HS(n,t.issues)),e.value[n]=t.value}const Yk=re("$ZodArray",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,s)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const u=[];for(let c=0;c<a.length;c++){const m=a[c],p=e.element._zod.run({value:m,issues:[]},s);p instanceof Promise?u.push(p.then(g=>LE(g,n,c))):LE(p,n,c)}return u.length?Promise.all(u).then(()=>n):n}});function Dh(t,e,n,s){t.issues.length&&e.issues.push(...HS(n,t.issues)),t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}function nA(t){var s,a,u,c;const e=Object.keys(t.shape);for(const m of e)if(!((c=(u=(a=(s=t.shape)==null?void 0:s[m])==null?void 0:a._zod)==null?void 0:u.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const n=pO(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function rA(t,e,n,s,a,u){const c=[],m=a.keySet,p=a.catchall._zod,g=p.def.type;for(const _ in e){if(m.has(_))continue;if(g==="never"){c.push(_);continue}const E=p.run({value:e[_],issues:[]},s);E instanceof Promise?t.push(E.then(A=>Dh(A,n,_,e))):Dh(E,n,_,e)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:u}),t.length?Promise.all(t).then(()=>n):n}const Xk=re("$ZodObject",(t,e)=>{Bt.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const m=e.shape;Object.defineProperty(e,"shape",{get:()=>{const p={...m};return Object.defineProperty(e,"shape",{value:p}),p}})}const s=gy(()=>nA(e));pt(t._zod,"propValues",()=>{const m=e.shape,p={};for(const g in m){const _=m[g]._zod;if(_.values){p[g]??(p[g]=new Set);for(const E of _.values)p[g].add(E)}}return p});const a=xh,u=e.catchall;let c;t._zod.parse=(m,p)=>{c??(c=s.value);const g=m.value;if(!a(g))return m.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),m;m.value={};const _=[],E=c.shape;for(const A of c.keys){const P=E[A]._zod.run({value:g[A],issues:[]},p);P instanceof Promise?_.push(P.then(k=>Dh(k,m,A,g))):Dh(P,m,A,g)}return u?rA(_,g,m,p,s.value,t):_.length?Promise.all(_).then(()=>m):m}}),Jk=re("$ZodObjectJIT",(t,e)=>{Xk.init(t,e);const n=t._zod.parse,s=gy(()=>nA(e)),a=A=>{const I=new _k(["shape","payload","ctx"]),P=s.value,k=Y=>{const le=VE(Y);return`shape[${le}]._zod.run({ value: input[${le}], issues: [] }, ctx)`};I.write("const input = payload.value;");const U=Object.create(null);let W=0;for(const Y of P.keys)U[Y]=`key_${W++}`;I.write("const newResult = {};");for(const Y of P.keys){const le=U[Y],se=VE(Y);I.write(`const ${le} = ${k(Y)};`),I.write(`
        if (${le}.issues.length) {
          payload.issues = payload.issues.concat(${le}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${se}, ...iss.path] : [${se}]
          })));
        }
        
        
        if (${le}.value === undefined) {
          if (${se} in input) {
            newResult[${se}] = undefined;
          }
        } else {
          newResult[${se}] = ${le}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const ie=I.compile();return(Y,le)=>ie(A,Y,le)};let u;const c=xh,m=!jS.jitless,g=m&&dO.value,_=e.catchall;let E;t._zod.parse=(A,I)=>{E??(E=s.value);const P=A.value;return c(P)?m&&g&&(I==null?void 0:I.async)===!1&&I.jitless!==!0?(u||(u=a(e.shape)),A=u(A,I),_?rA([],P,A,I,E,t):A):n(A,I):(A.issues.push({expected:"object",code:"invalid_type",input:P,inst:t}),A)}});function PE(t,e,n,s){for(const u of t)if(u.issues.length===0)return e.value=u.value,e;const a=t.filter(u=>!Qo(u));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(u=>u.issues.map(c=>Za(c,s,Ga())))}),e)}const Wk=re("$ZodUnion",(t,e)=>{Bt.init(t,e),pt(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),pt(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),pt(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),pt(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(u=>u._zod.pattern);return new RegExp(`^(${a.map(u=>vy(u.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(a,u)=>{if(n)return s(a,u);let c=!1;const m=[];for(const p of e.options){const g=p._zod.run({value:a.value,issues:[]},u);if(g instanceof Promise)m.push(g),c=!0;else{if(g.issues.length===0)return g;m.push(g)}}return c?Promise.all(m).then(p=>PE(p,a,t,u)):PE(m,a,t,u)}}),eM=re("$ZodIntersection",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,s)=>{const a=n.value,u=e.left._zod.run({value:a,issues:[]},s),c=e.right._zod.run({value:a,issues:[]},s);return u instanceof Promise||c instanceof Promise?Promise.all([u,c]).then(([p,g])=>jE(n,p,g)):jE(n,u,c)}});function hg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(ec(t)&&ec(e)){const n=Object.keys(e),s=Object.keys(t).filter(u=>n.indexOf(u)!==-1),a={...t,...e};for(const u of s){const c=hg(t[u],e[u]);if(!c.valid)return{valid:!1,mergeErrorPath:[u,...c.mergeErrorPath]};a[u]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const a=t[s],u=e[s],c=hg(a,u);if(!c.valid)return{valid:!1,mergeErrorPath:[s,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function jE(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Qo(t))return t;const s=hg(e.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}const tM=re("$ZodEnum",(t,e)=>{Bt.init(t,e);const n=BS(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(a=>mO.has(typeof a)).map(a=>typeof a=="string"?rd(a):a.toString()).join("|")})$`),t._zod.parse=(a,u)=>{const c=a.value;return s.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),nM=re("$ZodTransform",(t,e)=>{Bt.init(t,e),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new PS(t.constructor.name);const a=e.transform(n.value,n);if(s.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Jo;return n.value=a,n}});function BE(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const rM=re("$ZodOptional",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",pt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),pt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${vy(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,s);return a instanceof Promise?a.then(u=>BE(u,n.value)):BE(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),iM=re("$ZodNullable",(t,e)=>{Bt.init(t,e),pt(t._zod,"optin",()=>e.innerType._zod.optin),pt(t._zod,"optout",()=>e.innerType._zod.optout),pt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${vy(n.source)}|null)$`):void 0}),pt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),sM=re("$ZodDefault",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,s);return a instanceof Promise?a.then(u=>qE(u,e)):qE(a,e)}});function qE(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const aM=re("$ZodPrefault",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),oM=re("$ZodNonOptional",(t,e)=>{Bt.init(t,e),pt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const a=e.innerType._zod.run(n,s);return a instanceof Promise?a.then(u=>FE(u,t)):FE(a,t)}});function FE(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const lM=re("$ZodCatch",(t,e)=>{Bt.init(t,e),pt(t._zod,"optin",()=>e.innerType._zod.optin),pt(t._zod,"optout",()=>e.innerType._zod.optout),pt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const a=e.innerType._zod.run(n,s);return a instanceof Promise?a.then(u=>(n.value=u.value,u.issues.length&&(n.value=e.catchValue({...n,error:{issues:u.issues.map(c=>Za(c,s,Ga()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(u=>Za(u,s,Ga()))},input:n.value}),n.issues=[]),n)}}),uM=re("$ZodPipe",(t,e)=>{Bt.init(t,e),pt(t._zod,"values",()=>e.in._zod.values),pt(t._zod,"optin",()=>e.in._zod.optin),pt(t._zod,"optout",()=>e.out._zod.optout),pt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{if(s.direction==="backward"){const u=e.out._zod.run(n,s);return u instanceof Promise?u.then(c=>rh(c,e.in,s)):rh(u,e.in,s)}const a=e.in._zod.run(n,s);return a instanceof Promise?a.then(u=>rh(u,e.out,s)):rh(a,e.out,s)}});function rh(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const cM=re("$ZodReadonly",(t,e)=>{Bt.init(t,e),pt(t._zod,"propValues",()=>e.innerType._zod.propValues),pt(t._zod,"values",()=>e.innerType._zod.values),pt(t._zod,"optin",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optin}),pt(t._zod,"optout",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optout}),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const a=e.innerType._zod.run(n,s);return a instanceof Promise?a.then(HE):HE(a)}});function HE(t){return t.value=Object.freeze(t.value),t}const fM=re("$ZodCustom",(t,e)=>{or.init(t,e),Bt.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,a=e.fn(s);if(a instanceof Promise)return a.then(u=>GE(u,n,s,t));GE(a,n,s,t)}});function GE(t,e,n,s){if(!t){const a={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(a.params=s._zod.def.params),e.issues.push(tc(a))}}var ZE;class hM{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const s=n[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const a={...s,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function dM(){return new hM}(ZE=globalThis).__zod_globalRegistry??(ZE.__zod_globalRegistry=dM());const Ou=globalThis.__zod_globalRegistry;function mM(t,e){return new t({type:"string",...Se(e)})}function pM(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Se(e)})}function $E(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Se(e)})}function gM(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(e)})}function yM(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(e)})}function vM(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(e)})}function _M(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(e)})}function bM(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Se(e)})}function EM(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(e)})}function TM(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(e)})}function wM(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(e)})}function SM(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(e)})}function AM(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(e)})}function RM(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Se(e)})}function CM(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(e)})}function IM(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(e)})}function xM(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(e)})}function DM(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(e)})}function NM(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(e)})}function OM(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Se(e)})}function kM(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(e)})}function MM(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Se(e)})}function zM(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(e)})}function VM(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(e)})}function UM(t,e){return new t({type:"string",format:"date",check:"string_format",...Se(e)})}function LM(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Se(e)})}function PM(t,e){return new t({type:"string",format:"duration",check:"string_format",...Se(e)})}function jM(t,e){return new t({type:"number",checks:[],...Se(e)})}function BM(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(e)})}function qM(t){return new t({type:"unknown"})}function FM(t,e){return new t({type:"never",...Se(e)})}function HM(t,e){return new t({type:"date",...Se(e)})}function QE(t,e){return new JS({check:"less_than",...Se(e),value:t,inclusive:!1})}function mh(t,e){return new JS({check:"less_than",...Se(e),value:t,inclusive:!0})}function KE(t,e){return new WS({check:"greater_than",...Se(e),value:t,inclusive:!1})}function ph(t,e){return new WS({check:"greater_than",...Se(e),value:t,inclusive:!0})}function YE(t,e){return new ok({check:"multiple_of",...Se(e),value:t})}function iA(t,e){return new uk({check:"max_length",...Se(e),maximum:t})}function Nh(t,e){return new ck({check:"min_length",...Se(e),minimum:t})}function sA(t,e){return new fk({check:"length_equals",...Se(e),length:t})}function GM(t,e){return new hk({check:"string_format",format:"regex",...Se(e),pattern:t})}function ZM(t){return new dk({check:"string_format",format:"lowercase",...Se(t)})}function $M(t){return new mk({check:"string_format",format:"uppercase",...Se(t)})}function QM(t,e){return new pk({check:"string_format",format:"includes",...Se(e),includes:t})}function KM(t,e){return new gk({check:"string_format",format:"starts_with",...Se(e),prefix:t})}function YM(t,e){return new yk({check:"string_format",format:"ends_with",...Se(e),suffix:t})}function wl(t){return new vk({check:"overwrite",tx:t})}function XM(t){return wl(e=>e.normalize(t))}function JM(){return wl(t=>t.trim())}function WM(){return wl(t=>t.toLowerCase())}function e4(){return wl(t=>t.toUpperCase())}function t4(){return wl(t=>hO(t))}function n4(t,e,n){return new t({type:"array",element:e,...Se(n)})}function r4(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Se(n)})}function i4(t){const e=s4(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(tc(s,n.value,e._zod.def));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(tc(a))}},t(n.value,n)));return e}function s4(t,e){const n=new or({check:"custom",...Se(e)});return n._zod.check=t,n}function aA(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??Ou,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function xn(t,e,n={path:[],schemaPath:[]}){var _,E;var s;const a=t._zod.def,u=e.seen.get(t);if(u)return u.count++,n.schemaPath.includes(t)&&(u.cycle=n.path),u.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const m=(E=(_=t._zod).toJSONSchema)==null?void 0:E.call(_);if(m)c.schema=m;else{const A={...n,schemaPath:[...n.schemaPath,t],path:n.path},I=t._zod.parent;if(I)c.ref=I,xn(I,e,A),e.seen.get(I).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,A);else{const P=c.schema,k=e.processors[a.type];if(!k)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);k(t,e,P,A)}}const p=e.metadataRegistry.get(t);return p&&Object.assign(c.schema,p),e.io==="input"&&Hn(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((s=c.schema).default??(s.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function oA(t,e){var u,c,m;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=p=>{var I;const g=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const P=(I=t.external.registry.get(p[0]))==null?void 0:I.id,k=t.external.uri??(W=>W);if(P)return{ref:k(P)};const U=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=U,{defId:U,ref:`${k("__shared")}#/${g}/${U}`}}if(p[1]===n)return{ref:"#"};const E=`#/${g}/`,A=p[1].schema.id??`__schema${t.counter++}`;return{defId:A,ref:E+A}},a=p=>{if(p[1].schema.$ref)return;const g=p[1],{ref:_,defId:E}=s(p);g.def={...g.schema},E&&(g.defId=E);const A=g.schema;for(const I in A)delete A[I];A.$ref=_};if(t.cycles==="throw")for(const p of t.seen.entries()){const g=p[1];if(g.cycle)throw new Error(`Cycle detected: #/${(u=g.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const g=p[1];if(e===p[0]){a(p);continue}if(t.external){const E=(c=t.external.registry.get(p[0]))==null?void 0:c.id;if(e!==p[0]&&E){a(p);continue}}if((m=t.metadataRegistry.get(p[0]))==null?void 0:m.id){a(p);continue}if(g.cycle){a(p);continue}if(g.count>1&&t.reused==="ref"){a(p);continue}}}function lA(t,e){var c,m,p;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=g=>{const _=t.seen.get(g),E=_.def??_.schema,A={...E};if(_.ref===null)return;const I=_.ref;if(_.ref=null,I){s(I);const P=t.seen.get(I).schema;P.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(E.allOf=E.allOf??[],E.allOf.push(P)):(Object.assign(E,P),Object.assign(E,A))}_.isParent||t.override({zodSchema:g,jsonSchema:E,path:_.path??[]})};for(const g of[...t.seen.entries()].reverse())s(g[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,(c=t.external)!=null&&c.uri){const g=(m=t.external.registry.get(e))==null?void 0:m.id;if(!g)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(g)}Object.assign(a,n.def??n.schema);const u=((p=t.external)==null?void 0:p.defs)??{};for(const g of t.seen.entries()){const _=g[1];_.def&&_.defId&&(u[_.defId]=_.def)}t.external||Object.keys(u).length>0&&(t.target==="draft-2020-12"?a.$defs=u:a.definitions=u);try{const g=JSON.parse(JSON.stringify(a));return Object.defineProperty(g,"~standard",{value:{...e["~standard"],jsonSchema:{input:Oh(e,"input"),output:Oh(e,"output")}},enumerable:!1,writable:!1}),g}catch{throw new Error("Error converting schema to JSON.")}}function Hn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return Hn(s.element,n);if(s.type==="set")return Hn(s.valueType,n);if(s.type==="lazy")return Hn(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return Hn(s.innerType,n);if(s.type==="intersection")return Hn(s.left,n)||Hn(s.right,n);if(s.type==="record"||s.type==="map")return Hn(s.keyType,n)||Hn(s.valueType,n);if(s.type==="pipe")return Hn(s.in,n)||Hn(s.out,n);if(s.type==="object"){for(const a in s.shape)if(Hn(s.shape[a],n))return!0;return!1}if(s.type==="union"){for(const a of s.options)if(Hn(a,n))return!0;return!1}if(s.type==="tuple"){for(const a of s.items)if(Hn(a,n))return!0;return!!(s.rest&&Hn(s.rest,n))}return!1}const a4=(t,e={})=>n=>{const s=aA({...n,processors:e});return xn(t,s),oA(s,t),lA(s,t)},Oh=(t,e)=>n=>{const{libraryOptions:s,target:a}=n??{},u=aA({...s??{},target:a,io:e,processors:{}});return xn(t,u),oA(u,t),lA(u,t)},o4={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},l4=(t,e,n,s)=>{const a=n;a.type="string";const{minimum:u,maximum:c,format:m,patterns:p,contentEncoding:g}=t._zod.bag;if(typeof u=="number"&&(a.minLength=u),typeof c=="number"&&(a.maxLength=c),m&&(a.format=o4[m]??m,a.format===""&&delete a.format),g&&(a.contentEncoding=g),p&&p.size>0){const _=[...p];_.length===1?a.pattern=_[0].source:_.length>1&&(a.allOf=[..._.map(E=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:E.source}))])}},u4=(t,e,n,s)=>{const a=n,{minimum:u,maximum:c,format:m,multipleOf:p,exclusiveMaximum:g,exclusiveMinimum:_}=t._zod.bag;typeof m=="string"&&m.includes("int")?a.type="integer":a.type="number",typeof _=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=_,a.exclusiveMinimum=!0):a.exclusiveMinimum=_),typeof u=="number"&&(a.minimum=u,typeof _=="number"&&e.target!=="draft-04"&&(_>=u?delete a.minimum:delete a.exclusiveMinimum)),typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=g,a.exclusiveMaximum=!0):a.exclusiveMaximum=g),typeof c=="number"&&(a.maximum=c,typeof g=="number"&&e.target!=="draft-04"&&(g<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof p=="number"&&(a.multipleOf=p)},c4=(t,e,n,s)=>{n.not={}},f4=(t,e,n,s)=>{},h4=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},d4=(t,e,n,s)=>{const a=t._zod.def,u=BS(a.entries);u.every(c=>typeof c=="number")&&(n.type="number"),u.every(c=>typeof c=="string")&&(n.type="string"),n.enum=u},m4=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},p4=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},g4=(t,e,n,s)=>{const a=n,u=t._zod.def,{minimum:c,maximum:m}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof m=="number"&&(a.maxItems=m),a.type="array",a.items=xn(u.element,e,{...s,path:[...s.path,"items"]})},y4=(t,e,n,s)=>{var g;const a=n,u=t._zod.def;a.type="object",a.properties={};const c=u.shape;for(const _ in c)a.properties[_]=xn(c[_],e,{...s,path:[...s.path,"properties",_]});const m=new Set(Object.keys(c)),p=new Set([...m].filter(_=>{const E=u.shape[_]._zod;return e.io==="input"?E.optin===void 0:E.optout===void 0}));p.size>0&&(a.required=Array.from(p)),((g=u.catchall)==null?void 0:g._zod.def.type)==="never"?a.additionalProperties=!1:u.catchall?u.catchall&&(a.additionalProperties=xn(u.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},v4=(t,e,n,s)=>{const a=t._zod.def,u=a.inclusive===!1,c=a.options.map((m,p)=>xn(m,e,{...s,path:[...s.path,u?"oneOf":"anyOf",p]}));u?n.oneOf=c:n.anyOf=c},_4=(t,e,n,s)=>{const a=t._zod.def,u=xn(a.left,e,{...s,path:[...s.path,"allOf",0]}),c=xn(a.right,e,{...s,path:[...s.path,"allOf",1]}),m=g=>"allOf"in g&&Object.keys(g).length===1,p=[...m(u)?u.allOf:[u],...m(c)?c.allOf:[c]];n.allOf=p},b4=(t,e,n,s)=>{const a=t._zod.def,u=xn(a.innerType,e,s),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[u,{type:"null"}]},E4=(t,e,n,s)=>{const a=t._zod.def;xn(a.innerType,e,s);const u=e.seen.get(t);u.ref=a.innerType},T4=(t,e,n,s)=>{const a=t._zod.def;xn(a.innerType,e,s);const u=e.seen.get(t);u.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},w4=(t,e,n,s)=>{const a=t._zod.def;xn(a.innerType,e,s);const u=e.seen.get(t);u.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},S4=(t,e,n,s)=>{const a=t._zod.def;xn(a.innerType,e,s);const u=e.seen.get(t);u.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},A4=(t,e,n,s)=>{const a=t._zod.def,u=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;xn(u,e,s);const c=e.seen.get(t);c.ref=u},R4=(t,e,n,s)=>{const a=t._zod.def;xn(a.innerType,e,s);const u=e.seen.get(t);u.ref=a.innerType,n.readOnly=!0},C4=(t,e,n,s)=>{const a=t._zod.def;xn(a.innerType,e,s);const u=e.seen.get(t);u.ref=a.innerType},I4=re("ZodISODateTime",(t,e)=>{Ok.init(t,e),It.init(t,e)});function x4(t){return VM(I4,t)}const D4=re("ZodISODate",(t,e)=>{kk.init(t,e),It.init(t,e)});function N4(t){return UM(D4,t)}const O4=re("ZodISOTime",(t,e)=>{Mk.init(t,e),It.init(t,e)});function k4(t){return LM(O4,t)}const M4=re("ZodISODuration",(t,e)=>{zk.init(t,e),It.init(t,e)});function z4(t){return PM(M4,t)}const V4=(t,e)=>{ZS.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>AO(t,n)},flatten:{value:n=>SO(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,fg,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,fg,2)}},isEmpty:{get(){return t.issues.length===0}}})},zr=re("ZodError",V4,{Parent:Error}),U4=by(zr),L4=Ey(zr),P4=id(zr),j4=sd(zr),B4=IO(zr),q4=xO(zr),F4=DO(zr),H4=NO(zr),G4=OO(zr),Z4=kO(zr),$4=MO(zr),Q4=zO(zr),Xt=re("ZodType",(t,e)=>(Bt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Oh(t,"input"),output:Oh(t,"output")}}),t.toJSONSchema=a4(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Ja(e,{checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),t.clone=(n,s)=>na(t,n,s),t.brand=()=>t,t.register=((n,s)=>(n.add(t,s),t)),t.parse=(n,s)=>U4(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>P4(t,n,s),t.parseAsync=async(n,s)=>L4(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>j4(t,n,s),t.spa=t.safeParseAsync,t.encode=(n,s)=>B4(t,n,s),t.decode=(n,s)=>q4(t,n,s),t.encodeAsync=async(n,s)=>F4(t,n,s),t.decodeAsync=async(n,s)=>H4(t,n,s),t.safeEncode=(n,s)=>G4(t,n,s),t.safeDecode=(n,s)=>Z4(t,n,s),t.safeEncodeAsync=async(n,s)=>$4(t,n,s),t.safeDecodeAsync=async(n,s)=>Q4(t,n,s),t.refine=(n,s)=>t.check(Uz(n,s)),t.superRefine=n=>t.check(Lz(n)),t.overwrite=n=>t.check(wl(n)),t.optional=()=>eT(t),t.nullable=()=>tT(t),t.nullish=()=>eT(tT(t)),t.nonoptional=n=>Nz(t,n),t.array=()=>Sy(t),t.or=n=>fA([t,n]),t.and=n=>wz(t,n),t.transform=n=>nT(t,Az(n)),t.default=n=>Iz(t,n),t.prefault=n=>Dz(t,n),t.catch=n=>kz(t,n),t.pipe=n=>nT(t,n),t.readonly=()=>Vz(t),t.describe=n=>{const s=t.clone();return Ou.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){var n;return(n=Ou.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ou.get(t);const s=t.clone();return Ou.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),uA=re("_ZodString",(t,e)=>{Ty.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(s,a,u)=>l4(t,s,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(GM(...s)),t.includes=(...s)=>t.check(QM(...s)),t.startsWith=(...s)=>t.check(KM(...s)),t.endsWith=(...s)=>t.check(YM(...s)),t.min=(...s)=>t.check(Nh(...s)),t.max=(...s)=>t.check(iA(...s)),t.length=(...s)=>t.check(sA(...s)),t.nonempty=(...s)=>t.check(Nh(1,...s)),t.lowercase=s=>t.check(ZM(s)),t.uppercase=s=>t.check($M(s)),t.trim=()=>t.check(JM()),t.normalize=(...s)=>t.check(XM(...s)),t.toLowerCase=()=>t.check(WM()),t.toUpperCase=()=>t.check(e4()),t.slugify=()=>t.check(t4())}),K4=re("ZodString",(t,e)=>{Ty.init(t,e),uA.init(t,e),t.email=n=>t.check(pM(Y4,n)),t.url=n=>t.check(bM(X4,n)),t.jwt=n=>t.check(zM(hz,n)),t.emoji=n=>t.check(EM(J4,n)),t.guid=n=>t.check($E(XE,n)),t.uuid=n=>t.check(gM(ih,n)),t.uuidv4=n=>t.check(yM(ih,n)),t.uuidv6=n=>t.check(vM(ih,n)),t.uuidv7=n=>t.check(_M(ih,n)),t.nanoid=n=>t.check(TM(W4,n)),t.guid=n=>t.check($E(XE,n)),t.cuid=n=>t.check(wM(ez,n)),t.cuid2=n=>t.check(SM(tz,n)),t.ulid=n=>t.check(AM(nz,n)),t.base64=n=>t.check(OM(uz,n)),t.base64url=n=>t.check(kM(cz,n)),t.xid=n=>t.check(RM(rz,n)),t.ksuid=n=>t.check(CM(iz,n)),t.ipv4=n=>t.check(IM(sz,n)),t.ipv6=n=>t.check(xM(az,n)),t.cidrv4=n=>t.check(DM(oz,n)),t.cidrv6=n=>t.check(NM(lz,n)),t.e164=n=>t.check(MM(fz,n)),t.datetime=n=>t.check(x4(n)),t.date=n=>t.check(N4(n)),t.time=n=>t.check(k4(n)),t.duration=n=>t.check(z4(n))});function Tt(t){return mM(K4,t)}const It=re("ZodStringFormat",(t,e)=>{At.init(t,e),uA.init(t,e)}),Y4=re("ZodEmail",(t,e)=>{wk.init(t,e),It.init(t,e)}),XE=re("ZodGUID",(t,e)=>{Ek.init(t,e),It.init(t,e)}),ih=re("ZodUUID",(t,e)=>{Tk.init(t,e),It.init(t,e)}),X4=re("ZodURL",(t,e)=>{Sk.init(t,e),It.init(t,e)}),J4=re("ZodEmoji",(t,e)=>{Ak.init(t,e),It.init(t,e)}),W4=re("ZodNanoID",(t,e)=>{Rk.init(t,e),It.init(t,e)}),ez=re("ZodCUID",(t,e)=>{Ck.init(t,e),It.init(t,e)}),tz=re("ZodCUID2",(t,e)=>{Ik.init(t,e),It.init(t,e)}),nz=re("ZodULID",(t,e)=>{xk.init(t,e),It.init(t,e)}),rz=re("ZodXID",(t,e)=>{Dk.init(t,e),It.init(t,e)}),iz=re("ZodKSUID",(t,e)=>{Nk.init(t,e),It.init(t,e)}),sz=re("ZodIPv4",(t,e)=>{Vk.init(t,e),It.init(t,e)}),az=re("ZodIPv6",(t,e)=>{Uk.init(t,e),It.init(t,e)}),oz=re("ZodCIDRv4",(t,e)=>{Lk.init(t,e),It.init(t,e)}),lz=re("ZodCIDRv6",(t,e)=>{Pk.init(t,e),It.init(t,e)}),uz=re("ZodBase64",(t,e)=>{jk.init(t,e),It.init(t,e)}),cz=re("ZodBase64URL",(t,e)=>{qk.init(t,e),It.init(t,e)}),fz=re("ZodE164",(t,e)=>{Fk.init(t,e),It.init(t,e)}),hz=re("ZodJWT",(t,e)=>{Gk.init(t,e),It.init(t,e)}),cA=re("ZodNumber",(t,e)=>{tA.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(s,a,u)=>u4(t,s,a),t.gt=(s,a)=>t.check(KE(s,a)),t.gte=(s,a)=>t.check(ph(s,a)),t.min=(s,a)=>t.check(ph(s,a)),t.lt=(s,a)=>t.check(QE(s,a)),t.lte=(s,a)=>t.check(mh(s,a)),t.max=(s,a)=>t.check(mh(s,a)),t.int=s=>t.check(JE(s)),t.safe=s=>t.check(JE(s)),t.positive=s=>t.check(KE(0,s)),t.nonnegative=s=>t.check(ph(0,s)),t.negative=s=>t.check(QE(0,s)),t.nonpositive=s=>t.check(mh(0,s)),t.multipleOf=(s,a)=>t.check(YE(s,a)),t.step=(s,a)=>t.check(YE(s,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function wy(t){return jM(cA,t)}const dz=re("ZodNumberFormat",(t,e)=>{Zk.init(t,e),cA.init(t,e)});function JE(t){return BM(dz,t)}const mz=re("ZodUnknown",(t,e)=>{$k.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>f4()});function WE(){return qM(mz)}const pz=re("ZodNever",(t,e)=>{Qk.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>c4(t,n,s)});function gz(t){return FM(pz,t)}const yz=re("ZodDate",(t,e)=>{Kk.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(s,a,u)=>h4(t,s),t.min=(s,a)=>t.check(ph(s,a)),t.max=(s,a)=>t.check(mh(s,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function vz(t){return HM(yz,t)}const _z=re("ZodArray",(t,e)=>{Yk.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>g4(t,n,s,a),t.element=e.element,t.min=(n,s)=>t.check(Nh(n,s)),t.nonempty=n=>t.check(Nh(1,n)),t.max=(n,s)=>t.check(iA(n,s)),t.length=(n,s)=>t.check(sA(n,s)),t.unwrap=()=>t.element});function Sy(t,e){return n4(_z,t,e)}const bz=re("ZodObject",(t,e)=>{Jk.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>y4(t,n,s,a),pt(t,"shape",()=>e.shape),t.keyof=()=>Ay(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:WE()}),t.loose=()=>t.clone({...t._zod.def,catchall:WE()}),t.strict=()=>t.clone({...t._zod.def,catchall:gz()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>_O(t,n),t.safeExtend=n=>bO(t,n),t.merge=n=>EO(t,n),t.pick=n=>yO(t,n),t.omit=n=>vO(t,n),t.partial=(...n)=>TO(hA,t,n[0]),t.required=(...n)=>wO(dA,t,n[0])});function Wa(t,e){const n={type:"object",shape:t??{},...Se(e)};return new bz(n)}const Ez=re("ZodUnion",(t,e)=>{Wk.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>v4(t,n,s,a),t.options=e.options});function fA(t,e){return new Ez({type:"union",options:t,...Se(e)})}const Tz=re("ZodIntersection",(t,e)=>{eM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>_4(t,n,s,a)});function wz(t,e){return new Tz({type:"intersection",left:t,right:e})}const dg=re("ZodEnum",(t,e)=>{tM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(s,a,u)=>d4(t,s,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,a)=>{const u={};for(const c of s)if(n.has(c))u[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new dg({...e,checks:[],...Se(a),entries:u})},t.exclude=(s,a)=>{const u={...e.entries};for(const c of s)if(n.has(c))delete u[c];else throw new Error(`Key ${c} not found in enum`);return new dg({...e,checks:[],...Se(a),entries:u})}});function Ay(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new dg({type:"enum",entries:n,...Se(e)})}const Sz=re("ZodTransform",(t,e)=>{nM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>p4(t,n),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new PS(t.constructor.name);n.addIssue=u=>{if(typeof u=="string")n.issues.push(tc(u,n.value,e));else{const c=u;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(tc(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(u=>(n.value=u,n)):(n.value=a,n)}});function Az(t){return new Sz({type:"transform",transform:t})}const hA=re("ZodOptional",(t,e)=>{rM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>C4(t,n,s,a),t.unwrap=()=>t._zod.def.innerType});function eT(t){return new hA({type:"optional",innerType:t})}const Rz=re("ZodNullable",(t,e)=>{iM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>b4(t,n,s,a),t.unwrap=()=>t._zod.def.innerType});function tT(t){return new Rz({type:"nullable",innerType:t})}const Cz=re("ZodDefault",(t,e)=>{sM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>T4(t,n,s,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Iz(t,e){return new Cz({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():FS(e)}})}const xz=re("ZodPrefault",(t,e)=>{aM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>w4(t,n,s,a),t.unwrap=()=>t._zod.def.innerType});function Dz(t,e){return new xz({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():FS(e)}})}const dA=re("ZodNonOptional",(t,e)=>{oM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>E4(t,n,s,a),t.unwrap=()=>t._zod.def.innerType});function Nz(t,e){return new dA({type:"nonoptional",innerType:t,...Se(e)})}const Oz=re("ZodCatch",(t,e)=>{lM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>S4(t,n,s,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function kz(t,e){return new Oz({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Mz=re("ZodPipe",(t,e)=>{uM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>A4(t,n,s,a),t.in=e.in,t.out=e.out});function nT(t,e){return new Mz({type:"pipe",in:t,out:e})}const zz=re("ZodReadonly",(t,e)=>{cM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>R4(t,n,s,a),t.unwrap=()=>t._zod.def.innerType});function Vz(t){return new zz({type:"readonly",innerType:t})}const mA=re("ZodCustom",(t,e)=>{fM.init(t,e),Xt.init(t,e),t._zod.processJSONSchema=(n,s,a)=>m4(t,n)});function Uz(t,e={}){return r4(mA,t,e)}function Lz(t){return i4(t)}function Pz(t,e={error:`Input not instance of ${t.name}`}){const n=new mA({type:"custom",check:"custom",fn:s=>s instanceof t,abort:!0,...Se(e)});return n._zod.bag.Class=t,n}const Ba=fA([vz(),Pz(Mt),Tt()]).nullable().optional(),jz=Wa({type:Ay(["none","daily","weekly","weekdays","monthly"]).nullable(),days:Sy(wy()).optional()}).nullable().optional();Wa({id:Tt().optional(),title:Tt().min(1,"Title is required"),description:Tt().nullable().optional(),status:Ay(["todo","completed","archived"]).default("todo"),dueDate:Ba,completedAt:Ba,createdAt:Ba,ownerId:Tt(),projectId:Tt().nullable().optional(),labelIds:Sy(Tt()).optional(),timeBlockId:Tt().nullable().optional(),duration:wy().optional(),recurrence:jz});Wa({id:Tt().optional(),name:Tt().min(1,"Project name is required"),ownerId:Tt(),createdAt:Ba});Wa({id:Tt().optional(),name:Tt().min(1,"Label name is required"),color:Tt().optional(),ownerId:Tt(),createdAt:Ba});Wa({id:Tt().optional(),name:Tt().min(1,"Workspace name is required"),createdAt:Ba});Wa({id:Tt().optional(),name:Tt().min(1),query:Tt(),createdAt:Ba});Wa({id:Tt().optional(),name:Tt(),start:Tt(),end:Tt(),color:Tt().optional(),order:wy().optional()});const Bz="currentWorkspaceId";function Sl(){return localStorage.getItem(Bz)}const Ry=()=>{const[t,e]=G.useState([]),[n,s]=G.useState(!0),a=Sl();return G.useEffect(()=>{const u=cO(a||"",c=>{e(c),s(!1)});return()=>u()},[a]),{labels:t,loading:n}};let Op=null;function qz(){return Op||(Op=LS().db),Op}function Fz(t,e,n){const s=Ya.projects(t,e),a=qz(),u=cy(Jh(a,s),JN("createdAt","asc"));return my(u,c=>{const m=c.docs.map(p=>({id:p.id,...p.data()}));n(m)},c=>{console.error("Error subscribing to projects:",c),n([])})}const Hz=(t,e)=>{const n=typeof t=="function"?t:e,s=typeof t=="string"?t:Sl(),a=vc.currentUser;return a&&s&&typeof n=="function"?Fz(a.uid,s,n):(typeof n=="function"&&n([]),()=>{})},Cy=()=>{const[t,e]=G.useState([]),[n,s]=G.useState(!0),a=Sl();return G.useEffect(()=>{if(!a){s(!1);return}const u=Hz(a,c=>{e(c),s(!1)});return()=>u()},[a]),{projects:t,loading:n}},kp=t=>t instanceof Mt?t.toDate():t instanceof Date?t:void 0,pA=t=>t instanceof Date?Mt.fromDate(t):t;function Gz(t,e){const n=e.recurrence||null;return{id:t,...e,createdAt:kp(e.createdAt)||void 0,dueDate:kp(e.dueDate)||void 0,recurrence:n,completedAt:kp(e.completedAt)||void 0,ownerId:e.ownerId||"",title:e.title||""}}function Zz(t,e,n){const s=c=>{typeof n=="function"&&n(c)};if(!t||!e)return s([]),()=>{};const a=Ya.tasks(t,e),u=cy(Jh(_c,a));return my(u,c=>{const m=c.docs.map(p=>Gz(p.id,p.data()));s(m)},c=>{console.error("[Tasks] Subscription error:",c),s([])})}async function $z(t,e,n){const s=Ya.tasks(t,e),a={...n};return a.dueDate&&(a.dueDate=pA(a.dueDate)),delete a.id,await iO(Jh(_c,s),{...a,ownerId:t,status:"todo",createdAt:US()})}async function Qz(t,e,n,s){const a=Ya.tasks(t,e),u={status:s};s==="completed"?u.completedAt=US():u.completedAt=null,await VS(Wh(_c,a,n),u)}async function Kz(t,e,n,s){const a=Ya.tasks(t,e),u={...s};u.dueDate!==void 0&&(u.dueDate=pA(u.dueDate)),await VS(Wh(_c,a,n),u)}async function Yz(t,e,n){const s=Ya.tasks(t,e);await rO(Wh(_c,s,n))}function Xz(){var n;const t=(n=vc.currentUser)==null?void 0:n.uid,e=Sl();if(!t||!e)throw new Error("Authentication or Workspace required.");return{userId:t,workspaceId:e}}async function Jz(t){const{userId:e,workspaceId:n}=Xz();return $z(e,n,t)}function Wz(t,e){const n=vc.currentUser;return!n||!t?(typeof e=="function"&&e([]),()=>{}):Zz(n.uid,t,e)}function Iy(){const t=vc.currentUser,e=Sl();if(!t||!e)throw new Error("Authentication and Workspace required.");return{userId:t.uid,workspaceId:e}}async function eV(t,e){const{userId:n,workspaceId:s}=Iy();return Kz(n,s,t,e)}async function tV(t,e){const{userId:n,workspaceId:s}=Iy();return Qz(n,s,t,e==="completed"?"todo":"completed")}async function nV(t){const{userId:e,workspaceId:n}=Iy();return Yz(e,n,t)}const rV=()=>{const{activeModal:t,modalData:e,closeModal:n}=Ph(),s=t==="task-detail",a=e,[u,c]=G.useState(""),[m,p]=G.useState(""),[g,_]=G.useState(null),[E,A]=G.useState("todo"),{projects:I}=Cy();Ry(),G.useEffect(()=>{a&&(c(a.title),p(a.description||""),_(a.projectId||null),A(a.status||"todo"))},[a]);const P=async()=>{if(!(!a||!a.id))try{await eV(a.id,{title:u,description:m,projectId:g==="none"?null:g,status:E}),n()}catch(U){console.error("Failed to update task",U),alert("Failed to update task")}},k=async()=>{!a||!a.id||confirm("Are you sure you want to delete this task?")&&(await nV(a.id),n())};return a?F.jsx(QT,{isOpen:s,onClose:n,title:"Edit Task",className:"max-w-2xl h-[80vh]",children:F.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),F.jsx("input",{type:"text",value:u,onChange:U=>c(U.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 outline-none"})]}),F.jsxs("div",{className:"flex-1",children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),F.jsx("textarea",{value:m,onChange:U=>p(U.target.value),className:"w-full h-full min-h-[150px] p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 outline-none resize-none"})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project"}),F.jsxs("select",{value:g||"none",onChange:U=>_(U.target.value==="none"?null:U.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[F.jsx("option",{value:"none",children:"No Project"}),I.map(U=>F.jsx("option",{value:U.id,children:U.name},U.id))]})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),F.jsxs("select",{value:E,onChange:U=>A(U.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[F.jsx("option",{value:"todo",children:"To Do"}),F.jsx("option",{value:"completed",children:"Completed"})]})]})]}),F.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700",children:[F.jsx("button",{onClick:k,className:"px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:"Delete"}),F.jsxs("div",{className:"flex gap-2",children:[F.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition",children:"Cancel"}),F.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded transition font-medium",children:"Save Changes"})]})]})]})}):null},iV=()=>F.jsxs(F.Fragment,{children:[F.jsx(QC,{}),F.jsx(rV,{})]}),od=wg(t=>({filterType:"inbox",targetId:null,query:"",setFilter:(e,n=null)=>t({filterType:e,targetId:n,query:""}),setSearchQuery:e=>t({query:e,filterType:"search"}),clearFilter:()=>t({filterType:"all",targetId:null,query:""})})),sV=[{id:"inbox",name:"",icon:"",color:"text-blue-500"},{id:"today",name:"",icon:"",color:"text-green-500"},{id:"upcoming",name:"",icon:"",color:"text-purple-500"},{id:"important",name:"",icon:"",color:"text-amber-400"},{id:"all",name:"",icon:"",color:"text-gray-500"}],aV=()=>{const{filterType:t,setFilter:e}=od();return F.jsx("ul",{className:"space-y-0.5",children:sV.map(n=>{const s=t===n.id;return F.jsx("li",{children:F.jsxs("button",{onClick:()=>e(n.id),className:pi("w-full flex items-center px-3 py-1.5 text-sm rounded-md transition-colors text-left gap-3",s?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[F.jsx("span",{className:n.color,children:n.icon}),F.jsx("span",{children:n.name})]})},n.id)})})},oV=()=>{const{labels:t,loading:e}=Ry(),{filterType:n,targetId:s,setFilter:a}=od();return e?F.jsx("div",{className:"px-4 py-2 text-xs text-gray-400",children:"Loading labels..."}):t.length===0?F.jsx("div",{className:"px-4 py-2 text-xs text-gray-400",children:"No labels found."}):F.jsx("ul",{className:"space-y-0.5",children:t.map(u=>{const c=n==="label"&&s===u.id;return F.jsx("li",{children:F.jsxs("button",{onClick:()=>a("label",u.id),className:pi("w-full flex items-center px-3 py-1.5 text-sm rounded-md transition-colors text-left gap-2 group",c?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[F.jsx("span",{className:"w-3 h-3 rounded-full opacity-75 group-hover:opacity-100",style:{backgroundColor:u.color||"#9ca3af"}}),F.jsx("span",{className:"truncate",children:u.name})]})},u.id)})})};function lV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const ld=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Al(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function xy(t){return"nodeType"in t}function lr(t){var e,n;return t?Al(t)?t:xy(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Dy(t){const{Document:e}=lr(t);return t instanceof e}function bc(t){return Al(t)?!1:t instanceof lr(t).HTMLElement}function gA(t){return t instanceof lr(t).SVGElement}function Rl(t){return t?Al(t)?t.document:xy(t)?Dy(t)?t:bc(t)||gA(t)?t.ownerDocument:document:document:document}const _i=ld?G.useLayoutEffect:G.useEffect;function Ny(t){const e=G.useRef(t);return _i(()=>{e.current=t}),G.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function uV(){const t=G.useRef(null),e=G.useCallback((s,a)=>{t.current=setInterval(s,a)},[]),n=G.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function nc(t,e){e===void 0&&(e=[t]);const n=G.useRef(t);return _i(()=>{n.current!==t&&(n.current=t)},e),n}function Ec(t,e){const n=G.useRef();return G.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function kh(t){const e=Ny(t),n=G.useRef(null),s=G.useCallback(a=>{a!==n.current&&(e==null||e(a,n.current)),n.current=a},[]);return[n,s]}function mg(t){const e=G.useRef();return G.useEffect(()=>{e.current=t},[t]),e.current}let Mp={};function Tc(t,e){return G.useMemo(()=>{if(e)return e;const n=Mp[t]==null?0:Mp[t]+1;return Mp[t]=n,t+"-"+n},[t,e])}function yA(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((u,c)=>{const m=Object.entries(c);for(const[p,g]of m){const _=u[p];_!=null&&(u[p]=_+t*g)}return u},{...e})}}const Wo=yA(1),rc=yA(-1);function cV(t){return"clientX"in t&&"clientY"in t}function Oy(t){if(!t)return!1;const{KeyboardEvent:e}=lr(t.target);return e&&t instanceof e}function fV(t){if(!t)return!1;const{TouchEvent:e}=lr(t.target);return e&&t instanceof e}function pg(t){if(fV(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return cV(t)?{x:t.clientX,y:t.clientY}:null}const ic=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ic.Translate.toString(t),ic.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),rT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hV(t){return t.matches(rT)?t:t.querySelector(rT)}const dV={display:"none"};function mV(t){let{id:e,value:n}=t;return an.createElement("div",{id:e,style:dV},n)}function pV(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return an.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function gV(){const[t,e]=G.useState("");return{announce:G.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const vA=G.createContext(null);function yV(t){const e=G.useContext(vA);G.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function vV(){const[t]=G.useState(()=>new Set),e=G.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[G.useCallback(s=>{let{type:a,event:u}=s;t.forEach(c=>{var m;return(m=c[a])==null?void 0:m.call(c,u)})},[t]),e]}const _V={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bV={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function EV(t){let{announcements:e=bV,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=_V}=t;const{announce:u,announcement:c}=gV(),m=Tc("DndLiveRegion"),[p,g]=G.useState(!1);if(G.useEffect(()=>{g(!0)},[]),yV(G.useMemo(()=>({onDragStart(E){let{active:A}=E;u(e.onDragStart({active:A}))},onDragMove(E){let{active:A,over:I}=E;e.onDragMove&&u(e.onDragMove({active:A,over:I}))},onDragOver(E){let{active:A,over:I}=E;u(e.onDragOver({active:A,over:I}))},onDragEnd(E){let{active:A,over:I}=E;u(e.onDragEnd({active:A,over:I}))},onDragCancel(E){let{active:A,over:I}=E;u(e.onDragCancel({active:A,over:I}))}}),[u,e])),!p)return null;const _=an.createElement(an.Fragment,null,an.createElement(mV,{id:s,value:a.draggable}),an.createElement(pV,{id:m,announcement:c}));return n?$o.createPortal(_,n):_}var sn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(sn||(sn={}));function Mh(){}function iT(t,e){return G.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function TV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return G.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Yr=Object.freeze({x:0,y:0});function _A(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function bA(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function wV(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function sT(t){let{left:e,top:n,height:s,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+s},{x:e+a,y:n+s}]}function EA(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function aT(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const SV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=aT(e,e.left,e.top),u=[];for(const c of s){const{id:m}=c,p=n.get(m);if(p){const g=_A(aT(p),a);u.push({id:m,data:{droppableContainer:c,value:g}})}}return u.sort(bA)},AV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=sT(e),u=[];for(const c of s){const{id:m}=c,p=n.get(m);if(p){const g=sT(p),_=a.reduce((A,I,P)=>A+_A(g[P],I),0),E=Number((_/4).toFixed(4));u.push({id:m,data:{droppableContainer:c,value:E}})}}return u.sort(bA)};function RV(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),u=Math.min(e.top+e.height,t.top+t.height),c=a-s,m=u-n;if(s<a&&n<u){const p=e.width*e.height,g=t.width*t.height,_=c*m,E=_/(p+g-_);return Number(E.toFixed(4))}return 0}const CV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=[];for(const u of s){const{id:c}=u,m=n.get(c);if(m){const p=RV(m,e);p>0&&a.push({id:c,data:{droppableContainer:u,value:p}})}}return a.sort(wV)};function IV(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function TA(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Yr}function xV(t){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return a.reduce((c,m)=>({...c,top:c.top+t*m.y,bottom:c.bottom+t*m.y,left:c.left+t*m.x,right:c.right+t*m.x}),{...n})}}const DV=xV(1);function NV(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function OV(t,e,n){const s=NV(e);if(!s)return t;const{scaleX:a,scaleY:u,x:c,y:m}=s,p=t.left-c-(1-a)*parseFloat(n),g=t.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),_=a?t.width/a:t.width,E=u?t.height/u:t.height;return{width:_,height:E,top:g,right:p+_,bottom:g+E,left:p}}const kV={ignoreTransform:!1};function Cl(t,e){e===void 0&&(e=kV);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:_}=lr(t).getComputedStyle(t);g&&(n=OV(n,g,_))}const{top:s,left:a,width:u,height:c,bottom:m,right:p}=n;return{top:s,left:a,width:u,height:c,bottom:m,right:p}}function oT(t){return Cl(t,{ignoreTransform:!0})}function MV(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function zV(t,e){return e===void 0&&(e=lr(t).getComputedStyle(t)),e.position==="fixed"}function VV(t,e){e===void 0&&(e=lr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const u=e[a];return typeof u=="string"?n.test(u):!1})}function ud(t,e){const n=[];function s(a){if(e!=null&&n.length>=e||!a)return n;if(Dy(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!bc(a)||gA(a)||n.includes(a))return n;const u=lr(t).getComputedStyle(a);return a!==t&&VV(a,u)&&n.push(a),zV(a,u)?n:s(a.parentNode)}return t?s(t):n}function wA(t){const[e]=ud(t,1);return e??null}function zp(t){return!ld||!t?null:Al(t)?t:xy(t)?Dy(t)||t===Rl(t).scrollingElement?window:bc(t)?t:null:null}function SA(t){return Al(t)?t.scrollX:t.scrollLeft}function AA(t){return Al(t)?t.scrollY:t.scrollTop}function gg(t){return{x:SA(t),y:AA(t)}}var vn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(vn||(vn={}));function RA(t){return!ld||!t?!1:t===document.scrollingElement}function CA(t){const e={x:0,y:0},n=RA(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,u=t.scrollLeft<=e.x,c=t.scrollTop>=s.y,m=t.scrollLeft>=s.x;return{isTop:a,isLeft:u,isBottom:c,isRight:m,maxScroll:s,minScroll:e}}const UV={x:.2,y:.2};function LV(t,e,n,s,a){let{top:u,left:c,right:m,bottom:p}=n;s===void 0&&(s=10),a===void 0&&(a=UV);const{isTop:g,isBottom:_,isLeft:E,isRight:A}=CA(t),I={x:0,y:0},P={x:0,y:0},k={height:e.height*a.y,width:e.width*a.x};return!g&&u<=e.top+k.height?(I.y=vn.Backward,P.y=s*Math.abs((e.top+k.height-u)/k.height)):!_&&p>=e.bottom-k.height&&(I.y=vn.Forward,P.y=s*Math.abs((e.bottom-k.height-p)/k.height)),!A&&m>=e.right-k.width?(I.x=vn.Forward,P.x=s*Math.abs((e.right-k.width-m)/k.width)):!E&&c<=e.left+k.width&&(I.x=vn.Backward,P.x=s*Math.abs((e.left+k.width-c)/k.width)),{direction:I,speed:P}}function PV(t){if(t===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:e,left:n,right:s,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:a,width:t.clientWidth,height:t.clientHeight}}function IA(t){return t.reduce((e,n)=>Wo(e,gg(n)),Yr)}function jV(t){return t.reduce((e,n)=>e+SA(n),0)}function BV(t){return t.reduce((e,n)=>e+AA(n),0)}function qV(t,e){if(e===void 0&&(e=Cl),!t)return;const{top:n,left:s,bottom:a,right:u}=e(t);wA(t)&&(a<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const FV=[["x",["left","right"],jV],["y",["top","bottom"],BV]];class ky{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=ud(n),a=IA(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,c,m]of FV)for(const p of c)Object.defineProperty(this,p,{get:()=>{const g=m(s),_=a[u]-g;return this.rect[p]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Pu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var a;(a=this.target)==null||a.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function HV(t){const{EventTarget:e}=lr(t);return t instanceof e?t:Rl(t)}function Vp(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var Mr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Mr||(Mr={}));function lT(t){t.preventDefault()}function GV(t){t.stopPropagation()}var Qe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Qe||(Qe={}));const xA={start:[Qe.Space,Qe.Enter],cancel:[Qe.Esc],end:[Qe.Space,Qe.Enter,Qe.Tab]},ZV=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Qe.Right:return{...n,x:n.x+25};case Qe.Left:return{...n,x:n.x-25};case Qe.Down:return{...n,y:n.y+25};case Qe.Up:return{...n,y:n.y-25}}};class My{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Pu(Rl(n)),this.windowListeners=new Pu(lr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mr.Resize,this.handleCancel),this.windowListeners.add(Mr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&qV(s),n(Yr)}handleKeyDown(e){if(Oy(e)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:u=xA,coordinateGetter:c=ZV,scrollBehavior:m="smooth"}=a,{code:p}=e;if(u.end.includes(p)){this.handleEnd(e);return}if(u.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:g}=s.current,_=g?{x:g.left,y:g.top}:Yr;this.referenceCoordinates||(this.referenceCoordinates=_);const E=c(e,{active:n,context:s.current,currentCoordinates:_});if(E){const A=rc(E,_),I={x:0,y:0},{scrollableAncestors:P}=s.current;for(const k of P){const U=e.code,{isTop:W,isRight:ie,isLeft:Y,isBottom:le,maxScroll:se,minScroll:fe}=CA(k),C=PV(k),w={x:Math.min(U===Qe.Right?C.right-C.width/2:C.right,Math.max(U===Qe.Right?C.left:C.left+C.width/2,E.x)),y:Math.min(U===Qe.Down?C.bottom-C.height/2:C.bottom,Math.max(U===Qe.Down?C.top:C.top+C.height/2,E.y))},R=U===Qe.Right&&!ie||U===Qe.Left&&!Y,O=U===Qe.Down&&!le||U===Qe.Up&&!W;if(R&&w.x!==E.x){const D=k.scrollLeft+A.x,V=U===Qe.Right&&D<=se.x||U===Qe.Left&&D>=fe.x;if(V&&!A.y){k.scrollTo({left:D,behavior:m});return}V?I.x=k.scrollLeft-D:I.x=U===Qe.Right?k.scrollLeft-se.x:k.scrollLeft-fe.x,I.x&&k.scrollBy({left:-I.x,behavior:m});break}else if(O&&w.y!==E.y){const D=k.scrollTop+A.y,V=U===Qe.Down&&D<=se.y||U===Qe.Up&&D>=fe.y;if(V&&!A.x){k.scrollTo({top:D,behavior:m});return}V?I.y=k.scrollTop-D:I.y=U===Qe.Down?k.scrollTop-se.y:k.scrollTop-fe.y,I.y&&k.scrollBy({top:-I.y,behavior:m});break}}this.handleMove(e,Wo(rc(E,this.referenceCoordinates),I))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}My.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=xA,onActivation:a}=e,{active:u}=n;const{code:c}=t.nativeEvent;if(s.start.includes(c)){const m=u.activatorNode.current;return m&&t.target!==m?!1:(t.preventDefault(),a==null||a({event:t.nativeEvent}),!0)}return!1}}];function uT(t){return!!(t&&"distance"in t)}function cT(t){return!!(t&&"delay"in t)}class zy{constructor(e,n,s){var a;s===void 0&&(s=HV(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:c}=u;this.props=e,this.events=n,this.document=Rl(c),this.documentListeners=new Pu(this.document),this.listeners=new Pu(s),this.windowListeners=new Pu(lr(c)),this.initialCoordinates=(a=pg(u))!=null?a:Yr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Mr.Resize,this.handleCancel),this.windowListeners.add(Mr.DragStart,lT),this.windowListeners.add(Mr.VisibilityChange,this.handleCancel),this.windowListeners.add(Mr.ContextMenu,lT),this.documentListeners.add(Mr.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(cT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(uT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Mr.Click,GV,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:a,props:u}=this,{onMove:c,options:{activationConstraint:m}}=u;if(!a)return;const p=(n=pg(e))!=null?n:Yr,g=rc(a,p);if(!s&&m){if(uT(m)){if(m.tolerance!=null&&Vp(g,m.tolerance))return this.handleCancel();if(Vp(g,m.distance))return this.handleStart()}if(cT(m)&&Vp(g,m.tolerance))return this.handleCancel();this.handlePending(m,g);return}e.cancelable&&e.preventDefault(),c(p)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Qe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const $V={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Vy extends zy{constructor(e){const{event:n}=e,s=Rl(n.target);super(e,$V,s)}}Vy.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const QV={move:{name:"mousemove"},end:{name:"mouseup"}};var yg;(function(t){t[t.RightClick=2]="RightClick"})(yg||(yg={}));class KV extends zy{constructor(e){super(e,QV,Rl(e.event.target))}}KV.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===yg.RightClick?!1:(s==null||s({event:n}),!0)}}];const Up={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class YV extends zy{constructor(e){super(e,Up)}static setup(){return window.addEventListener(Up.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Up.move.name,e)};function e(){}}}YV.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:a}=n;return a.length>1?!1:(s==null||s({event:n}),!0)}}];var ju;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ju||(ju={}));var zh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(zh||(zh={}));function XV(t){let{acceleration:e,activator:n=ju.Pointer,canScroll:s,draggingRect:a,enabled:u,interval:c=5,order:m=zh.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:_,delta:E,threshold:A}=t;const I=WV({delta:E,disabled:!u}),[P,k]=uV(),U=G.useRef({x:0,y:0}),W=G.useRef({x:0,y:0}),ie=G.useMemo(()=>{switch(n){case ju.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case ju.DraggableRect:return a}},[n,a,p]),Y=G.useRef(null),le=G.useCallback(()=>{const fe=Y.current;if(!fe)return;const C=U.current.x*W.current.x,w=U.current.y*W.current.y;fe.scrollBy(C,w)},[]),se=G.useMemo(()=>m===zh.TreeOrder?[...g].reverse():g,[m,g]);G.useEffect(()=>{if(!u||!g.length||!ie){k();return}for(const fe of se){if((s==null?void 0:s(fe))===!1)continue;const C=g.indexOf(fe),w=_[C];if(!w)continue;const{direction:R,speed:O}=LV(fe,w,ie,e,A);for(const D of["x","y"])I[D][R[D]]||(O[D]=0,R[D]=0);if(O.x>0||O.y>0){k(),Y.current=fe,P(le,c),U.current=O,W.current=R;return}}U.current={x:0,y:0},W.current={x:0,y:0},k()},[e,le,s,k,u,c,JSON.stringify(ie),JSON.stringify(I),P,g,se,_,JSON.stringify(A)])}const JV={x:{[vn.Backward]:!1,[vn.Forward]:!1},y:{[vn.Backward]:!1,[vn.Forward]:!1}};function WV(t){let{delta:e,disabled:n}=t;const s=mg(e);return Ec(a=>{if(n||!s||!a)return JV;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[vn.Backward]:a.x[vn.Backward]||u.x===-1,[vn.Forward]:a.x[vn.Forward]||u.x===1},y:{[vn.Backward]:a.y[vn.Backward]||u.y===-1,[vn.Forward]:a.y[vn.Forward]||u.y===1}}},[n,e,s])}function eU(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return Ec(a=>{var u;return e==null?null:(u=s??a)!=null?u:null},[s,e])}function tU(t,e){return G.useMemo(()=>t.reduce((n,s)=>{const{sensor:a}=s,u=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...n,...u]},[]),[t,e])}var sc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sc||(sc={}));var vg;(function(t){t.Optimized="optimized"})(vg||(vg={}));const fT=new Map;function nU(t,e){let{dragging:n,dependencies:s,config:a}=e;const[u,c]=G.useState(null),{frequency:m,measure:p,strategy:g}=a,_=G.useRef(t),E=U(),A=nc(E),I=G.useCallback(function(W){W===void 0&&(W=[]),!A.current&&c(ie=>ie===null?W:ie.concat(W.filter(Y=>!ie.includes(Y))))},[A]),P=G.useRef(null),k=Ec(W=>{if(E&&!n)return fT;if(!W||W===fT||_.current!==t||u!=null){const ie=new Map;for(let Y of t){if(!Y)continue;if(u&&u.length>0&&!u.includes(Y.id)&&Y.rect.current){ie.set(Y.id,Y.rect.current);continue}const le=Y.node.current,se=le?new ky(p(le),le):null;Y.rect.current=se,se&&ie.set(Y.id,se)}return ie}return W},[t,u,n,E,p]);return G.useEffect(()=>{_.current=t},[t]),G.useEffect(()=>{E||I()},[n,E]),G.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),G.useEffect(()=>{E||typeof m!="number"||P.current!==null||(P.current=setTimeout(()=>{I(),P.current=null},m))},[m,E,I,...s]),{droppableRects:k,measureDroppableContainers:I,measuringScheduled:u!=null};function U(){switch(g){case sc.Always:return!1;case sc.BeforeDragging:return n;default:return!n}}}function DA(t,e){return Ec(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function rU(t,e){return DA(t,e)}function iU(t){let{callback:e,disabled:n}=t;const s=Ny(e),a=G.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return G.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function cd(t){let{callback:e,disabled:n}=t;const s=Ny(e),a=G.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return G.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function sU(t){return new ky(Cl(t),t)}function hT(t,e,n){e===void 0&&(e=sU);const[s,a]=G.useState(null);function u(){a(p=>{if(!t)return null;if(t.isConnected===!1){var g;return(g=p??n)!=null?g:null}const _=e(t);return JSON.stringify(p)===JSON.stringify(_)?p:_})}const c=iU({callback(p){if(t)for(const g of p){const{type:_,target:E}=g;if(_==="childList"&&E instanceof HTMLElement&&E.contains(t)){u();break}}}}),m=cd({callback:u});return _i(()=>{u(),t?(m==null||m.observe(t),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(m==null||m.disconnect(),c==null||c.disconnect())},[t]),s}function aU(t){const e=DA(t);return TA(t,e)}const dT=[];function oU(t){const e=G.useRef(t),n=Ec(s=>t?s&&s!==dT&&t&&e.current&&t.parentNode===e.current.parentNode?s:ud(t):dT,[t]);return G.useEffect(()=>{e.current=t},[t]),n}function lU(t){const[e,n]=G.useState(null),s=G.useRef(t),a=G.useCallback(u=>{const c=zp(u.target);c&&n(m=>m?(m.set(c,gg(c)),new Map(m)):null)},[]);return G.useEffect(()=>{const u=s.current;if(t!==u){c(u);const m=t.map(p=>{const g=zp(p);return g?(g.addEventListener("scroll",a,{passive:!0}),[g,gg(g)]):null}).filter(p=>p!=null);n(m.length?new Map(m):null),s.current=t}return()=>{c(t),c(u)};function c(m){m.forEach(p=>{const g=zp(p);g==null||g.removeEventListener("scroll",a)})}},[a,t]),G.useMemo(()=>t.length?e?Array.from(e.values()).reduce((u,c)=>Wo(u,c),Yr):IA(t):Yr,[t,e])}function mT(t,e){e===void 0&&(e=[]);const n=G.useRef(null);return G.useEffect(()=>{n.current=null},e),G.useEffect(()=>{const s=t!==Yr;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?rc(t,n.current):Yr}function uU(t){G.useEffect(()=>{if(!ld)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function cU(t,e){return G.useMemo(()=>t.reduce((n,s)=>{let{eventName:a,handler:u}=s;return n[a]=c=>{u(c,e)},n},{}),[t,e])}function NA(t){return G.useMemo(()=>t?MV(t):null,[t])}const pT=[];function fU(t,e){e===void 0&&(e=Cl);const[n]=t,s=NA(n?lr(n):null),[a,u]=G.useState(pT);function c(){u(()=>t.length?t.map(p=>RA(p)?s:new ky(e(p),p)):pT)}const m=cd({callback:c});return _i(()=>{m==null||m.disconnect(),c(),t.forEach(p=>m==null?void 0:m.observe(p))},[t]),a}function hU(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return bc(e)?e:t}function dU(t){let{measure:e}=t;const[n,s]=G.useState(null),a=G.useCallback(g=>{for(const{target:_}of g)if(bc(_)){s(E=>{const A=e(_);return E?{...E,width:A.width,height:A.height}:A});break}},[e]),u=cd({callback:a}),c=G.useCallback(g=>{const _=hU(g);u==null||u.disconnect(),_&&(u==null||u.observe(_)),s(_?e(_):null)},[e,u]),[m,p]=kh(c);return G.useMemo(()=>({nodeRef:m,rect:n,setRef:p}),[n,m,p])}const mU=[{sensor:Vy,options:{}},{sensor:My,options:{}}],pU={current:{}},gh={draggable:{measure:oT},droppable:{measure:oT,strategy:sc.WhileDragging,frequency:vg.Optimized},dragOverlay:{measure:Cl}};class Bu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const gU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Mh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:gh,measureDroppableContainers:Mh,windowRect:null,measuringScheduled:!1},yU={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Mh,draggableNodes:new Map,over:null,measureDroppableContainers:Mh},fd=G.createContext(yU),OA=G.createContext(gU);function vU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bu}}}function _U(t,e){switch(e.type){case sn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case sn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case sn.DragEnd:case sn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sn.RegisterDroppable:{const{element:n}=e,{id:s}=n,a=new Bu(t.droppable.containers);return a.set(s,n),{...t,droppable:{...t.droppable,containers:a}}}case sn.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=e,u=t.droppable.containers.get(n);if(!u||s!==u.key)return t;const c=new Bu(t.droppable.containers);return c.set(n,{...u,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case sn.UnregisterDroppable:{const{id:n,key:s}=e,a=t.droppable.containers.get(n);if(!a||s!==a.key)return t;const u=new Bu(t.droppable.containers);return u.delete(n),{...t,droppable:{...t.droppable,containers:u}}}default:return t}}function bU(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:a}=G.useContext(fd),u=mg(s),c=mg(n==null?void 0:n.id);return G.useEffect(()=>{if(!e&&!s&&u&&c!=null){if(!Oy(u)||document.activeElement===u.target)return;const m=a.get(c);if(!m)return;const{activatorNode:p,node:g}=m;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const _ of[p.current,g.current]){if(!_)continue;const E=hV(_);if(E){E.focus();break}}})}},[s,e,a,c,u]),null}function EU(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((a,u)=>u({transform:a,...s}),n):n}function TU(t){return G.useMemo(()=>({draggable:{...gh.draggable,...t==null?void 0:t.draggable},droppable:{...gh.droppable,...t==null?void 0:t.droppable},dragOverlay:{...gh.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function wU(t){let{activeNode:e,measure:n,initialRect:s,config:a=!0}=t;const u=G.useRef(!1),{x:c,y:m}=typeof a=="boolean"?{x:a,y:a}:a;_i(()=>{if(!c&&!m||!e){u.current=!1;return}if(u.current||!s)return;const g=e==null?void 0:e.node.current;if(!g||g.isConnected===!1)return;const _=n(g),E=TA(_,s);if(c||(E.x=0),m||(E.y=0),u.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const A=wA(g);A&&A.scrollBy({top:E.y,left:E.x})}},[e,c,m,s,n])}const kA=G.createContext({...Yr,scaleX:1,scaleY:1});var Ps;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ps||(Ps={}));const SU=G.memo(function(e){var n,s,a,u;let{id:c,accessibility:m,autoScroll:p=!0,children:g,sensors:_=mU,collisionDetection:E=CV,measuring:A,modifiers:I,...P}=e;const k=G.useReducer(_U,void 0,vU),[U,W]=k,[ie,Y]=vV(),[le,se]=G.useState(Ps.Uninitialized),fe=le===Ps.Initialized,{draggable:{active:C,nodes:w,translate:R},droppable:{containers:O}}=U,D=C!=null?w.get(C):null,V=G.useRef({initial:null,translated:null}),x=G.useMemo(()=>{var yt;return C!=null?{id:C,data:(yt=D==null?void 0:D.data)!=null?yt:pU,rect:V}:null},[C,D]),Ye=G.useRef(null),[it,$]=G.useState(null),[ue,ae]=G.useState(null),xe=nc(P,Object.values(P)),Ve=Tc("DndDescribedBy",c),M=G.useMemo(()=>O.getEnabled(),[O]),Q=TU(A),{droppableRects:te,measureDroppableContainers:he,measuringScheduled:be}=nU(M,{dragging:fe,dependencies:[R.x,R.y],config:Q.droppable}),Te=eU(w,C),Ee=G.useMemo(()=>ue?pg(ue):null,[ue]),at=Tr(),Pe=rU(Te,Q.draggable.measure);wU({activeNode:C!=null?w.get(C):null,config:at.layoutShiftCompensation,initialRect:Pe,measure:Q.draggable.measure});const De=hT(Te,Q.draggable.measure,Pe),Jt=hT(Te?Te.parentElement:null),Rt=G.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ur=O.getNodeFor((n=Rt.current.over)==null?void 0:n.id),zt=dU({measure:Q.dragOverlay.measure}),$n=(s=zt.nodeRef.current)!=null?s:Te,cr=fe?(a=zt.rect)!=null?a:De:null,eo=!!(zt.nodeRef.current&&zt.rect),ra=aU(eo?null:De),Xr=NA($n?lr($n):null),Dn=oU(fe?ur??Te:null),Vr=fU(Dn),Yi=EU(I,{transform:{x:R.x-ra.x,y:R.y-ra.y,scaleX:1,scaleY:1},activatorEvent:ue,active:x,activeNodeRect:De,containerNodeRect:Jt,draggingNodeRect:cr,over:Rt.current.over,overlayNodeRect:zt.rect,scrollableAncestors:Dn,scrollableAncestorRects:Vr,windowRect:Xr}),Xi=Ee?Wo(Ee,R):null,qt=lU(Dn),to=mT(qt),Vt=mT(qt,[De]),gt=Wo(Yi,to),Nn=cr?DV(cr,Yi):null,Jr=x&&Nn?E({active:x,collisionRect:Nn,droppableRects:te,droppableContainers:M,pointerCoordinates:Xi}):null,Ji=EA(Jr,"id"),[Er,Wr]=G.useState(null),ei=eo?Yi:Wo(Yi,Vt),on=IV(ei,(u=Er==null?void 0:Er.rect)!=null?u:null,De),On=G.useRef(null),ln=G.useCallback((yt,vt)=>{let{sensor:mt,options:_n}=vt;if(Ye.current==null)return;const Wt=w.get(Ye.current);if(!Wt)return;const en=yt.nativeEvent,Ft=new mt({active:Ye.current,activeNode:Wt,event:en,options:_n,context:Rt,onAbort(Ge){if(!w.get(Ge))return;const{onDragAbort:tn}=xe.current,un={id:Ge};tn==null||tn(un),ie({type:"onDragAbort",event:un})},onPending(Ge,Qn,tn,un){if(!w.get(Ge))return;const{onDragPending:Lr}=xe.current,fn={id:Ge,constraint:Qn,initialCoordinates:tn,offset:un};Lr==null||Lr(fn),ie({type:"onDragPending",event:fn})},onStart(Ge){const Qn=Ye.current;if(Qn==null)return;const tn=w.get(Qn);if(!tn)return;const{onDragStart:un}=xe.current,Ur={activatorEvent:en,active:{id:Qn,data:tn.data,rect:V}};$o.unstable_batchedUpdates(()=>{un==null||un(Ur),se(Ps.Initializing),W({type:sn.DragStart,initialCoordinates:Ge,active:Qn}),ie({type:"onDragStart",event:Ur}),$(On.current),ae(en)})},onMove(Ge){W({type:sn.DragMove,coordinates:Ge})},onEnd:Ln(sn.DragEnd),onCancel:Ln(sn.DragCancel)});On.current=Ft;function Ln(Ge){return async function(){const{active:tn,collisions:un,over:Ur,scrollAdjustedTranslate:Lr}=Rt.current;let fn=null;if(tn&&Lr){const{cancelDrop:ti}=xe.current;fn={activatorEvent:en,active:tn,collisions:un,delta:Lr,over:Ur},Ge===sn.DragEnd&&typeof ti=="function"&&await Promise.resolve(ti(fn))&&(Ge=sn.DragCancel)}Ye.current=null,$o.unstable_batchedUpdates(()=>{W({type:Ge}),se(Ps.Uninitialized),Wr(null),$(null),ae(null),On.current=null;const ti=Ge===sn.DragEnd?"onDragEnd":"onDragCancel";if(fn){const Kn=xe.current[ti];Kn==null||Kn(fn),ie({type:ti,event:fn})}})}}},[w]),Il=G.useCallback((yt,vt)=>(mt,_n)=>{const Wt=mt.nativeEvent,en=w.get(_n);if(Ye.current!==null||!en||Wt.dndKit||Wt.defaultPrevented)return;const Ft={active:en};yt(mt,vt.options,Ft)===!0&&(Wt.dndKit={capturedBy:vt.sensor},Ye.current=_n,ln(mt,vt))},[w,ln]),Wi=tU(_,Il);uU(_),_i(()=>{De&&le===Ps.Initializing&&se(Ps.Initialized)},[De,le]),G.useEffect(()=>{const{onDragMove:yt}=xe.current,{active:vt,activatorEvent:mt,collisions:_n,over:Wt}=Rt.current;if(!vt||!mt)return;const en={active:vt,activatorEvent:mt,collisions:_n,delta:{x:gt.x,y:gt.y},over:Wt};$o.unstable_batchedUpdates(()=>{yt==null||yt(en),ie({type:"onDragMove",event:en})})},[gt.x,gt.y]),G.useEffect(()=>{const{active:yt,activatorEvent:vt,collisions:mt,droppableContainers:_n,scrollAdjustedTranslate:Wt}=Rt.current;if(!yt||Ye.current==null||!vt||!Wt)return;const{onDragOver:en}=xe.current,Ft=_n.get(Ji),Ln=Ft&&Ft.rect.current?{id:Ft.id,rect:Ft.rect.current,data:Ft.data,disabled:Ft.disabled}:null,Ge={active:yt,activatorEvent:vt,collisions:mt,delta:{x:Wt.x,y:Wt.y},over:Ln};$o.unstable_batchedUpdates(()=>{Wr(Ln),en==null||en(Ge),ie({type:"onDragOver",event:Ge})})},[Ji]),_i(()=>{Rt.current={activatorEvent:ue,active:x,activeNode:Te,collisionRect:Nn,collisions:Jr,droppableRects:te,draggableNodes:w,draggingNode:$n,draggingNodeRect:cr,droppableContainers:O,over:Er,scrollableAncestors:Dn,scrollAdjustedTranslate:gt},V.current={initial:cr,translated:Nn}},[x,Te,Jr,Nn,w,$n,cr,te,O,Er,Dn,gt]),XV({...at,delta:R,draggingRect:Nn,pointerCoordinates:Xi,scrollableAncestors:Dn,scrollableAncestorRects:Vr});const no=G.useMemo(()=>({active:x,activeNode:Te,activeNodeRect:De,activatorEvent:ue,collisions:Jr,containerNodeRect:Jt,dragOverlay:zt,draggableNodes:w,droppableContainers:O,droppableRects:te,over:Er,measureDroppableContainers:he,scrollableAncestors:Dn,scrollableAncestorRects:Vr,measuringConfiguration:Q,measuringScheduled:be,windowRect:Xr}),[x,Te,De,ue,Jr,Jt,zt,w,O,te,Er,he,Dn,Vr,Q,be,Xr]),bi=G.useMemo(()=>({activatorEvent:ue,activators:Wi,active:x,activeNodeRect:De,ariaDescribedById:{draggable:Ve},dispatch:W,draggableNodes:w,over:Er,measureDroppableContainers:he}),[ue,Wi,x,De,W,Ve,w,Er,he]);return an.createElement(vA.Provider,{value:Y},an.createElement(fd.Provider,{value:bi},an.createElement(OA.Provider,{value:no},an.createElement(kA.Provider,{value:on},g)),an.createElement(bU,{disabled:(m==null?void 0:m.restoreFocus)===!1})),an.createElement(EV,{...m,hiddenTextDescribedById:Ve}));function Tr(){const yt=(it==null?void 0:it.autoScrollEnabled)===!1,vt=typeof p=="object"?p.enabled===!1:p===!1,mt=fe&&!yt&&!vt;return typeof p=="object"?{...p,enabled:mt}:{enabled:mt}}}),AU=G.createContext(null),gT="button",RU="Draggable";function CU(t){let{id:e,data:n,disabled:s=!1,attributes:a}=t;const u=Tc(RU),{activators:c,activatorEvent:m,active:p,activeNodeRect:g,ariaDescribedById:_,draggableNodes:E,over:A}=G.useContext(fd),{role:I=gT,roleDescription:P="draggable",tabIndex:k=0}=a??{},U=(p==null?void 0:p.id)===e,W=G.useContext(U?kA:AU),[ie,Y]=kh(),[le,se]=kh(),fe=cU(c,e),C=nc(n);_i(()=>(E.set(e,{id:e,key:u,node:ie,activatorNode:le,data:C}),()=>{const R=E.get(e);R&&R.key===u&&E.delete(e)}),[E,e]);const w=G.useMemo(()=>({role:I,tabIndex:k,"aria-disabled":s,"aria-pressed":U&&I===gT?!0:void 0,"aria-roledescription":P,"aria-describedby":_.draggable}),[s,I,k,U,P,_.draggable]);return{active:p,activatorEvent:m,activeNodeRect:g,attributes:w,isDragging:U,listeners:s?void 0:fe,node:ie,over:A,setNodeRef:Y,setActivatorNodeRef:se,transform:W}}function IU(){return G.useContext(OA)}const xU="Droppable",DU={timeout:25};function NU(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:a}=t;const u=Tc(xU),{active:c,dispatch:m,over:p,measureDroppableContainers:g}=G.useContext(fd),_=G.useRef({disabled:n}),E=G.useRef(!1),A=G.useRef(null),I=G.useRef(null),{disabled:P,updateMeasurementsFor:k,timeout:U}={...DU,...a},W=nc(k??s),ie=G.useCallback(()=>{if(!E.current){E.current=!0;return}I.current!=null&&clearTimeout(I.current),I.current=setTimeout(()=>{g(Array.isArray(W.current)?W.current:[W.current]),I.current=null},U)},[U]),Y=cd({callback:ie,disabled:P||!c}),le=G.useCallback((w,R)=>{Y&&(R&&(Y.unobserve(R),E.current=!1),w&&Y.observe(w))},[Y]),[se,fe]=kh(le),C=nc(e);return G.useEffect(()=>{!Y||!se.current||(Y.disconnect(),E.current=!1,Y.observe(se.current))},[se,Y]),G.useEffect(()=>(m({type:sn.RegisterDroppable,element:{id:s,key:u,disabled:n,node:se,rect:A,data:C}}),()=>m({type:sn.UnregisterDroppable,key:u,id:s})),[s]),G.useEffect(()=>{n!==_.current.disabled&&(m({type:sn.SetDroppableDisabled,id:s,key:u,disabled:n}),_.current.disabled=n)},[s,u,n,m]),{active:c,rect:A,isOver:(p==null?void 0:p.id)===s,node:se,over:p,setNodeRef:fe}}function MA(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function OU(t,e){return t.reduce((n,s,a)=>{const u=e.get(s);return u&&(n[a]=u),n},Array(t.length))}function sh(t){return t!==null&&t>=0}function kU(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function MU(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const zA=t=>{let{rects:e,activeIndex:n,overIndex:s,index:a}=t;const u=MA(e,s,n),c=e[a],m=u[a];return!m||!c?null:{x:m.left-c.left,y:m.top-c.top,scaleX:m.width/c.width,scaleY:m.height/c.height}},ah={scaleX:1,scaleY:1},zU=t=>{var e;let{activeIndex:n,activeNodeRect:s,index:a,rects:u,overIndex:c}=t;const m=(e=u[n])!=null?e:s;if(!m)return null;if(a===n){const g=u[c];return g?{x:0,y:n<c?g.top+g.height-(m.top+m.height):g.top-m.top,...ah}:null}const p=VU(u,a,n);return a>n&&a<=c?{x:0,y:-m.height-p,...ah}:a<n&&a>=c?{x:0,y:m.height+p,...ah}:{x:0,y:0,...ah}};function VU(t,e,n){const s=t[e],a=t[e-1],u=t[e+1];return s?n<e?a?s.top-(a.top+a.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):a?s.top-(a.top+a.height):0:0}const VA="Sortable",UA=an.createContext({activeIndex:-1,containerId:VA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zA,disabled:{draggable:!1,droppable:!1}});function UU(t){let{children:e,id:n,items:s,strategy:a=zA,disabled:u=!1}=t;const{active:c,dragOverlay:m,droppableRects:p,over:g,measureDroppableContainers:_}=IU(),E=Tc(VA,n),A=m.rect!==null,I=G.useMemo(()=>s.map(fe=>typeof fe=="object"&&"id"in fe?fe.id:fe),[s]),P=c!=null,k=c?I.indexOf(c.id):-1,U=g?I.indexOf(g.id):-1,W=G.useRef(I),ie=!kU(I,W.current),Y=U!==-1&&k===-1||ie,le=MU(u);_i(()=>{ie&&P&&_(I)},[ie,I,P,_]),G.useEffect(()=>{W.current=I},[I]);const se=G.useMemo(()=>({activeIndex:k,containerId:E,disabled:le,disableTransforms:Y,items:I,overIndex:U,useDragOverlay:A,sortedRects:OU(I,p),strategy:a}),[k,E,le.draggable,le.droppable,Y,I,U,p,A,a]);return an.createElement(UA.Provider,{value:se},e)}const LU=t=>{let{id:e,items:n,activeIndex:s,overIndex:a}=t;return MA(n,s,a).indexOf(e)},PU=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:a,items:u,newIndex:c,previousItems:m,previousContainerId:p,transition:g}=t;return!g||!s||m!==u&&a===c?!1:n?!0:c!==a&&e===p},jU={duration:200,easing:"ease"},LA="transform",BU=ic.Transition.toString({property:LA,duration:0,easing:"linear"}),qU={roleDescription:"sortable"};function FU(t){let{disabled:e,index:n,node:s,rect:a}=t;const[u,c]=G.useState(null),m=G.useRef(n);return _i(()=>{if(!e&&n!==m.current&&s.current){const p=a.current;if(p){const g=Cl(s.current,{ignoreTransform:!0}),_={x:p.left-g.left,y:p.top-g.top,scaleX:p.width/g.width,scaleY:p.height/g.height};(_.x||_.y)&&c(_)}}n!==m.current&&(m.current=n)},[e,n,s,a]),G.useEffect(()=>{u&&c(null)},[u]),u}function HU(t){let{animateLayoutChanges:e=PU,attributes:n,disabled:s,data:a,getNewIndex:u=LU,id:c,strategy:m,resizeObserverConfig:p,transition:g=jU}=t;const{items:_,containerId:E,activeIndex:A,disabled:I,disableTransforms:P,sortedRects:k,overIndex:U,useDragOverlay:W,strategy:ie}=G.useContext(UA),Y=GU(s,I),le=_.indexOf(c),se=G.useMemo(()=>({sortable:{containerId:E,index:le,items:_},...a}),[E,a,le,_]),fe=G.useMemo(()=>_.slice(_.indexOf(c)),[_,c]),{rect:C,node:w,isOver:R,setNodeRef:O}=NU({id:c,data:se,disabled:Y.droppable,resizeObserverConfig:{updateMeasurementsFor:fe,...p}}),{active:D,activatorEvent:V,activeNodeRect:x,attributes:Ye,setNodeRef:it,listeners:$,isDragging:ue,over:ae,setActivatorNodeRef:xe,transform:Ve}=CU({id:c,data:se,attributes:{...qU,...n},disabled:Y.draggable}),M=lV(O,it),Q=!!D,te=Q&&!P&&sh(A)&&sh(U),he=!W&&ue,be=he&&te?Ve:null,Ee=te?be??(m??ie)({rects:k,activeNodeRect:x,activeIndex:A,overIndex:U,index:le}):null,at=sh(A)&&sh(U)?u({id:c,items:_,activeIndex:A,overIndex:U}):le,Pe=D==null?void 0:D.id,De=G.useRef({activeId:Pe,items:_,newIndex:at,containerId:E}),Jt=_!==De.current.items,Rt=e({active:D,containerId:E,isDragging:ue,isSorting:Q,id:c,index:le,items:_,newIndex:De.current.newIndex,previousItems:De.current.items,previousContainerId:De.current.containerId,transition:g,wasDragging:De.current.activeId!=null}),ur=FU({disabled:!Rt,index:le,node:w,rect:C});return G.useEffect(()=>{Q&&De.current.newIndex!==at&&(De.current.newIndex=at),E!==De.current.containerId&&(De.current.containerId=E),_!==De.current.items&&(De.current.items=_)},[Q,at,E,_]),G.useEffect(()=>{if(Pe===De.current.activeId)return;if(Pe!=null&&De.current.activeId==null){De.current.activeId=Pe;return}const $n=setTimeout(()=>{De.current.activeId=Pe},50);return()=>clearTimeout($n)},[Pe]),{active:D,activeIndex:A,attributes:Ye,data:se,rect:C,index:le,newIndex:at,items:_,isOver:R,isSorting:Q,isDragging:ue,listeners:$,node:w,overIndex:U,over:ae,setNodeRef:M,setActivatorNodeRef:xe,setDroppableNodeRef:O,setDraggableNodeRef:it,transform:ur??Ee,transition:zt()};function zt(){if(ur||Jt&&De.current.newIndex===le)return BU;if(!(he&&!Oy(V)||!g)&&(Q||Rt))return ic.Transition.toString({...g,property:LA})}}function GU(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(s=t==null?void 0:t.droppable)!=null?s:e.droppable}}function Vh(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const ZU=[Qe.Down,Qe.Right,Qe.Up,Qe.Left],$U=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:u,over:c,scrollableAncestors:m}}=e;if(ZU.includes(t.code)){if(t.preventDefault(),!n||!s)return;const p=[];u.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const A=a.get(E.id);if(A)switch(t.code){case Qe.Down:s.top<A.top&&p.push(E);break;case Qe.Up:s.top>A.top&&p.push(E);break;case Qe.Left:s.left>A.left&&p.push(E);break;case Qe.Right:s.left<A.left&&p.push(E);break}});const g=AV({collisionRect:s,droppableRects:a,droppableContainers:p});let _=EA(g,"id");if(_===(c==null?void 0:c.id)&&g.length>1&&(_=g[1].id),_!=null){const E=u.get(n.id),A=u.get(_),I=A?a.get(A.id):null,P=A==null?void 0:A.node.current;if(P&&I&&E&&A){const U=ud(P).some((fe,C)=>m[C]!==fe),W=PA(E,A),ie=QU(E,A),Y=U||!W?{x:0,y:0}:{x:ie?s.width-I.width:0,y:ie?s.height-I.height:0},le={x:I.left,y:I.top};return Y.x&&Y.y?le:rc(le,Y)}}}};function PA(t,e){return!Vh(t)||!Vh(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function QU(t,e){return!Vh(t)||!Vh(e)||!PA(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const KU=({id:t,children:e})=>{const{attributes:n,listeners:s,setNodeRef:a,transform:u,transition:c,isDragging:m}=HU({id:t}),p={transform:ic.Transform.toString(u),transition:c,opacity:m?.5:1};return F.jsx("div",{ref:a,style:p,...n,...s,children:e})},YU=()=>{const{projects:t,loading:e}=Cy(),n=TV(iT(Vy),iT(My,{coordinateGetter:$U})),s=a=>{const{active:u,over:c}=a;u.id!==(c==null?void 0:c.id)&&console.log("Dragged",u.id,"to",c==null?void 0:c.id)};return e?F.jsx("div",{className:"p-4 text-xs text-gray-400",children:"Loading projects..."}):t.length===0?F.jsx("div",{className:"p-4 text-xs text-gray-400",children:"No projects found."}):F.jsx(SU,{sensors:n,collisionDetection:SV,onDragEnd:s,children:F.jsx(UU,{items:t.map(a=>a.id),strategy:zU,children:F.jsx("div",{className:"space-y-0.5 p-2",children:t.map(a=>F.jsx(KU,{id:a.id,children:F.jsx(XU,{project:a})},a.id))})})})},XU=({project:t})=>{const{filterType:e,targetId:n,setFilter:s}=od(),a=e==="project"&&n===t.id;return F.jsx("div",{onClick:()=>s("project",t.id),className:pi("group flex items-center justify-between px-2 py-1.5 rounded-md cursor-pointer transition-colors select-none",a?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200"),children:F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-gray-400 text-xs",children:"#"}),F.jsx("span",{className:"text-sm truncate",children:t.name})]})})},JU=({children:t})=>{const{sidebarWidth:e,isSidebarOpen:n,sidebarDensity:s}=Sg(),a={compact:"p-1",normal:"p-2",comfortable:"p-4",spacious:"p-6"}[s];return n?F.jsx("aside",{className:pi("h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300",a),style:{width:`${e}px`},children:F.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[F.jsx("div",{className:"mb-4",children:F.jsx("h2",{className:"text-xl font-bold px-2 text-gray-800 dark:text-gray-100",children:"TaskMg"})}),t]})}):null},yT=({title:t,children:e,defaultExpanded:n=!0})=>{const[s,a]=G.useState(n);return F.jsxs("div",{className:"mb-2",children:[F.jsxs("button",{onClick:()=>a(!s),className:"flex items-center w-full px-2 py-1 text-xs font-semibold text-gray-500 uppercase hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:[F.jsx("svg",{className:pi("w-3 h-3 mr-1 transition-transform",s?"rotate-90":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),t]}),s&&F.jsx("div",{className:"mt-1",children:e})]})},WU=()=>{const[t,e]=G.useState([]),[n,s]=G.useState(!0),a=Sl();return G.useEffect(()=>{if(!a){s(!1);return}const u=Wz(a,c=>{e(c),s(!1)});return()=>u()},[a]),{tasks:t,loading:n}},e9=({className:t,onCancel:e,placeholder:n="..."})=>{const[s,a]=G.useState(""),[u,c]=G.useState(!1),m=async g=>{if(!(!s.trim()||u)){c(!0);try{await Jz({title:s}),a("")}catch(_){console.error(_),alert("Failed to add task")}finally{c(!1)}}},p=g=>{g.key==="Enter"&&!g.shiftKey&&!g.nativeEvent.isComposing&&(g.preventDefault(),m()),g.key==="Escape"&&(e==null||e())};return F.jsxs("div",{className:pi("bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm p-3",t),children:[F.jsx("input",{type:"text",autoFocus:!0,className:"w-full bg-transparent text-sm text-gray-800 dark:text-gray-100 placeholder-gray-400 outline-none mb-2",placeholder:n,value:s,onChange:g=>a(g.target.value),onKeyDown:p,disabled:u}),F.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-gray-700/50",children:[F.jsx("div",{className:"flex gap-2",children:F.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:F.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),F.jsxs("div",{className:"flex gap-2",children:[e&&F.jsx("button",{type:"button",onClick:e,disabled:u,className:"px-3 py-1.5 text-xs font-medium text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition",children:""}),F.jsx("button",{onClick:()=>m(),disabled:!s.trim()||u,className:"px-3 py-1.5 text-xs font-bold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded transition",children:u?"...":""})]})]})]})},t9=()=>{const[t,e]=G.useState(!1);return t?F.jsx("div",{className:"mb-4",children:F.jsx(e9,{onCancel:()=>e(!1)})}):F.jsxs("button",{onClick:()=>e(!0),className:"group flex items-center gap-2 w-full text-left py-2 px-1 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors mb-2",children:[F.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-transparent group-hover:bg-blue-100/50 dark:group-hover:bg-blue-900/30 transition-colors",children:F.jsx("svg",{className:"w-4 h-4 text-inherit",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),F.jsx("span",{className:"text-sm font-medium",children:""})]})},n9=({task:t})=>{const e=t.status==="completed",{openModal:n}=Ph(),s=async a=>{a.stopPropagation(),t.id&&await tV(t.id,t.status||"todo")};return F.jsxs("li",{onClick:()=>n("task-detail",t),className:"group flex items-start gap-3 p-3 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700/50 rounded-xl hover:shadow-sm hover:border-blue-200 dark:hover:border-blue-800 transition-all duration-200 cursor-pointer",children:[F.jsx("button",{onClick:s,className:pi("mt-0.5 w-5 h-5 rounded-full border flex items-center justify-center transition-colors shrink-0",e?"bg-blue-500 border-blue-500 text-white":"border-gray-300 dark:border-gray-600 hover:border-blue-400 text-transparent"),"aria-label":e?"Mark as incomplete":"Mark as complete",children:F.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),F.jsxs("div",{className:"flex-1 min-w-0",children:[F.jsx("div",{className:pi("text-sm text-gray-800 dark:text-gray-200 break-words",e&&"line-through text-gray-400 dark:text-gray-500"),children:t.title}),t.description&&F.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:t.description}),F.jsx("div",{className:"flex items-center gap-2 mt-2",children:t.dueDate&&F.jsxs("span",{className:pi("text-xs flex items-center gap-1",e?"text-gray-400":"text-red-500"),children:[" ",typeof t.dueDate=="string"?t.dueDate:"Date"]})})]})]})},r9=()=>{const{tasks:t,loading:e}=WU();if(e)return F.jsx("div",{className:"flex items-center justify-center h-full",children:F.jsx("div",{className:"text-gray-400 text-sm",children:"Loading tasks..."})});const n=[...t].sort((s,a)=>0);return F.jsxs("div",{className:"space-y-2 pb-20",children:[F.jsx("div",{className:"mb-4",children:F.jsx(t9,{})}),t.length===0?F.jsx("div",{className:"text-center text-gray-400 py-10",children:F.jsx("p",{className:"text-sm",children:"No tasks found"})}):F.jsx("ul",{className:"space-y-2",children:n.map(s=>F.jsx(n9,{task:s},s.id))})]})},i9=()=>{const{toggleSidebar:t}=Sg(),{openModal:e}=Ph(),{filterType:n,targetId:s}=od(),{projects:a}=Cy(),{labels:u}=Ry(),c=()=>{var m,p;if(n==="project")return((m=a.find(g=>g.id===s))==null?void 0:m.name)||"Project";if(n==="label")return((p=u.find(g=>g.id===s))==null?void 0:p.name)||"Label";switch(n){case"inbox":return"Inbox";case"today":return"Today";case"upcoming":return"Upcoming";case"important":return"Important";case"all":return"All Tasks";default:return"TaskMg"}};return F.jsxs("div",{className:"h-full flex overflow-hidden bg-white dark:bg-gray-900 text-gray-800 dark:text-white",children:[F.jsx(iV,{}),F.jsx(JU,{children:F.jsxs("div",{className:"flex flex-col gap-4",children:[F.jsx(aV,{}),F.jsx(yT,{title:"Projects",children:F.jsx(YU,{})}),F.jsx(yT,{title:"Labels",defaultExpanded:!1,children:F.jsx(oV,{})})]})}),F.jsxs("main",{className:"flex-1 flex flex-col relative h-full overflow-hidden",children:[F.jsxs("header",{className:"h-14 border-b border-gray-200 dark:border-gray-800 flex items-center px-4 justify-between bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm z-10 sticky top-0",children:[F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsx("button",{onClick:t,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:F.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),F.jsx("h1",{className:"font-bold text-lg",children:c()})]}),F.jsx("div",{className:"flex items-center gap-2",children:F.jsx("button",{onClick:()=>e("settings"),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",title:"Settings",children:F.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]}),F.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar",children:F.jsx("div",{className:"max-w-3xl mx-auto",children:F.jsx(r9,{})})})]})]})},s9=new qR,jA=document.getElementById("app");if(!jA)throw new Error("Failed to find the root element");JR.createRoot(jA).render(F.jsx(an.StrictMode,{children:F.jsx(GR,{client:s9,children:F.jsx(i9,{})})}));
