import{r as x,a as E,j as t}from"./react-vendor-S0ejyqQM.js";import{u as j,U as L,f as m}from"./main-CWAq-HwV.js";const h='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',S=({isOpen:o,onClose:n,title:a,children:w,className:b,overlayClassName:y,zIndex:v=L.Z_INDEX.MODAL,size:i="md",variant:d="center"})=>{const{t:g}=j(),s=x.useRef(null),p={sm:"max-w-full sm:max-w-sm",md:"max-w-full sm:max-w-lg",lg:"max-w-full sm:max-w-3xl",xl:"max-w-full sm:max-w-5xl",full:"max-w-full m-0 sm:m-4 h-[100dvh] sm:h-[calc(100vh-2rem)]",none:""},k={sm:"sm:w-80",md:"sm:w-96",lg:"sm:w-[32rem]",xl:"sm:w-[48rem]",full:"sm:w-screen",none:""};return x.useEffect(()=>{const c=e=>{e.key==="Escape"&&n()},u=e=>{if(e.key!=="Tab"||!s.current)return;const r=s.current.querySelectorAll(h);if(r.length===0){e.preventDefault();return}const l=r[0],f=r[r.length-1];e.shiftKey?document.activeElement===l&&(e.preventDefault(),f.focus()):document.activeElement===f&&(e.preventDefault(),l.focus())};if(o){window.addEventListener("keydown",c),window.addEventListener("keydown",u),document.body.style.overflow="hidden";const e=setTimeout(()=>{var l;const r=(l=s.current)==null?void 0:l.querySelectorAll(h);r&&r.length>0?r[0].focus():s.current&&s.current.focus()},50);return()=>clearTimeout(e)}return()=>{window.removeEventListener("keydown",c),window.removeEventListener("keydown",u),document.body.style.overflow=""}},[o,n]),o?E.createPortal(t.jsxs("div",{className:m("fixed inset-0 flex z-50",d==="center"?"items-center justify-center p-0 sm:p-4":"items-end sm:items-stretch justify-end p-0"),style:{zIndex:v},role:"dialog","aria-modal":"true","aria-labelledby":a?"modal-title":void 0,children:[t.jsx("div",{className:m("fixed inset-0 backdrop-blur-sm transition-opacity",y??"bg-black/50"),onClick:n,"aria-hidden":"true"}),t.jsxs("div",{ref:s,tabIndex:-1,className:m("relative bg-white dark:bg-gray-800 shadow-md outline-none overflow-hidden flex flex-col transition-all duration-300",d==="center"&&["rounded-none sm:rounded-xl w-full max-h-[100dvh] sm:max-h-[90vh]",p[i]],d==="side-right"&&["h-[100dvh] w-full","sm:h-full sm:max-h-screen","sm:rounded-l-2xl sm:rounded-r-none shadow-2xl border-l border-gray-200 dark:border-gray-700",k[i]],b),children:[a&&t.jsxs("div",{className:"px-3 py-2 sm:px-modal sm:py-3 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center shrink-0",children:[t.jsx("h3",{id:"modal-title",className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white truncate",children:a}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 shrink-0","aria-label":g("close"),children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-modal custom-scrollbar",children:w})]})]}),document.body):null};export{S as M};
