import{d as l,j as e}from"./vendor-j1jwJuCp.js";import{u as g,d as b,e as p,B as f,I as y,f as v,h as n,T as j}from"./main-DbJl66SC.js";import{I as N}from"./Input-BkmC7pQ2.js";import"./firebase-CTDNBn9D.js";import"./i18n-DVG6a50L.js";const S=()=>{const{t:s}=g(),{query:t,setSearchQuery:o,setFilter:d}=b(),{setView:x}=p(),[r,i]=l.useState(t),c=l.useRef(null);l.useEffect(()=>{var a;(a=c.current)==null||a.focus()},[]),l.useEffect(()=>{t!==r&&i(t)},[t]),l.useEffect(()=>{const a=setTimeout(()=>{r!==t&&o(r)},150);return()=>{clearTimeout(a)}},[r,t,o]);const u=a=>{i(a.target.value)},m=()=>{var a;i(""),o(""),(a=c.current)==null||a.focus()},h=()=>{o(""),d("inbox"),x("tasks")};return e.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800",children:[e.jsxs("div",{className:"relative p-4 sm:p-6 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl -z-0"}),e.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(f,{variant:"ghost",size:"icon",onClick:h,className:"rounded-xl transition-all hover:scale-105 active:scale-95","aria-label":s("close"),children:e.jsx(y,{className:"w-5 h-5 text-gray-500"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s("sidebar.search_placeholder")})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl blur-xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsx(N,{ref:c,id:"search-input",name:"search",type:"text",value:r,onChange:u,placeholder:s("sidebar.search_placeholder"),className:"py-4 text-base bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl border-gray-200/50 dark:border-gray-700/50 rounded-2xl shadow-lg shadow-gray-200/50 dark:shadow-black/20",leftIcon:e.jsx(n,{className:"w-5 h-5"}),rightIcon:r?e.jsx("button",{type:"button",onClick:m,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors pointer-events-auto","aria-label":s("clear"),children:e.jsx(v,{className:"w-5 h-5"})}):void 0})]}),!r&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-400",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700 font-mono",children:"/"}),e.jsx("span",{children:s("search_view.tips")})]}),r&&e.jsxs("p",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 animate-pulse"}),s("search_view.results_for",{query:r})]})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:r?e.jsx(j,{}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-500 p-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-2xl"}),e.jsx("div",{className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 flex items-center justify-center mb-6",children:e.jsx(n,{className:"w-12 h-12 text-gray-400 dark:text-gray-500",strokeWidth:1.5})})]}),e.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300 mb-2",children:s("search_view.empty_title")}),e.jsx("p",{className:"text-sm text-center max-w-xs opacity-75",dangerouslySetInnerHTML:{__html:s("search_view.empty_desc")}})]})})]})};export{S as SearchView};
