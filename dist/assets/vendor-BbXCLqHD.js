var I0=t=>{throw TypeError(t)};var Qh=(t,e,n)=>e.has(t)||I0("Cannot "+n);var B=(t,e,n)=>(Qh(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?I0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(Qh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Zt=(t,e,n)=>(Qh(t,e,"access private method"),n);var ac=(t,e,n,r)=>({set _(o){be(t,e,o,n)},get _(){return B(t,e,r)}});function Hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xh={exports:{}},Ql={},ep={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function rM(){if(P0)return Ae;P0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=m&&A[m]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function S(A,U,ne){this.props=A,this.context=U,this.refs=b,this.updater=ne||v}S.prototype.isReactComponent={},S.prototype.setState=function(A,U){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,U,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=S.prototype;function T(A,U,ne){this.props=A,this.context=U,this.refs=b,this.updater=ne||v}var N=T.prototype=new C;N.constructor=T,k(N,S.prototype),N.isPureReactComponent=!0;var D=Array.isArray,P=Object.prototype.hasOwnProperty,F={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function L(A,U,ne){var ce,xe={},ve=null,ye=null;if(U!=null)for(ce in U.ref!==void 0&&(ye=U.ref),U.key!==void 0&&(ve=""+U.key),U)P.call(U,ce)&&!$.hasOwnProperty(ce)&&(xe[ce]=U[ce]);var Ce=arguments.length-2;if(Ce===1)xe.children=ne;else if(1<Ce){for(var Oe=Array(Ce),we=0;we<Ce;we++)Oe[we]=arguments[we+2];xe.children=Oe}if(A&&A.defaultProps)for(ce in Ce=A.defaultProps,Ce)xe[ce]===void 0&&(xe[ce]=Ce[ce]);return{$$typeof:t,type:A,key:ve,ref:ye,props:xe,_owner:F.current}}function J(A,U){return{$$typeof:t,type:A.type,key:U,ref:A.ref,props:A.props,_owner:A._owner}}function ee(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ae(A){var U={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ne){return U[ne]})}var Ie=/\/+/g;function Re(A,U){return typeof A=="object"&&A!==null&&A.key!=null?ae(""+A.key):U.toString(36)}function Me(A,U,ne,ce,xe){var ve=typeof A;(ve==="undefined"||ve==="boolean")&&(A=null);var ye=!1;if(A===null)ye=!0;else switch(ve){case"string":case"number":ye=!0;break;case"object":switch(A.$$typeof){case t:case e:ye=!0}}if(ye)return ye=A,xe=xe(ye),A=ce===""?"."+Re(ye,0):ce,D(xe)?(ne="",A!=null&&(ne=A.replace(Ie,"$&/")+"/"),Me(xe,U,ne,"",function(we){return we})):xe!=null&&(ee(xe)&&(xe=J(xe,ne+(!xe.key||ye&&ye.key===xe.key?"":(""+xe.key).replace(Ie,"$&/")+"/")+A)),U.push(xe)),1;if(ye=0,ce=ce===""?".":ce+":",D(A))for(var Ce=0;Ce<A.length;Ce++){ve=A[Ce];var Oe=ce+Re(ve,Ce);ye+=Me(ve,U,ne,Oe,xe)}else if(Oe=y(A),typeof Oe=="function")for(A=Oe.call(A),Ce=0;!(ve=A.next()).done;)ve=ve.value,Oe=ce+Re(ve,Ce++),ye+=Me(ve,U,ne,Oe,xe);else if(ve==="object")throw U=String(A),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ye}function De(A,U,ne){if(A==null)return A;var ce=[],xe=0;return Me(A,ce,"","",function(ve){return U.call(ne,ve,xe++)}),ce}function Pe(A){if(A._status===-1){var U=A._result;U=U(),U.then(function(ne){(A._status===0||A._status===-1)&&(A._status=1,A._result=ne)},function(ne){(A._status===0||A._status===-1)&&(A._status=2,A._result=ne)}),A._status===-1&&(A._status=0,A._result=U)}if(A._status===1)return A._result.default;throw A._result}var ge={current:null},j={transition:null},se={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:j,ReactCurrentOwner:F};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:De,forEach:function(A,U,ne){De(A,function(){U.apply(this,arguments)},ne)},count:function(A){var U=0;return De(A,function(){U++}),U},toArray:function(A){return De(A,function(U){return U})||[]},only:function(A){if(!ee(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ae.Component=S,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=T,Ae.StrictMode=r,Ae.Suspense=c,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ae.act=G,Ae.cloneElement=function(A,U,ne){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ce=k({},A.props),xe=A.key,ve=A.ref,ye=A._owner;if(U!=null){if(U.ref!==void 0&&(ve=U.ref,ye=F.current),U.key!==void 0&&(xe=""+U.key),A.type&&A.type.defaultProps)var Ce=A.type.defaultProps;for(Oe in U)P.call(U,Oe)&&!$.hasOwnProperty(Oe)&&(ce[Oe]=U[Oe]===void 0&&Ce!==void 0?Ce[Oe]:U[Oe])}var Oe=arguments.length-2;if(Oe===1)ce.children=ne;else if(1<Oe){Ce=Array(Oe);for(var we=0;we<Oe;we++)Ce[we]=arguments[we+2];ce.children=Ce}return{$$typeof:t,type:A.type,key:xe,ref:ve,props:ce,_owner:ye}},Ae.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:i,_context:A},A.Consumer=A},Ae.createElement=L,Ae.createFactory=function(A){var U=L.bind(null,A);return U.type=A,U},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(A){return{$$typeof:u,render:A}},Ae.isValidElement=ee,Ae.lazy=function(A){return{$$typeof:h,_payload:{_status:-1,_result:A},_init:Pe}},Ae.memo=function(A,U){return{$$typeof:f,type:A,compare:U===void 0?null:U}},Ae.startTransition=function(A){var U=j.transition;j.transition={};try{A()}finally{j.transition=U}},Ae.unstable_act=G,Ae.useCallback=function(A,U){return ge.current.useCallback(A,U)},Ae.useContext=function(A){return ge.current.useContext(A)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(A){return ge.current.useDeferredValue(A)},Ae.useEffect=function(A,U){return ge.current.useEffect(A,U)},Ae.useId=function(){return ge.current.useId()},Ae.useImperativeHandle=function(A,U,ne){return ge.current.useImperativeHandle(A,U,ne)},Ae.useInsertionEffect=function(A,U){return ge.current.useInsertionEffect(A,U)},Ae.useLayoutEffect=function(A,U){return ge.current.useLayoutEffect(A,U)},Ae.useMemo=function(A,U){return ge.current.useMemo(A,U)},Ae.useReducer=function(A,U,ne){return ge.current.useReducer(A,U,ne)},Ae.useRef=function(A){return ge.current.useRef(A)},Ae.useState=function(A){return ge.current.useState(A)},Ae.useSyncExternalStore=function(A,U,ne){return ge.current.useSyncExternalStore(A,U,ne)},Ae.useTransition=function(){return ge.current.useTransition()},Ae.version="18.3.1",Ae}var R0;function Va(){return R0||(R0=1,ep.exports=rM()),ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function oM(){if(_0)return Ql;_0=1;var t=Va(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var h,m={},y=null,v=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(h in c)r.call(c,h)&&!i.hasOwnProperty(h)&&(m[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:v,props:m,_owner:o.current}}return Ql.Fragment=n,Ql.jsx=l,Ql.jsxs=l,Ql}var z0;function iM(){return z0||(z0=1,Xh.exports=oM()),Xh.exports}var Wo=iM(),Wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sM={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},$o,Wm,j1,lM=(j1=class{constructor(){_e(this,$o,sM);_e(this,Wm,!1)}setTimeoutProvider(t){be(this,$o,t)}setTimeout(t,e){return B(this,$o).setTimeout(t,e)}clearTimeout(t){B(this,$o).clearTimeout(t)}setInterval(t,e){return B(this,$o).setInterval(t,e)}clearInterval(t){B(this,$o).clearInterval(t)}},$o=new WeakMap,Wm=new WeakMap,j1),Gp=new lM;function aM(t){setTimeout(t,0)}var Hd=typeof window>"u"||"Deno"in globalThis;function lr(){}function uM(t,e){return typeof t=="function"?t(e):t}function cM(t){return typeof t=="number"&&t>=0&&t!==1/0}function dM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qp(t,e){return typeof t=="function"?t(e):t}function fM(t,e){return typeof t=="function"?t(e):t}function L0(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==qm(l,e.options))return!1}else if(!xa(e.queryKey,l))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||o&&o!==e.state.fetchStatus||i&&!i(e))}function $0(t,e){const{exact:n,status:r,predicate:o,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Sa(e.options.mutationKey)!==Sa(i))return!1}else if(!xa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function qm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Sa)(t)}function Sa(t){return JSON.stringify(t,(e,n)=>Xp(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function xa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>xa(t[n],e[n])):!1}var hM=Object.prototype.hasOwnProperty;function Y1(t,e){if(t===e)return t;const n=F0(t)&&F0(e);if(!n&&!(Xp(t)&&Xp(e)))return e;const o=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),l=i.length,u=n?new Array(l):{};let c=0;for(let f=0;f<l;f++){const h=n?f:i[f],m=t[h],y=e[h];if(m===y){u[h]=m,(n?f<o:hM.call(t,h))&&c++;continue}if(m===null||y===null||typeof m!="object"||typeof y!="object"){u[h]=y;continue}const v=Y1(m,y);u[h]=v,v===m&&c++}return o===l&&c===o?t:u}function F0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xp(t){if(!j0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!j0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function j0(t){return Object.prototype.toString.call(t)==="[object Object]"}function pM(t){return new Promise(e=>{Gp.setTimeout(e,t)})}function mM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Y1(t,e):e}function gM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Zm=Symbol();function J1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Zm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function vM(t,e,n){let r=!1,o;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(o??(o=e()),r||(r=!0,o.aborted?n():o.addEventListener("abort",n,{once:!0})),o)}),t}var Ni,Fo,Vs,B1,wM=(B1=class extends Wd{constructor(){super();_e(this,Ni);_e(this,Fo);_e(this,Vs);be(this,Vs,e=>{if(!Hd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Fo)||this.setEventListener(B(this,Vs))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Fo))==null||e.call(this),be(this,Fo,void 0))}setEventListener(e){var n;be(this,Vs,e),(n=B(this,Fo))==null||n.call(this),be(this,Fo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Ni)!==e&&(be(this,Ni,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Ni)=="boolean"?B(this,Ni):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ni=new WeakMap,Fo=new WeakMap,Vs=new WeakMap,B1),G1=new wM;function kM(){let t,e;const n=new Promise((o,i)=>{t=o,e=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}var bM=aM;function SM(){let t=[],e=0,n=u=>{u()},r=u=>{u()},o=bM;const i=u=>{e?t.push(u):o(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&o(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||l()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{o=u}}}var nn=SM(),Us,jo,Ws,V1,xM=(V1=class extends Wd{constructor(){super();_e(this,Us,!0);_e(this,jo);_e(this,Ws);be(this,Ws,e=>{if(!Hd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,jo)||this.setEventListener(B(this,Ws))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,jo))==null||e.call(this),be(this,jo,void 0))}setEventListener(e){var n;be(this,Ws,e),(n=B(this,jo))==null||n.call(this),be(this,jo,e(this.setOnline.bind(this)))}setOnline(e){B(this,Us)!==e&&(be(this,Us,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Us)}},Us=new WeakMap,jo=new WeakMap,Ws=new WeakMap,V1),Fc=new xM;function CM(t){return Math.min(1e3*2**t,3e4)}function Q1(t){return(t??"online")==="online"?Fc.isOnline():!0}var em=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function X1(t){let e=!1,n=0,r;const o=kM(),i=()=>o.status!=="pending",l=b=>{var S;if(!i()){const C=new em(b);y(C),(S=t.onCancel)==null||S.call(t,C)}},u=()=>{e=!0},c=()=>{e=!1},f=()=>G1.isFocused()&&(t.networkMode==="always"||Fc.isOnline())&&t.canRun(),h=()=>Q1(t.networkMode)&&t.canRun(),m=b=>{i()||(r==null||r(),o.resolve(b))},y=b=>{i()||(r==null||r(),o.reject(b))},v=()=>new Promise(b=>{var S;r=C=>{(i()||f())&&b(C)},(S=t.onPause)==null||S.call(t)}).then(()=>{var b;r=void 0,i()||(b=t.onContinue)==null||b.call(t)}),k=()=>{if(i())return;let b;const S=n===0?t.initialPromise:void 0;try{b=S??t.fn()}catch(C){b=Promise.reject(C)}Promise.resolve(b).then(m).catch(C=>{var F;if(i())return;const T=t.retry??(Hd?0:3),N=t.retryDelay??CM,D=typeof N=="function"?N(n,C):N,P=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,C);if(e||!P){y(C);return}n++,(F=t.onFail)==null||F.call(t,n,C),pM(D).then(()=>f()?void 0:v()).then(()=>{e?y(C):k()})})};return{promise:o,status:()=>o.status,cancel:l,continue:()=>(r==null||r(),o),cancelRetry:u,continueRetry:c,canStart:h,start:()=>(h()?k():v().then(k),o)}}var Di,U1,eb=(U1=class{constructor(){_e(this,Di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cM(this.gcTime)&&be(this,Di,Gp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hd?1/0:300*1e3))}clearGcTimeout(){B(this,Di)&&(Gp.clearTimeout(B(this,Di)),be(this,Di,void 0))}},Di=new WeakMap,U1),Ai,Hs,Bn,Ii,Ot,Fa,Pi,ar,Kr,W1,EM=(W1=class extends eb{constructor(e){super();_e(this,ar);_e(this,Ai);_e(this,Hs);_e(this,Bn);_e(this,Ii);_e(this,Ot);_e(this,Fa);_e(this,Pi);be(this,Pi,!1),be(this,Fa,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,Ii,e.client),be(this,Bn,B(this,Ii).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,Ai,V0(this.options)),this.state=e.state??B(this,Ai),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=B(this,Ot))==null?void 0:e.promise}setOptions(e){if(this.options={...B(this,Fa),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=V0(this.options);n.data!==void 0&&(this.setState(B0(n.data,n.dataUpdatedAt)),be(this,Ai,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Bn).remove(this)}setData(e,n){const r=mM(this.state.data,e,this.options);return Zt(this,ar,Kr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Zt(this,ar,Kr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,o;const n=(r=B(this,Ot))==null?void 0:r.promise;return(o=B(this,Ot))==null||o.cancel(e),n?n.then(lr).catch(lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Ai))}isActive(){return this.observers.some(e=>fM(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!dM(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,Ot))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,Ot))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,Bn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(B(this,Ot)&&(B(this,Pi)?B(this,Ot).cancel({revert:!0}):B(this,Ot).cancelRetry()),this.scheduleGc()),B(this,Bn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,ar,Kr).call(this,{type:"invalidate"})}async fetch(e,n){var c,f,h,m,y,v,k,b,S,C,T,N;if(this.state.fetchStatus!=="idle"&&((c=B(this,Ot))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Ot))return B(this,Ot).continueRetry(),B(this,Ot).promise}if(e&&this.setOptions(e),!this.options.queryFn){const D=this.observers.find(P=>P.options.queryFn);D&&this.setOptions(D.options)}const r=new AbortController,o=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(be(this,Pi,!0),r.signal)})},i=()=>{const D=J1(this.options,n),F=(()=>{const $={client:B(this,Ii),queryKey:this.queryKey,meta:this.meta};return o($),$})();return be(this,Pi,!1),this.options.persister?this.options.persister(D,F,this):D(F)},u=(()=>{const D={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Ii),state:this.state,fetchFn:i};return o(D),D})();(f=this.options.behavior)==null||f.onFetch(u,this),be(this,Hs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=u.fetchOptions)==null?void 0:h.meta))&&Zt(this,ar,Kr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),be(this,Ot,X1({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:D=>{D instanceof em&&D.revert&&this.setState({...B(this,Hs),fetchStatus:"idle"}),r.abort()},onFail:(D,P)=>{Zt(this,ar,Kr).call(this,{type:"failed",failureCount:D,error:P})},onPause:()=>{Zt(this,ar,Kr).call(this,{type:"pause"})},onContinue:()=>{Zt(this,ar,Kr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const D=await B(this,Ot).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(v=(y=B(this,Bn).config).onSuccess)==null||v.call(y,D,this),(b=(k=B(this,Bn).config).onSettled)==null||b.call(k,D,this.state.error,this),D}catch(D){if(D instanceof em){if(D.silent)return B(this,Ot).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw Zt(this,ar,Kr).call(this,{type:"error",error:D}),(C=(S=B(this,Bn).config).onError)==null||C.call(S,D,this),(N=(T=B(this,Bn).config).onSettled)==null||N.call(T,this.state.data,D,this),D}finally{this.scheduleGc()}}},Ai=new WeakMap,Hs=new WeakMap,Bn=new WeakMap,Ii=new WeakMap,Ot=new WeakMap,Fa=new WeakMap,Pi=new WeakMap,ar=new WeakSet,Kr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TM(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,...B0(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,Hs,e.manual?o:void 0),o;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,Bn).notify({query:this,type:"updated",action:e})})},W1);function TM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function B0(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function V0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function U0(t){return{onFetch:(e,n)=>{var h,m,y,v,k;const r=e.options,o=(y=(m=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],l=((k=e.state.data)==null?void 0:k.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const f=async()=>{let b=!1;const S=N=>{vM(N,()=>e.signal,()=>b=!0)},C=J1(e.options,e.fetchOptions),T=async(N,D,P)=>{if(b)return Promise.reject();if(D==null&&N.pages.length)return Promise.resolve(N);const $=(()=>{const ae={client:e.client,queryKey:e.queryKey,pageParam:D,direction:P?"backward":"forward",meta:e.options.meta};return S(ae),ae})(),L=await C($),{maxPages:J}=e.options,ee=P?yM:gM;return{pages:ee(N.pages,L,J),pageParams:ee(N.pageParams,D,J)}};if(o&&i.length){const N=o==="backward",D=N?MM:W0,P={pages:i,pageParams:l},F=D(r,P);u=await T(P,F,N)}else{const N=t??i.length;do{const D=c===0?l[0]??r.initialPageParam:W0(r,u);if(c>0&&D==null)break;u=await T(u,D),c++}while(c<N)}return u};e.options.persister?e.fetchFn=()=>{var b,S;return(S=(b=e.options).persister)==null?void 0:S.call(b,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function W0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function MM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ja,Er,tn,Ri,Tr,Do,H1,OM=(H1=class extends eb{constructor(e){super();_e(this,Tr);_e(this,ja);_e(this,Er);_e(this,tn);_e(this,Ri);be(this,ja,e.client),this.mutationId=e.mutationId,be(this,tn,e.mutationCache),be(this,Er,[]),this.state=e.state||NM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,Er).includes(e)||(B(this,Er).push(e),this.clearGcTimeout(),B(this,tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,Er,B(this,Er).filter(n=>n!==e)),this.scheduleGc(),B(this,tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,Er).length||(this.state.status==="pending"?this.scheduleGc():B(this,tn).remove(this))}continue(){var e;return((e=B(this,Ri))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,u,c,f,h,m,y,v,k,b,S,C,T,N,D,P,F,$,L,J;const n=()=>{Zt(this,Tr,Do).call(this,{type:"continue"})},r={client:B(this,ja),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,Ri,X1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(ee,ae)=>{Zt(this,Tr,Do).call(this,{type:"failed",failureCount:ee,error:ae})},onPause:()=>{Zt(this,Tr,Do).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,tn).canRun(this)}));const o=this.state.status==="pending",i=!B(this,Ri).canStart();try{if(o)n();else{Zt(this,Tr,Do).call(this,{type:"pending",variables:e,isPaused:i}),await((u=(l=B(this,tn).config).onMutate)==null?void 0:u.call(l,e,this,r));const ae=await((f=(c=this.options).onMutate)==null?void 0:f.call(c,e,r));ae!==this.state.context&&Zt(this,Tr,Do).call(this,{type:"pending",context:ae,variables:e,isPaused:i})}const ee=await B(this,Ri).start();return await((m=(h=B(this,tn).config).onSuccess)==null?void 0:m.call(h,ee,e,this.state.context,this,r)),await((v=(y=this.options).onSuccess)==null?void 0:v.call(y,ee,e,this.state.context,r)),await((b=(k=B(this,tn).config).onSettled)==null?void 0:b.call(k,ee,null,this.state.variables,this.state.context,this,r)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,ee,null,e,this.state.context,r)),Zt(this,Tr,Do).call(this,{type:"success",data:ee}),ee}catch(ee){try{await((N=(T=B(this,tn).config).onError)==null?void 0:N.call(T,ee,e,this.state.context,this,r))}catch(ae){Promise.reject(ae)}try{await((P=(D=this.options).onError)==null?void 0:P.call(D,ee,e,this.state.context,r))}catch(ae){Promise.reject(ae)}try{await(($=(F=B(this,tn).config).onSettled)==null?void 0:$.call(F,void 0,ee,this.state.variables,this.state.context,this,r))}catch(ae){Promise.reject(ae)}try{await((J=(L=this.options).onSettled)==null?void 0:J.call(L,void 0,ee,e,this.state.context,r))}catch(ae){Promise.reject(ae)}throw Zt(this,Tr,Do).call(this,{type:"error",error:ee}),ee}finally{B(this,tn).runNext(this)}}},ja=new WeakMap,Er=new WeakMap,tn=new WeakMap,Ri=new WeakMap,Tr=new WeakSet,Do=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nn.batch(()=>{B(this,Er).forEach(r=>{r.onMutationUpdate(e)}),B(this,tn).notify({mutation:this,type:"updated",action:e})})},H1);function NM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gr,ur,Ba,q1,DM=(q1=class extends Wd{constructor(e={}){super();_e(this,Gr);_e(this,ur);_e(this,Ba);this.config=e,be(this,Gr,new Set),be(this,ur,new Map),be(this,Ba,0)}build(e,n,r){const o=new OM({client:e,mutationCache:this,mutationId:++ac(this,Ba)._,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){B(this,Gr).add(e);const n=uc(e);if(typeof n=="string"){const r=B(this,ur).get(n);r?r.push(e):B(this,ur).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Gr).delete(e)){const n=uc(e);if(typeof n=="string"){const r=B(this,ur).get(n);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&B(this,ur).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=uc(e);if(typeof n=="string"){const r=B(this,ur).get(n),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const n=uc(e);if(typeof n=="string"){const o=(r=B(this,ur).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{B(this,Gr).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Gr).clear(),B(this,ur).clear()})}getAll(){return Array.from(B(this,Gr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$0(n,r))}findAll(e={}){return this.getAll().filter(n=>$0(e,n))}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(lr))))}},Gr=new WeakMap,ur=new WeakMap,Ba=new WeakMap,q1);function uc(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Mr,Z1,AM=(Z1=class extends Wd{constructor(e={}){super();_e(this,Mr);this.config=e,be(this,Mr,new Map)}build(e,n,r){const o=n.queryKey,i=n.queryHash??qm(o,n);let l=this.get(i);return l||(l=new EM({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(l)),l}add(e){B(this,Mr).has(e.queryHash)||(B(this,Mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Mr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Mr).get(e)}getAll(){return[...B(this,Mr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>L0(e,r)):n}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mr=new WeakMap,Z1),at,Bo,Vo,qs,Zs,Uo,Ks,Ys,K1,qV=(K1=class{constructor(t={}){_e(this,at);_e(this,Bo);_e(this,Vo);_e(this,qs);_e(this,Zs);_e(this,Uo);_e(this,Ks);_e(this,Ys);be(this,at,t.queryCache||new AM),be(this,Bo,t.mutationCache||new DM),be(this,Vo,t.defaultOptions||{}),be(this,qs,new Map),be(this,Zs,new Map),be(this,Uo,0)}mount(){ac(this,Uo)._++,B(this,Uo)===1&&(be(this,Ks,G1.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,at).onFocus())})),be(this,Ys,Fc.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,at).onOnline())})))}unmount(){var t,e;ac(this,Uo)._--,B(this,Uo)===0&&((t=B(this,Ks))==null||t.call(this),be(this,Ks,void 0),(e=B(this,Ys))==null||e.call(this),be(this,Ys,void 0))}isFetching(t){return B(this,at).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Bo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,at).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,at).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Qp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,at).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=B(this,at).get(r.queryHash),i=o==null?void 0:o.state.data,l=uM(e,i);if(l!==void 0)return B(this,at).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return nn.batch(()=>B(this,at).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,at).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,at);nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,at);return nn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=nn.batch(()=>B(this,at).findAll(t).map(o=>o.cancel(n)));return Promise.all(r).then(lr).catch(lr)}invalidateQueries(t,e={}){return nn.batch(()=>(B(this,at).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=nn.batch(()=>B(this,at).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,n);return n.throwOnError||(i=i.catch(lr)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(lr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,at).build(this,e);return n.isStaleByTime(Qp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(lr).catch(lr)}fetchInfiniteQuery(t){return t.behavior=U0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(lr).catch(lr)}ensureInfiniteQueryData(t){return t.behavior=U0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fc.isOnline()?B(this,Bo).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,at)}getMutationCache(){return B(this,Bo)}getDefaultOptions(){return B(this,Vo)}setDefaultOptions(t){be(this,Vo,t)}setQueryDefaults(t,e){B(this,qs).set(Sa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,qs).values()],n={};return e.forEach(r=>{xa(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Zs).set(Sa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Zs).values()],n={};return e.forEach(r=>{xa(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Vo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Zm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Vo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,at).clear(),B(this,Bo).clear()}},at=new WeakMap,Bo=new WeakMap,Vo=new WeakMap,qs=new WeakMap,Zs=new WeakMap,Uo=new WeakMap,Ks=new WeakMap,Ys=new WeakMap,K1),z=Va();const Le=Hm(z);var IM=z.createContext(void 0),ZV=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Wo.jsx(IM.Provider,{value:t,children:e})),cc={},tp={exports:{}},vn={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function PM(){return H0||(H0=1,(function(t){function e(j,se){var G=j.length;j.push(se);e:for(;0<G;){var A=G-1>>>1,U=j[A];if(0<o(U,se))j[A]=se,j[G]=U,G=A;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var se=j[0],G=j.pop();if(G!==se){j[0]=G;e:for(var A=0,U=j.length,ne=U>>>1;A<ne;){var ce=2*(A+1)-1,xe=j[ce],ve=ce+1,ye=j[ve];if(0>o(xe,G))ve<U&&0>o(ye,xe)?(j[A]=ye,j[ve]=G,A=ve):(j[A]=xe,j[ce]=G,A=ce);else if(ve<U&&0>o(ye,G))j[A]=ye,j[ve]=G,A=ve;else break e}}return se}function o(j,se){var G=j.sortIndex-se.sortIndex;return G!==0?G:j.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],h=1,m=null,y=3,v=!1,k=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(j){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=j)r(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=n(f)}}function D(j){if(b=!1,N(j),!k)if(n(c)!==null)k=!0,Pe(P);else{var se=n(f);se!==null&&ge(D,se.startTime-j)}}function P(j,se){k=!1,b&&(b=!1,C(L),L=-1),v=!0;var G=y;try{for(N(se),m=n(c);m!==null&&(!(m.expirationTime>se)||j&&!ae());){var A=m.callback;if(typeof A=="function"){m.callback=null,y=m.priorityLevel;var U=A(m.expirationTime<=se);se=t.unstable_now(),typeof U=="function"?m.callback=U:m===n(c)&&r(c),N(se)}else r(c);m=n(c)}if(m!==null)var ne=!0;else{var ce=n(f);ce!==null&&ge(D,ce.startTime-se),ne=!1}return ne}finally{m=null,y=G,v=!1}}var F=!1,$=null,L=-1,J=5,ee=-1;function ae(){return!(t.unstable_now()-ee<J)}function Ie(){if($!==null){var j=t.unstable_now();ee=j;var se=!0;try{se=$(!0,j)}finally{se?Re():(F=!1,$=null)}}else F=!1}var Re;if(typeof T=="function")Re=function(){T(Ie)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,De=Me.port2;Me.port1.onmessage=Ie,Re=function(){De.postMessage(null)}}else Re=function(){S(Ie,0)};function Pe(j){$=j,F||(F=!0,Re())}function ge(j,se){L=S(function(){j(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){k||v||(k=!0,Pe(P))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var G=y;y=se;try{return j()}finally{y=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,se){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=y;y=j;try{return se()}finally{y=G}},t.unstable_scheduleCallback=function(j,se,G){var A=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?A+G:A):G=A,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=G+U,j={id:h++,callback:se,priorityLevel:j,startTime:G,expirationTime:U,sortIndex:-1},G>A?(j.sortIndex=G,e(f,j),n(c)===null&&j===n(f)&&(b?(C(L),L=-1):b=!0,ge(D,G-A))):(j.sortIndex=U,e(c,j),k||v||(k=!0,Pe(P))),j},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(j){var se=y;return function(){var G=y;y=se;try{return j.apply(this,arguments)}finally{y=G}}}})(rp)),rp}var q0;function RM(){return q0||(q0=1,np.exports=PM()),np.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function _M(){if(Z0)return vn;Z0=1;var t=Va(),e=RM();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(s){return c.call(m,s)?!0:c.call(h,s)?!1:f.test(s)?m[s]=!0:(h[s]=!0,!1)}function v(s,a,d,p){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,d,p){if(a===null||typeof a>"u"||v(s,a,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,d,p,g,w,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=x}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,T);S[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,T);S[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,T);S[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,a,d,p){var g=S.hasOwnProperty(a)?S[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,d,g,p)&&(d=null),p||g===null?y(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):g.mustUseProperty?s[g.propertyName]=d===null?g.type===3?!1:"":d:(a=g.attributeName,p=g.attributeNamespace,d===null?s.removeAttribute(a):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,p?s.setAttributeNS(p,a,d):s.setAttribute(a,d))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ae=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),j=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var G=Object.assign,A;function U(s){if(A===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+s}var ne=!1;function ce(s,a){if(!s||ne)return"";ne=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(_){var p=_}Reflect.construct(s,[],a)}else{try{a.call()}catch(_){p=_}s.call(a.prototype)}else{try{throw Error()}catch(_){p=_}s()}}catch(_){if(_&&p&&typeof _.stack=="string"){for(var g=_.stack.split(`
`),w=p.stack.split(`
`),x=g.length-1,E=w.length-1;1<=x&&0<=E&&g[x]!==w[E];)E--;for(;1<=x&&0<=E;x--,E--)if(g[x]!==w[E]){if(x!==1||E!==1)do if(x--,E--,0>E||g[x]!==w[E]){var M=`
`+g[x].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=x&&0<=E);break}}}finally{ne=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?U(s):""}function xe(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case $:return"Fragment";case F:return"Portal";case J:return"Profiler";case L:return"StrictMode";case Re:return"Suspense";case Me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ae:return(s.displayName||"Context")+".Consumer";case ee:return(s._context.displayName||"Context")+".Provider";case Ie:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case De:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case Pe:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}function ye(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function we(s){var a=Oe(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,w=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){p=""+x,w.call(this,x)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(x){p=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function un(s){s._valueTracker||(s._valueTracker=we(s))}function Ct(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),p="";return s&&(p=Oe(s)?s.checked?"true":"false":s.value),s=p,s!==d?(a.setValue(s),!0):!1}function Kn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xn(s,a){var d=a.checked;return G({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Ir(s,a){var d=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;d=Ce(a.value!=null?a.value:d),s._wrapperState={initialChecked:p,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Pr(s,a){a=a.checked,a!=null&&N(s,"checked",a,!1)}function Qi(s,a){Pr(s,a);var d=Ce(a.value),p=a.type;if(d!=null)p==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?li(s,a.type,d):a.hasOwnProperty("defaultValue")&&li(s,a.type,Ce(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function dl(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function li(s,a,d){(a!=="number"||Kn(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var cn=Array.isArray;function Yn(s,a,d,p){if(s=s.options,a){a={};for(var g=0;g<d.length;g++)a["$"+d[g]]=!0;for(d=0;d<s.length;d++)g=a.hasOwnProperty("$"+s[d].value),s[d].selected!==g&&(s[d].selected=g),g&&p&&(s[d].defaultSelected=!0)}else{for(d=""+Ce(d),a=null,g=0;g<s.length;g++){if(s[g].value===d){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ro(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fl(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(cn(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:Ce(d)}}function hl(s,a){var d=Ce(a.value),p=Ce(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),p!=null&&(s.defaultValue=""+p)}function Qa(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Xa(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mr(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Xa(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Jn,oo=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,d,p,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Jn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function io(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eu=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(s){eu.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),dn[a]=dn[s]})});function tu(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||dn.hasOwnProperty(s)&&dn[s]?(""+a).trim():a+"px"}function nu(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var p=d.indexOf("--")===0,g=tu(d,a[d],p);d==="float"&&(d="cssFloat"),p?s.setProperty(d,g):s[d]=g}}var pl=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xi(s,a){if(a){if(pl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ml(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var es=null;function gl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yl=null,so=null,Xe=null;function Ft(s){if(s=Ll(s)){if(typeof yl!="function")throw Error(n(280));var a=s.stateNode;a&&(a=xu(a),yl(s.stateNode,s.type,a))}}function jt(s){so?Xe?Xe.push(s):Xe=[s]:so=s}function Gn(){if(so){var s=so,a=Xe;if(Xe=so=null,Ft(s),a)for(s=0;s<a.length;s++)Ft(a[s])}}function Gt(s,a){return s(a)}function Bt(){}var fn=!1;function Rr(s,a,d){if(fn)return s(a,d);fn=!0;try{return Gt(s,a,d)}finally{fn=!1,(so!==null||Xe!==null)&&(Bt(),Gn())}}function et(s,a){var d=s.stateNode;if(d===null)return null;var p=xu(d);if(p===null)return null;d=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var In=!1;if(u)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){In=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{In=!1}function Qn(s,a,d,p,g,w,x,E,M){var _=Array.prototype.slice.call(arguments,3);try{a.apply(d,_)}catch(H){this.onError(H)}}var Xn=!1,gr=null,Cn=!1,_r=null,vl={onError:function(s){Xn=!0,gr=s}};function dE(s,a,d,p,g,w,x,E,M){Xn=!1,gr=null,Qn.apply(vl,arguments)}function fE(s,a,d,p,g,w,x,E,M){if(dE.apply(this,arguments),Xn){if(Xn){var _=gr;Xn=!1,gr=null}else throw Error(n(198));Cn||(Cn=!0,_r=_)}}function ai(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function ty(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function ny(s){if(ai(s)!==s)throw Error(n(188))}function hE(s){var a=s.alternate;if(!a){if(a=ai(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,p=a;;){var g=d.return;if(g===null)break;var w=g.alternate;if(w===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===d)return ny(g),s;if(w===p)return ny(g),a;w=w.sibling}throw Error(n(188))}if(d.return!==p.return)d=g,p=w;else{for(var x=!1,E=g.child;E;){if(E===d){x=!0,d=g,p=w;break}if(E===p){x=!0,p=g,d=w;break}E=E.sibling}if(!x){for(E=w.child;E;){if(E===d){x=!0,d=w,p=g;break}if(E===p){x=!0,p=w,d=g;break}E=E.sibling}if(!x)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function ry(s){return s=hE(s),s!==null?oy(s):null}function oy(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=oy(s);if(a!==null)return a;s=s.sibling}return null}var iy=e.unstable_scheduleCallback,sy=e.unstable_cancelCallback,pE=e.unstable_shouldYield,mE=e.unstable_requestPaint,ct=e.unstable_now,gE=e.unstable_getCurrentPriorityLevel,vf=e.unstable_ImmediatePriority,ly=e.unstable_UserBlockingPriority,ru=e.unstable_NormalPriority,yE=e.unstable_LowPriority,ay=e.unstable_IdlePriority,ou=null,yr=null;function vE(s){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(ou,s,void 0,(s.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:bE,wE=Math.log,kE=Math.LN2;function bE(s){return s>>>=0,s===0?32:31-(wE(s)/kE|0)|0}var iu=64,su=4194304;function wl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function lu(s,a){var d=s.pendingLanes;if(d===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes,x=d&268435455;if(x!==0){var E=x&~g;E!==0?p=wl(E):(w&=x,w!==0&&(p=wl(w)))}else x=d&~g,x!==0?p=wl(x):w!==0&&(p=wl(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)d=31-er(a),g=1<<d,p|=s[d],a&=~g;return p}function SE(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xE(s,a){for(var d=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var x=31-er(w),E=1<<x,M=g[x];M===-1?((E&d)===0||(E&p)!==0)&&(g[x]=SE(E,a)):M<=a&&(s.expiredLanes|=E),w&=~E}}function wf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function uy(){var s=iu;return iu<<=1,(iu&4194240)===0&&(iu=64),s}function kf(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function kl(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-er(a),s[a]=d}function CE(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<d;){var g=31-er(d),w=1<<g;a[g]=0,p[g]=-1,s[g]=-1,d&=~w}}function bf(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var p=31-er(d),g=1<<p;g&a|s[p]&a&&(s[p]|=a),d&=~g}}var je=0;function cy(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var dy,Sf,fy,hy,py,xf=!1,au=[],lo=null,ao=null,uo=null,bl=new Map,Sl=new Map,co=[],EE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(s,a){switch(s){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":bl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(a.pointerId)}}function xl(s,a,d,p,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[g]},a!==null&&(a=Ll(a),a!==null&&Sf(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function TE(s,a,d,p,g){switch(a){case"focusin":return lo=xl(lo,s,a,d,p,g),!0;case"dragenter":return ao=xl(ao,s,a,d,p,g),!0;case"mouseover":return uo=xl(uo,s,a,d,p,g),!0;case"pointerover":var w=g.pointerId;return bl.set(w,xl(bl.get(w)||null,s,a,d,p,g)),!0;case"gotpointercapture":return w=g.pointerId,Sl.set(w,xl(Sl.get(w)||null,s,a,d,p,g)),!0}return!1}function gy(s){var a=ui(s.target);if(a!==null){var d=ai(a);if(d!==null){if(a=d.tag,a===13){if(a=ty(d),a!==null){s.blockedOn=a,py(s.priority,function(){fy(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function uu(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=Ef(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);es=p,d.target.dispatchEvent(p),es=null}else return a=Ll(d),a!==null&&Sf(a),s.blockedOn=d,!1;a.shift()}return!0}function yy(s,a,d){uu(s)&&d.delete(a)}function ME(){xf=!1,lo!==null&&uu(lo)&&(lo=null),ao!==null&&uu(ao)&&(ao=null),uo!==null&&uu(uo)&&(uo=null),bl.forEach(yy),Sl.forEach(yy)}function Cl(s,a){s.blockedOn===a&&(s.blockedOn=null,xf||(xf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ME)))}function El(s){function a(g){return Cl(g,s)}if(0<au.length){Cl(au[0],s);for(var d=1;d<au.length;d++){var p=au[d];p.blockedOn===s&&(p.blockedOn=null)}}for(lo!==null&&Cl(lo,s),ao!==null&&Cl(ao,s),uo!==null&&Cl(uo,s),bl.forEach(a),Sl.forEach(a),d=0;d<co.length;d++)p=co[d],p.blockedOn===s&&(p.blockedOn=null);for(;0<co.length&&(d=co[0],d.blockedOn===null);)gy(d),d.blockedOn===null&&co.shift()}var ts=D.ReactCurrentBatchConfig,cu=!0;function OE(s,a,d,p){var g=je,w=ts.transition;ts.transition=null;try{je=1,Cf(s,a,d,p)}finally{je=g,ts.transition=w}}function NE(s,a,d,p){var g=je,w=ts.transition;ts.transition=null;try{je=4,Cf(s,a,d,p)}finally{je=g,ts.transition=w}}function Cf(s,a,d,p){if(cu){var g=Ef(s,a,d,p);if(g===null)Vf(s,a,p,du,d),my(s,p);else if(TE(g,s,a,d,p))p.stopPropagation();else if(my(s,p),a&4&&-1<EE.indexOf(s)){for(;g!==null;){var w=Ll(g);if(w!==null&&dy(w),w=Ef(s,a,d,p),w===null&&Vf(s,a,p,du,d),w===g)break;g=w}g!==null&&p.stopPropagation()}else Vf(s,a,p,null,d)}}var du=null;function Ef(s,a,d,p){if(du=null,s=gl(p),s=ui(s),s!==null)if(a=ai(s),a===null)s=null;else if(d=a.tag,d===13){if(s=ty(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return du=s,null}function vy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gE()){case vf:return 1;case ly:return 4;case ru:case yE:return 16;case ay:return 536870912;default:return 16}default:return 16}}var fo=null,Tf=null,fu=null;function wy(){if(fu)return fu;var s,a=Tf,d=a.length,p,g="value"in fo?fo.value:fo.textContent,w=g.length;for(s=0;s<d&&a[s]===g[s];s++);var x=d-s;for(p=1;p<=x&&a[d-p]===g[w-p];p++);return fu=g.slice(s,1<p?1-p:void 0)}function hu(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function pu(){return!0}function ky(){return!1}function En(s){function a(d,p,g,w,x){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=x,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(d=s[E],this[E]=d?d(w):w[E]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?pu:ky,this.isPropagationStopped=ky,this}return G(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),a}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=En(ns),Tl=G({},ns,{view:0,detail:0}),DE=En(Tl),Of,Nf,Ml,mu=G({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ml&&(Ml&&s.type==="mousemove"?(Of=s.screenX-Ml.screenX,Nf=s.screenY-Ml.screenY):Nf=Of=0,Ml=s),Of)},movementY:function(s){return"movementY"in s?s.movementY:Nf}}),by=En(mu),AE=G({},mu,{dataTransfer:0}),IE=En(AE),PE=G({},Tl,{relatedTarget:0}),Df=En(PE),RE=G({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),_E=En(RE),zE=G({},ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),LE=En(zE),$E=G({},ns,{data:0}),Sy=En($E),FE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VE(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=BE[s])?!!a[s]:!1}function Af(){return VE}var UE=G({},Tl,{key:function(s){if(s.key){var a=FE[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=hu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jE[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(s){return s.type==="keypress"?hu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?hu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),WE=En(UE),HE=G({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=En(HE),qE=G({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),ZE=En(qE),KE=G({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),YE=En(KE),JE=G({},mu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),GE=En(JE),QE=[9,13,27,32],If=u&&"CompositionEvent"in window,Ol=null;u&&"documentMode"in document&&(Ol=document.documentMode);var XE=u&&"TextEvent"in window&&!Ol,Cy=u&&(!If||Ol&&8<Ol&&11>=Ol),Ey=" ",Ty=!1;function My(s,a){switch(s){case"keyup":return QE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rs=!1;function eT(s,a){switch(s){case"compositionend":return Oy(a);case"keypress":return a.which!==32?null:(Ty=!0,Ey);case"textInput":return s=a.data,s===Ey&&Ty?null:s;default:return null}}function tT(s,a){if(rs)return s==="compositionend"||!If&&My(s,a)?(s=wy(),fu=Tf=fo=null,rs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Cy&&a.locale!=="ko"?null:a.data;default:return null}}var nT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nT[s.type]:a==="textarea"}function Dy(s,a,d,p){jt(p),a=ku(a,"onChange"),0<a.length&&(d=new Mf("onChange","change",null,d,p),s.push({event:d,listeners:a}))}var Nl=null,Dl=null;function rT(s){Ky(s,0)}function gu(s){var a=us(s);if(Ct(a))return s}function oT(s,a){if(s==="change")return a}var Ay=!1;if(u){var Pf;if(u){var Rf="oninput"in document;if(!Rf){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Rf=typeof Iy.oninput=="function"}Pf=Rf}else Pf=!1;Ay=Pf&&(!document.documentMode||9<document.documentMode)}function Py(){Nl&&(Nl.detachEvent("onpropertychange",Ry),Dl=Nl=null)}function Ry(s){if(s.propertyName==="value"&&gu(Dl)){var a=[];Dy(a,Dl,s,gl(s)),Rr(rT,a)}}function iT(s,a,d){s==="focusin"?(Py(),Nl=a,Dl=d,Nl.attachEvent("onpropertychange",Ry)):s==="focusout"&&Py()}function sT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gu(Dl)}function lT(s,a){if(s==="click")return gu(a)}function aT(s,a){if(s==="input"||s==="change")return gu(a)}function uT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var tr=typeof Object.is=="function"?Object.is:uT;function Al(s,a){if(tr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),p=Object.keys(a);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!c.call(a,g)||!tr(s[g],a[g]))return!1}return!0}function _y(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zy(s,a){var d=_y(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=a&&p>=a)return{node:d,offset:a-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=_y(d)}}function Ly(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ly(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function $y(){for(var s=window,a=Kn();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Kn(s.document)}return a}function _f(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function cT(s){var a=$y(),d=s.focusedElem,p=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&Ly(d.ownerDocument.documentElement,d)){if(p!==null&&_f(d)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=d.textContent.length,w=Math.min(p.start,g);p=p.end===void 0?w:Math.min(p.end,g),!s.extend&&w>p&&(g=p,p=w,w=g),g=zy(d,w);var x=zy(d,p);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var dT=u&&"documentMode"in document&&11>=document.documentMode,is=null,zf=null,Il=null,Lf=!1;function Fy(s,a,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Lf||is==null||is!==Kn(p)||(p=is,"selectionStart"in p&&_f(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Il&&Al(Il,p)||(Il=p,p=ku(zf,"onSelect"),0<p.length&&(a=new Mf("onSelect","select",null,a,d),s.push({event:a,listeners:p}),a.target=is)))}function yu(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var ss={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},$f={},jy={};u&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function vu(s){if($f[s])return $f[s];if(!ss[s])return s;var a=ss[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in jy)return $f[s]=a[d];return s}var By=vu("animationend"),Vy=vu("animationiteration"),Uy=vu("animationstart"),Wy=vu("transitionend"),Hy=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(s,a){Hy.set(s,a),i(a,[s])}for(var Ff=0;Ff<qy.length;Ff++){var jf=qy[Ff],fT=jf.toLowerCase(),hT=jf[0].toUpperCase()+jf.slice(1);ho(fT,"on"+hT)}ho(By,"onAnimationEnd"),ho(Vy,"onAnimationIteration"),ho(Uy,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(Wy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Zy(s,a,d){var p=s.type||"unknown-event";s.currentTarget=d,fE(p,a,void 0,s),s.currentTarget=null}function Ky(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],g=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var x=p.length-1;0<=x;x--){var E=p[x],M=E.instance,_=E.currentTarget;if(E=E.listener,M!==w&&g.isPropagationStopped())break e;Zy(g,E,_),w=M}else for(x=0;x<p.length;x++){if(E=p[x],M=E.instance,_=E.currentTarget,E=E.listener,M!==w&&g.isPropagationStopped())break e;Zy(g,E,_),w=M}}}if(Cn)throw s=_r,Cn=!1,_r=null,s}function qe(s,a){var d=a[Kf];d===void 0&&(d=a[Kf]=new Set);var p=s+"__bubble";d.has(p)||(Yy(a,s,2,!1),d.add(p))}function Bf(s,a,d){var p=0;a&&(p|=4),Yy(d,s,p,a)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Rl(s){if(!s[wu]){s[wu]=!0,r.forEach(function(d){d!=="selectionchange"&&(pT.has(d)||Bf(d,!1,s),Bf(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[wu]||(a[wu]=!0,Bf("selectionchange",!1,a))}}function Yy(s,a,d,p){switch(vy(a)){case 1:var g=OE;break;case 4:g=NE;break;default:g=Cf}d=g.bind(null,a,d,s),g=void 0,!In||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,d,{capture:!0,passive:g}):s.addEventListener(a,d,!0):g!==void 0?s.addEventListener(a,d,{passive:g}):s.addEventListener(a,d,!1)}function Vf(s,a,d,p,g){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var E=p.stateNode.containerInfo;if(E===g||E.nodeType===8&&E.parentNode===g)break;if(x===4)for(x=p.return;x!==null;){var M=x.tag;if((M===3||M===4)&&(M=x.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;x=x.return}for(;E!==null;){if(x=ui(E),x===null)return;if(M=x.tag,M===5||M===6){p=w=x;continue e}E=E.parentNode}}p=p.return}Rr(function(){var _=w,H=gl(d),Z=[];e:{var W=Hy.get(s);if(W!==void 0){var Q=Mf,re=s;switch(s){case"keypress":if(hu(d)===0)break e;case"keydown":case"keyup":Q=WE;break;case"focusin":re="focus",Q=Df;break;case"focusout":re="blur",Q=Df;break;case"beforeblur":case"afterblur":Q=Df;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=IE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ZE;break;case By:case Vy:case Uy:Q=_E;break;case Wy:Q=YE;break;case"scroll":Q=DE;break;case"wheel":Q=GE;break;case"copy":case"cut":case"paste":Q=LE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=xy}var le=(a&4)!==0,dt=!le&&s==="scroll",I=le?W!==null?W+"Capture":null:W;le=[];for(var O=_,R;O!==null;){R=O;var Y=R.stateNode;if(R.tag===5&&Y!==null&&(R=Y,I!==null&&(Y=et(O,I),Y!=null&&le.push(_l(O,Y,R)))),dt)break;O=O.return}0<le.length&&(W=new Q(W,re,null,d,H),Z.push({event:W,listeners:le}))}}if((a&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",W&&d!==es&&(re=d.relatedTarget||d.fromElement)&&(ui(re)||re[zr]))break e;if((Q||W)&&(W=H.window===H?H:(W=H.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(re=d.relatedTarget||d.toElement,Q=_,re=re?ui(re):null,re!==null&&(dt=ai(re),re!==dt||re.tag!==5&&re.tag!==6)&&(re=null)):(Q=null,re=_),Q!==re)){if(le=by,Y="onMouseLeave",I="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(le=xy,Y="onPointerLeave",I="onPointerEnter",O="pointer"),dt=Q==null?W:us(Q),R=re==null?W:us(re),W=new le(Y,O+"leave",Q,d,H),W.target=dt,W.relatedTarget=R,Y=null,ui(H)===_&&(le=new le(I,O+"enter",re,d,H),le.target=R,le.relatedTarget=dt,Y=le),dt=Y,Q&&re)t:{for(le=Q,I=re,O=0,R=le;R;R=ls(R))O++;for(R=0,Y=I;Y;Y=ls(Y))R++;for(;0<O-R;)le=ls(le),O--;for(;0<R-O;)I=ls(I),R--;for(;O--;){if(le===I||I!==null&&le===I.alternate)break t;le=ls(le),I=ls(I)}le=null}else le=null;Q!==null&&Jy(Z,W,Q,le,!1),re!==null&&dt!==null&&Jy(Z,dt,re,le,!0)}}e:{if(W=_?us(_):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var ue=oT;else if(Ny(W))if(Ay)ue=aT;else{ue=sT;var pe=iT}else(Q=W.nodeName)&&Q.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ue=lT);if(ue&&(ue=ue(s,_))){Dy(Z,ue,d,H);break e}pe&&pe(s,W,_),s==="focusout"&&(pe=W._wrapperState)&&pe.controlled&&W.type==="number"&&li(W,"number",W.value)}switch(pe=_?us(_):window,s){case"focusin":(Ny(pe)||pe.contentEditable==="true")&&(is=pe,zf=_,Il=null);break;case"focusout":Il=zf=is=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Fy(Z,d,H);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Fy(Z,d,H)}var me;if(If)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else rs?My(s,d)&&(ke="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ke="onCompositionStart");ke&&(Cy&&d.locale!=="ko"&&(rs||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&rs&&(me=wy()):(fo=H,Tf="value"in fo?fo.value:fo.textContent,rs=!0)),pe=ku(_,ke),0<pe.length&&(ke=new Sy(ke,s,null,d,H),Z.push({event:ke,listeners:pe}),me?ke.data=me:(me=Oy(d),me!==null&&(ke.data=me)))),(me=XE?eT(s,d):tT(s,d))&&(_=ku(_,"onBeforeInput"),0<_.length&&(H=new Sy("onBeforeInput","beforeinput",null,d,H),Z.push({event:H,listeners:_}),H.data=me))}Ky(Z,a)})}function _l(s,a,d){return{instance:s,listener:a,currentTarget:d}}function ku(s,a){for(var d=a+"Capture",p=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=et(s,d),w!=null&&p.unshift(_l(s,w,g)),w=et(s,a),w!=null&&p.push(_l(s,w,g))),s=s.return}return p}function ls(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Jy(s,a,d,p,g){for(var w=a._reactName,x=[];d!==null&&d!==p;){var E=d,M=E.alternate,_=E.stateNode;if(M!==null&&M===p)break;E.tag===5&&_!==null&&(E=_,g?(M=et(d,w),M!=null&&x.unshift(_l(d,M,E))):g||(M=et(d,w),M!=null&&x.push(_l(d,M,E)))),d=d.return}x.length!==0&&s.push({event:a,listeners:x})}var mT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function Gy(s){return(typeof s=="string"?s:""+s).replace(mT,`
`).replace(gT,"")}function bu(s,a,d){if(a=Gy(a),Gy(s)!==a&&d)throw Error(n(425))}function Su(){}var Uf=null,Wf=null;function Hf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,vT=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(s){return Qy.resolve(null).then(s).catch(wT)}:qf;function wT(s){setTimeout(function(){throw s})}function Zf(s,a){var d=a,p=0;do{var g=d.nextSibling;if(s.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(p===0){s.removeChild(g),El(a);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=g}while(d);El(a)}function po(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Xy(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var as=Math.random().toString(36).slice(2),vr="__reactFiber$"+as,zl="__reactProps$"+as,zr="__reactContainer$"+as,Kf="__reactEvents$"+as,kT="__reactListeners$"+as,bT="__reactHandles$"+as;function ui(s){var a=s[vr];if(a)return a;for(var d=s.parentNode;d;){if(a=d[zr]||d[vr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=Xy(s);s!==null;){if(d=s[vr])return d;s=Xy(s)}return a}s=d,d=s.parentNode}return null}function Ll(s){return s=s[vr]||s[zr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function us(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function xu(s){return s[zl]||null}var Yf=[],cs=-1;function mo(s){return{current:s}}function Ze(s){0>cs||(s.current=Yf[cs],Yf[cs]=null,cs--)}function We(s,a){cs++,Yf[cs]=s.current,s.current=a}var go={},Ut=mo(go),hn=mo(!1),ci=go;function ds(s,a){var d=s.type.contextTypes;if(!d)return go;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in d)g[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function pn(s){return s=s.childContextTypes,s!=null}function Cu(){Ze(hn),Ze(Ut)}function ev(s,a,d){if(Ut.current!==go)throw Error(n(168));We(Ut,a),We(hn,d)}function tv(s,a,d){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(n(108,ye(s)||"Unknown",g));return G({},d,p)}function Eu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||go,ci=Ut.current,We(Ut,s),We(hn,hn.current),!0}function nv(s,a,d){var p=s.stateNode;if(!p)throw Error(n(169));d?(s=tv(s,a,ci),p.__reactInternalMemoizedMergedChildContext=s,Ze(hn),Ze(Ut),We(Ut,s)):Ze(hn),We(hn,d)}var Lr=null,Tu=!1,Jf=!1;function rv(s){Lr===null?Lr=[s]:Lr.push(s)}function ST(s){Tu=!0,rv(s)}function yo(){if(!Jf&&Lr!==null){Jf=!0;var s=0,a=je;try{var d=Lr;for(je=1;s<d.length;s++){var p=d[s];do p=p(!0);while(p!==null)}Lr=null,Tu=!1}catch(g){throw Lr!==null&&(Lr=Lr.slice(s+1)),iy(vf,yo),g}finally{je=a,Jf=!1}}return null}var fs=[],hs=0,Mu=null,Ou=0,Pn=[],Rn=0,di=null,$r=1,Fr="";function fi(s,a){fs[hs++]=Ou,fs[hs++]=Mu,Mu=s,Ou=a}function ov(s,a,d){Pn[Rn++]=$r,Pn[Rn++]=Fr,Pn[Rn++]=di,di=s;var p=$r;s=Fr;var g=32-er(p)-1;p&=~(1<<g),d+=1;var w=32-er(a)+g;if(30<w){var x=g-g%5;w=(p&(1<<x)-1).toString(32),p>>=x,g-=x,$r=1<<32-er(a)+g|d<<g|p,Fr=w+s}else $r=1<<w|d<<g|p,Fr=s}function Gf(s){s.return!==null&&(fi(s,1),ov(s,1,0))}function Qf(s){for(;s===Mu;)Mu=fs[--hs],fs[hs]=null,Ou=fs[--hs],fs[hs]=null;for(;s===di;)di=Pn[--Rn],Pn[Rn]=null,Fr=Pn[--Rn],Pn[Rn]=null,$r=Pn[--Rn],Pn[Rn]=null}var Tn=null,Mn=null,Je=!1,nr=null;function iv(s,a){var d=$n(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function sv(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Tn=s,Mn=po(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Tn=s,Mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=di!==null?{id:$r,overflow:Fr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=$n(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,Tn=s,Mn=null,!0):!1;default:return!1}}function Xf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function eh(s){if(Je){var a=Mn;if(a){var d=a;if(!sv(s,a)){if(Xf(s))throw Error(n(418));a=po(d.nextSibling);var p=Tn;a&&sv(s,a)?iv(p,d):(s.flags=s.flags&-4097|2,Je=!1,Tn=s)}}else{if(Xf(s))throw Error(n(418));s.flags=s.flags&-4097|2,Je=!1,Tn=s}}}function lv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Tn=s}function Nu(s){if(s!==Tn)return!1;if(!Je)return lv(s),Je=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Hf(s.type,s.memoizedProps)),a&&(a=Mn)){if(Xf(s))throw av(),Error(n(418));for(;a;)iv(s,a),a=po(a.nextSibling)}if(lv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){Mn=po(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}Mn=null}}else Mn=Tn?po(s.stateNode.nextSibling):null;return!0}function av(){for(var s=Mn;s;)s=po(s.nextSibling)}function ps(){Mn=Tn=null,Je=!1}function th(s){nr===null?nr=[s]:nr.push(s)}var xT=D.ReactCurrentBatchConfig;function $l(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,s));var g=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(x){var E=g.refs;x===null?delete E[w]:E[w]=x},a._stringRef=w,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function Du(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function uv(s){var a=s._init;return a(s._payload)}function cv(s){function a(I,O){if(s){var R=I.deletions;R===null?(I.deletions=[O],I.flags|=16):R.push(O)}}function d(I,O){if(!s)return null;for(;O!==null;)a(I,O),O=O.sibling;return null}function p(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function g(I,O){return I=Eo(I,O),I.index=0,I.sibling=null,I}function w(I,O,R){return I.index=R,s?(R=I.alternate,R!==null?(R=R.index,R<O?(I.flags|=2,O):R):(I.flags|=2,O)):(I.flags|=1048576,O)}function x(I){return s&&I.alternate===null&&(I.flags|=2),I}function E(I,O,R,Y){return O===null||O.tag!==6?(O=qh(R,I.mode,Y),O.return=I,O):(O=g(O,R),O.return=I,O)}function M(I,O,R,Y){var ue=R.type;return ue===$?H(I,O,R.props.children,Y,R.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Pe&&uv(ue)===O.type)?(Y=g(O,R.props),Y.ref=$l(I,O,R),Y.return=I,Y):(Y=ec(R.type,R.key,R.props,null,I.mode,Y),Y.ref=$l(I,O,R),Y.return=I,Y)}function _(I,O,R,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==R.containerInfo||O.stateNode.implementation!==R.implementation?(O=Zh(R,I.mode,Y),O.return=I,O):(O=g(O,R.children||[]),O.return=I,O)}function H(I,O,R,Y,ue){return O===null||O.tag!==7?(O=ki(R,I.mode,Y,ue),O.return=I,O):(O=g(O,R),O.return=I,O)}function Z(I,O,R){if(typeof O=="string"&&O!==""||typeof O=="number")return O=qh(""+O,I.mode,R),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return R=ec(O.type,O.key,O.props,null,I.mode,R),R.ref=$l(I,null,O),R.return=I,R;case F:return O=Zh(O,I.mode,R),O.return=I,O;case Pe:var Y=O._init;return Z(I,Y(O._payload),R)}if(cn(O)||se(O))return O=ki(O,I.mode,R,null),O.return=I,O;Du(I,O)}return null}function W(I,O,R,Y){var ue=O!==null?O.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ue!==null?null:E(I,O,""+R,Y);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case P:return R.key===ue?M(I,O,R,Y):null;case F:return R.key===ue?_(I,O,R,Y):null;case Pe:return ue=R._init,W(I,O,ue(R._payload),Y)}if(cn(R)||se(R))return ue!==null?null:H(I,O,R,Y,null);Du(I,R)}return null}function Q(I,O,R,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return I=I.get(R)||null,E(O,I,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return I=I.get(Y.key===null?R:Y.key)||null,M(O,I,Y,ue);case F:return I=I.get(Y.key===null?R:Y.key)||null,_(O,I,Y,ue);case Pe:var pe=Y._init;return Q(I,O,R,pe(Y._payload),ue)}if(cn(Y)||se(Y))return I=I.get(R)||null,H(O,I,Y,ue,null);Du(O,Y)}return null}function re(I,O,R,Y){for(var ue=null,pe=null,me=O,ke=O=0,Mt=null;me!==null&&ke<R.length;ke++){me.index>ke?(Mt=me,me=null):Mt=me.sibling;var Fe=W(I,me,R[ke],Y);if(Fe===null){me===null&&(me=Mt);break}s&&me&&Fe.alternate===null&&a(I,me),O=w(Fe,O,ke),pe===null?ue=Fe:pe.sibling=Fe,pe=Fe,me=Mt}if(ke===R.length)return d(I,me),Je&&fi(I,ke),ue;if(me===null){for(;ke<R.length;ke++)me=Z(I,R[ke],Y),me!==null&&(O=w(me,O,ke),pe===null?ue=me:pe.sibling=me,pe=me);return Je&&fi(I,ke),ue}for(me=p(I,me);ke<R.length;ke++)Mt=Q(me,I,ke,R[ke],Y),Mt!==null&&(s&&Mt.alternate!==null&&me.delete(Mt.key===null?ke:Mt.key),O=w(Mt,O,ke),pe===null?ue=Mt:pe.sibling=Mt,pe=Mt);return s&&me.forEach(function(To){return a(I,To)}),Je&&fi(I,ke),ue}function le(I,O,R,Y){var ue=se(R);if(typeof ue!="function")throw Error(n(150));if(R=ue.call(R),R==null)throw Error(n(151));for(var pe=ue=null,me=O,ke=O=0,Mt=null,Fe=R.next();me!==null&&!Fe.done;ke++,Fe=R.next()){me.index>ke?(Mt=me,me=null):Mt=me.sibling;var To=W(I,me,Fe.value,Y);if(To===null){me===null&&(me=Mt);break}s&&me&&To.alternate===null&&a(I,me),O=w(To,O,ke),pe===null?ue=To:pe.sibling=To,pe=To,me=Mt}if(Fe.done)return d(I,me),Je&&fi(I,ke),ue;if(me===null){for(;!Fe.done;ke++,Fe=R.next())Fe=Z(I,Fe.value,Y),Fe!==null&&(O=w(Fe,O,ke),pe===null?ue=Fe:pe.sibling=Fe,pe=Fe);return Je&&fi(I,ke),ue}for(me=p(I,me);!Fe.done;ke++,Fe=R.next())Fe=Q(me,I,ke,Fe.value,Y),Fe!==null&&(s&&Fe.alternate!==null&&me.delete(Fe.key===null?ke:Fe.key),O=w(Fe,O,ke),pe===null?ue=Fe:pe.sibling=Fe,pe=Fe);return s&&me.forEach(function(nM){return a(I,nM)}),Je&&fi(I,ke),ue}function dt(I,O,R,Y){if(typeof R=="object"&&R!==null&&R.type===$&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case P:e:{for(var ue=R.key,pe=O;pe!==null;){if(pe.key===ue){if(ue=R.type,ue===$){if(pe.tag===7){d(I,pe.sibling),O=g(pe,R.props.children),O.return=I,I=O;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Pe&&uv(ue)===pe.type){d(I,pe.sibling),O=g(pe,R.props),O.ref=$l(I,pe,R),O.return=I,I=O;break e}d(I,pe);break}else a(I,pe);pe=pe.sibling}R.type===$?(O=ki(R.props.children,I.mode,Y,R.key),O.return=I,I=O):(Y=ec(R.type,R.key,R.props,null,I.mode,Y),Y.ref=$l(I,O,R),Y.return=I,I=Y)}return x(I);case F:e:{for(pe=R.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===R.containerInfo&&O.stateNode.implementation===R.implementation){d(I,O.sibling),O=g(O,R.children||[]),O.return=I,I=O;break e}else{d(I,O);break}else a(I,O);O=O.sibling}O=Zh(R,I.mode,Y),O.return=I,I=O}return x(I);case Pe:return pe=R._init,dt(I,O,pe(R._payload),Y)}if(cn(R))return re(I,O,R,Y);if(se(R))return le(I,O,R,Y);Du(I,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,O!==null&&O.tag===6?(d(I,O.sibling),O=g(O,R),O.return=I,I=O):(d(I,O),O=qh(R,I.mode,Y),O.return=I,I=O),x(I)):d(I,O)}return dt}var ms=cv(!0),dv=cv(!1),Au=mo(null),Iu=null,gs=null,nh=null;function rh(){nh=gs=Iu=null}function oh(s){var a=Au.current;Ze(Au),s._currentValue=a}function ih(s,a,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===d)break;s=s.return}}function ys(s,a){Iu=s,nh=gs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(mn=!0),s.firstContext=null)}function _n(s){var a=s._currentValue;if(nh!==s)if(s={context:s,memoizedValue:a,next:null},gs===null){if(Iu===null)throw Error(n(308));gs=s,Iu.dependencies={lanes:0,firstContext:s}}else gs=gs.next=s;return a}var hi=null;function sh(s){hi===null?hi=[s]:hi.push(s)}function fv(s,a,d,p){var g=a.interleaved;return g===null?(d.next=d,sh(a)):(d.next=g.next,g.next=d),a.interleaved=d,jr(s,p)}function jr(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var vo=!1;function lh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Br(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function wo(s,a,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,($e&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,jr(s,d)}return g=p.interleaved,g===null?(a.next=a,sh(p)):(a.next=g.next,g.next=a),p.interleaved=a,jr(s,d)}function Pu(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,d|=p,a.lanes=d,bf(s,d)}}function pv(s,a){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var x={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?g=w=x:w=w.next=x,d=d.next}while(d!==null);w===null?g=w=a:w=w.next=a}else g=w=a;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function Ru(s,a,d,p){var g=s.updateQueue;vo=!1;var w=g.firstBaseUpdate,x=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var M=E,_=M.next;M.next=null,x===null?w=_:x.next=_,x=M;var H=s.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==x&&(E===null?H.firstBaseUpdate=_:E.next=_,H.lastBaseUpdate=M))}if(w!==null){var Z=g.baseState;x=0,H=_=M=null,E=w;do{var W=E.lane,Q=E.eventTime;if((p&W)===W){H!==null&&(H=H.next={eventTime:Q,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var re=s,le=E;switch(W=a,Q=d,le.tag){case 1:if(re=le.payload,typeof re=="function"){Z=re.call(Q,Z,W);break e}Z=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=le.payload,W=typeof re=="function"?re.call(Q,Z,W):re,W==null)break e;Z=G({},Z,W);break e;case 2:vo=!0}}E.callback!==null&&E.lane!==0&&(s.flags|=64,W=g.effects,W===null?g.effects=[E]:W.push(E))}else Q={eventTime:Q,lane:W,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(_=H=Q,M=Z):H=H.next=Q,x|=W;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;W=E,E=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);if(H===null&&(M=Z),g.baseState=M,g.firstBaseUpdate=_,g.lastBaseUpdate=H,a=g.shared.interleaved,a!==null){g=a;do x|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);gi|=x,s.lanes=x,s.memoizedState=Z}}function mv(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=d,typeof g!="function")throw Error(n(191,g));g.call(p)}}}var Fl={},wr=mo(Fl),jl=mo(Fl),Bl=mo(Fl);function pi(s){if(s===Fl)throw Error(n(174));return s}function ah(s,a){switch(We(Bl,a),We(jl,s),We(wr,Fl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:mr(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=mr(a,s)}Ze(wr),We(wr,a)}function vs(){Ze(wr),Ze(jl),Ze(Bl)}function gv(s){pi(Bl.current);var a=pi(wr.current),d=mr(a,s.type);a!==d&&(We(jl,s),We(wr,d))}function uh(s){jl.current===s&&(Ze(wr),Ze(jl))}var tt=mo(0);function _u(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ch=[];function dh(){for(var s=0;s<ch.length;s++)ch[s]._workInProgressVersionPrimary=null;ch.length=0}var zu=D.ReactCurrentDispatcher,fh=D.ReactCurrentBatchConfig,mi=0,nt=null,yt=null,Et=null,Lu=!1,Vl=!1,Ul=0,CT=0;function Wt(){throw Error(n(321))}function hh(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!tr(s[d],a[d]))return!1;return!0}function ph(s,a,d,p,g,w){if(mi=w,nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,zu.current=s===null||s.memoizedState===null?OT:NT,s=d(p,g),Vl){w=0;do{if(Vl=!1,Ul=0,25<=w)throw Error(n(301));w+=1,Et=yt=null,a.updateQueue=null,zu.current=DT,s=d(p,g)}while(Vl)}if(zu.current=ju,a=yt!==null&&yt.next!==null,mi=0,Et=yt=nt=null,Lu=!1,a)throw Error(n(300));return s}function mh(){var s=Ul!==0;return Ul=0,s}function kr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?nt.memoizedState=Et=s:Et=Et.next=s,Et}function zn(){if(yt===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=yt.next;var a=Et===null?nt.memoizedState:Et.next;if(a!==null)Et=a,yt=s;else{if(s===null)throw Error(n(310));yt=s,s={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Et===null?nt.memoizedState=Et=s:Et=Et.next=s}return Et}function Wl(s,a){return typeof a=="function"?a(s):a}function gh(s){var a=zn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=yt,g=p.baseQueue,w=d.pending;if(w!==null){if(g!==null){var x=g.next;g.next=w.next,w.next=x}p.baseQueue=g=w,d.pending=null}if(g!==null){w=g.next,p=p.baseState;var E=x=null,M=null,_=w;do{var H=_.lane;if((mi&H)===H)M!==null&&(M=M.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),p=_.hasEagerState?_.eagerState:s(p,_.action);else{var Z={lane:H,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};M===null?(E=M=Z,x=p):M=M.next=Z,nt.lanes|=H,gi|=H}_=_.next}while(_!==null&&_!==w);M===null?x=p:M.next=E,tr(p,a.memoizedState)||(mn=!0),a.memoizedState=p,a.baseState=x,a.baseQueue=M,d.lastRenderedState=p}if(s=d.interleaved,s!==null){g=s;do w=g.lane,nt.lanes|=w,gi|=w,g=g.next;while(g!==s)}else g===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function yh(s){var a=zn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,g=d.pending,w=a.memoizedState;if(g!==null){d.pending=null;var x=g=g.next;do w=s(w,x.action),x=x.next;while(x!==g);tr(w,a.memoizedState)||(mn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),d.lastRenderedState=w}return[w,p]}function yv(){}function vv(s,a){var d=nt,p=zn(),g=a(),w=!tr(p.memoizedState,g);if(w&&(p.memoizedState=g,mn=!0),p=p.queue,vh(bv.bind(null,d,p,s),[s]),p.getSnapshot!==a||w||Et!==null&&Et.memoizedState.tag&1){if(d.flags|=2048,Hl(9,kv.bind(null,d,p,g,a),void 0,null),Tt===null)throw Error(n(349));(mi&30)!==0||wv(d,a,g)}return g}function wv(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function kv(s,a,d,p){a.value=d,a.getSnapshot=p,Sv(a)&&xv(s)}function bv(s,a,d){return d(function(){Sv(a)&&xv(s)})}function Sv(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!tr(s,d)}catch{return!0}}function xv(s){var a=jr(s,1);a!==null&&sr(a,s,1,-1)}function Cv(s){var a=kr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:s},a.queue=s,s=s.dispatch=MT.bind(null,nt,s),[a.memoizedState,s]}function Hl(s,a,d,p){return s={tag:s,create:a,destroy:d,deps:p,next:null},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,a.lastEffect=s)),s}function Ev(){return zn().memoizedState}function $u(s,a,d,p){var g=kr();nt.flags|=s,g.memoizedState=Hl(1|a,d,void 0,p===void 0?null:p)}function Fu(s,a,d,p){var g=zn();p=p===void 0?null:p;var w=void 0;if(yt!==null){var x=yt.memoizedState;if(w=x.destroy,p!==null&&hh(p,x.deps)){g.memoizedState=Hl(a,d,w,p);return}}nt.flags|=s,g.memoizedState=Hl(1|a,d,w,p)}function Tv(s,a){return $u(8390656,8,s,a)}function vh(s,a){return Fu(2048,8,s,a)}function Mv(s,a){return Fu(4,2,s,a)}function Ov(s,a){return Fu(4,4,s,a)}function Nv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Dv(s,a,d){return d=d!=null?d.concat([s]):null,Fu(4,4,Nv.bind(null,a,s),d)}function wh(){}function Av(s,a){var d=zn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&hh(a,p[1])?p[0]:(d.memoizedState=[s,a],s)}function Iv(s,a){var d=zn();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&hh(a,p[1])?p[0]:(s=s(),d.memoizedState=[s,a],s)}function Pv(s,a,d){return(mi&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=d):(tr(d,a)||(d=uy(),nt.lanes|=d,gi|=d,s.baseState=!0),a)}function ET(s,a){var d=je;je=d!==0&&4>d?d:4,s(!0);var p=fh.transition;fh.transition={};try{s(!1),a()}finally{je=d,fh.transition=p}}function Rv(){return zn().memoizedState}function TT(s,a,d){var p=xo(s);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},_v(s))zv(a,d);else if(d=fv(s,a,d,p),d!==null){var g=Xt();sr(d,s,p,g),Lv(d,a,p)}}function MT(s,a,d){var p=xo(s),g={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(_v(s))zv(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var x=a.lastRenderedState,E=w(x,d);if(g.hasEagerState=!0,g.eagerState=E,tr(E,x)){var M=a.interleaved;M===null?(g.next=g,sh(a)):(g.next=M.next,M.next=g),a.interleaved=g;return}}catch{}finally{}d=fv(s,a,g,p),d!==null&&(g=Xt(),sr(d,s,p,g),Lv(d,a,p))}}function _v(s){var a=s.alternate;return s===nt||a!==null&&a===nt}function zv(s,a){Vl=Lu=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function Lv(s,a,d){if((d&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,d|=p,a.lanes=d,bf(s,d)}}var ju={readContext:_n,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},OT={readContext:_n,useCallback:function(s,a){return kr().memoizedState=[s,a===void 0?null:a],s},useContext:_n,useEffect:Tv,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,$u(4194308,4,Nv.bind(null,a,s),d)},useLayoutEffect:function(s,a){return $u(4194308,4,s,a)},useInsertionEffect:function(s,a){return $u(4,2,s,a)},useMemo:function(s,a){var d=kr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var p=kr();return a=d!==void 0?d(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=TT.bind(null,nt,s),[p.memoizedState,s]},useRef:function(s){var a=kr();return s={current:s},a.memoizedState=s},useState:Cv,useDebugValue:wh,useDeferredValue:function(s){return kr().memoizedState=s},useTransition:function(){var s=Cv(!1),a=s[0];return s=ET.bind(null,s[1]),kr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var p=nt,g=kr();if(Je){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Tt===null)throw Error(n(349));(mi&30)!==0||wv(p,a,d)}g.memoizedState=d;var w={value:d,getSnapshot:a};return g.queue=w,Tv(bv.bind(null,p,w,s),[s]),p.flags|=2048,Hl(9,kv.bind(null,p,w,d,a),void 0,null),d},useId:function(){var s=kr(),a=Tt.identifierPrefix;if(Je){var d=Fr,p=$r;d=(p&~(1<<32-er(p)-1)).toString(32)+d,a=":"+a+"R"+d,d=Ul++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=CT++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},NT={readContext:_n,useCallback:Av,useContext:_n,useEffect:vh,useImperativeHandle:Dv,useInsertionEffect:Mv,useLayoutEffect:Ov,useMemo:Iv,useReducer:gh,useRef:Ev,useState:function(){return gh(Wl)},useDebugValue:wh,useDeferredValue:function(s){var a=zn();return Pv(a,yt.memoizedState,s)},useTransition:function(){var s=gh(Wl)[0],a=zn().memoizedState;return[s,a]},useMutableSource:yv,useSyncExternalStore:vv,useId:Rv,unstable_isNewReconciler:!1},DT={readContext:_n,useCallback:Av,useContext:_n,useEffect:vh,useImperativeHandle:Dv,useInsertionEffect:Mv,useLayoutEffect:Ov,useMemo:Iv,useReducer:yh,useRef:Ev,useState:function(){return yh(Wl)},useDebugValue:wh,useDeferredValue:function(s){var a=zn();return yt===null?a.memoizedState=s:Pv(a,yt.memoizedState,s)},useTransition:function(){var s=yh(Wl)[0],a=zn().memoizedState;return[s,a]},useMutableSource:yv,useSyncExternalStore:vv,useId:Rv,unstable_isNewReconciler:!1};function rr(s,a){if(s&&s.defaultProps){a=G({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function kh(s,a,d,p){a=s.memoizedState,d=d(p,a),d=d==null?a:G({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Bu={isMounted:function(s){return(s=s._reactInternals)?ai(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var p=Xt(),g=xo(s),w=Br(p,g);w.payload=a,d!=null&&(w.callback=d),a=wo(s,w,g),a!==null&&(sr(a,s,g,p),Pu(a,s,g))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var p=Xt(),g=xo(s),w=Br(p,g);w.tag=1,w.payload=a,d!=null&&(w.callback=d),a=wo(s,w,g),a!==null&&(sr(a,s,g,p),Pu(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=Xt(),p=xo(s),g=Br(d,p);g.tag=2,a!=null&&(g.callback=a),a=wo(s,g,p),a!==null&&(sr(a,s,p,d),Pu(a,s,p))}};function $v(s,a,d,p,g,w,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,x):a.prototype&&a.prototype.isPureReactComponent?!Al(d,p)||!Al(g,w):!0}function Fv(s,a,d){var p=!1,g=go,w=a.contextType;return typeof w=="object"&&w!==null?w=_n(w):(g=pn(a)?ci:Ut.current,p=a.contextTypes,w=(p=p!=null)?ds(s,g):go),a=new a(d,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bu,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function jv(s,a,d,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,p),a.state!==s&&Bu.enqueueReplaceState(a,a.state,null)}function bh(s,a,d,p){var g=s.stateNode;g.props=d,g.state=s.memoizedState,g.refs={},lh(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=_n(w):(w=pn(a)?ci:Ut.current,g.context=ds(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(kh(s,a,w,d),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Bu.enqueueReplaceState(g,g.state,null),Ru(s,d,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ws(s,a){try{var d="",p=a;do d+=xe(p),p=p.return;while(p);var g=d}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function Sh(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function xh(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var AT=typeof WeakMap=="function"?WeakMap:Map;function Bv(s,a,d){d=Br(-1,d),d.tag=3,d.payload={element:null};var p=a.value;return d.callback=function(){Ku||(Ku=!0,$h=p),xh(s,a)},d}function Vv(s,a,d){d=Br(-1,d),d.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;d.payload=function(){return p(g)},d.callback=function(){xh(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){xh(s,a),typeof p!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),d}function Uv(s,a,d){var p=s.pingCache;if(p===null){p=s.pingCache=new AT;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(d)||(g.add(d),s=HT.bind(null,s,a,d),a.then(s,s))}function Wv(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Hv(s,a,d,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Br(-1,1),a.tag=2,wo(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var IT=D.ReactCurrentOwner,mn=!1;function Qt(s,a,d,p){a.child=s===null?dv(a,null,d,p):ms(a,s.child,d,p)}function qv(s,a,d,p,g){d=d.render;var w=a.ref;return ys(a,g),p=ph(s,a,d,p,w,g),d=mh(),s!==null&&!mn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(Je&&d&&Gf(a),a.flags|=1,Qt(s,a,p,g),a.child)}function Zv(s,a,d,p,g){if(s===null){var w=d.type;return typeof w=="function"&&!Hh(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=w,Kv(s,a,w,p,g)):(s=ec(d.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&g)===0){var x=w.memoizedProps;if(d=d.compare,d=d!==null?d:Al,d(x,p)&&s.ref===a.ref)return Vr(s,a,g)}return a.flags|=1,s=Eo(w,p),s.ref=a.ref,s.return=a,a.child=s}function Kv(s,a,d,p,g){if(s!==null){var w=s.memoizedProps;if(Al(w,p)&&s.ref===a.ref)if(mn=!1,a.pendingProps=p=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(mn=!0);else return a.lanes=s.lanes,Vr(s,a,g)}return Ch(s,a,d,p,g)}function Yv(s,a,d){var p=a.pendingProps,g=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(bs,On),On|=d;else{if((d&1073741824)===0)return s=w!==null?w.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,We(bs,On),On|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:d,We(bs,On),On|=p}else w!==null?(p=w.baseLanes|d,a.memoizedState=null):p=d,We(bs,On),On|=p;return Qt(s,a,g,d),a.child}function Jv(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Ch(s,a,d,p,g){var w=pn(d)?ci:Ut.current;return w=ds(a,w),ys(a,g),d=ph(s,a,d,p,w,g),p=mh(),s!==null&&!mn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(Je&&p&&Gf(a),a.flags|=1,Qt(s,a,d,g),a.child)}function Gv(s,a,d,p,g){if(pn(d)){var w=!0;Eu(a)}else w=!1;if(ys(a,g),a.stateNode===null)Uu(s,a),Fv(a,d,p),bh(a,d,p,g),p=!0;else if(s===null){var x=a.stateNode,E=a.memoizedProps;x.props=E;var M=x.context,_=d.contextType;typeof _=="object"&&_!==null?_=_n(_):(_=pn(d)?ci:Ut.current,_=ds(a,_));var H=d.getDerivedStateFromProps,Z=typeof H=="function"||typeof x.getSnapshotBeforeUpdate=="function";Z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==p||M!==_)&&jv(a,x,p,_),vo=!1;var W=a.memoizedState;x.state=W,Ru(a,p,x,g),M=a.memoizedState,E!==p||W!==M||hn.current||vo?(typeof H=="function"&&(kh(a,d,H,p),M=a.memoizedState),(E=vo||$v(a,d,E,p,W,M,_))?(Z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=M),x.props=p,x.state=M,x.context=_,p=E):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{x=a.stateNode,hv(s,a),E=a.memoizedProps,_=a.type===a.elementType?E:rr(a.type,E),x.props=_,Z=a.pendingProps,W=x.context,M=d.contextType,typeof M=="object"&&M!==null?M=_n(M):(M=pn(d)?ci:Ut.current,M=ds(a,M));var Q=d.getDerivedStateFromProps;(H=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==Z||W!==M)&&jv(a,x,p,M),vo=!1,W=a.memoizedState,x.state=W,Ru(a,p,x,g);var re=a.memoizedState;E!==Z||W!==re||hn.current||vo?(typeof Q=="function"&&(kh(a,d,Q,p),re=a.memoizedState),(_=vo||$v(a,d,_,p,W,re,M)||!1)?(H||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,re,M),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,re,M)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=re),x.props=p,x.state=re,x.context=M,p=_):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),p=!1)}return Eh(s,a,d,p,w,g)}function Eh(s,a,d,p,g,w){Jv(s,a);var x=(a.flags&128)!==0;if(!p&&!x)return g&&nv(a,d,!1),Vr(s,a,w);p=a.stateNode,IT.current=a;var E=x&&typeof d.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&x?(a.child=ms(a,s.child,null,w),a.child=ms(a,null,E,w)):Qt(s,a,E,w),a.memoizedState=p.state,g&&nv(a,d,!0),a.child}function Qv(s){var a=s.stateNode;a.pendingContext?ev(s,a.pendingContext,a.pendingContext!==a.context):a.context&&ev(s,a.context,!1),ah(s,a.containerInfo)}function Xv(s,a,d,p,g){return ps(),th(g),a.flags|=256,Qt(s,a,d,p),a.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Mh(s){return{baseLanes:s,cachePool:null,transitions:null}}function e0(s,a,d){var p=a.pendingProps,g=tt.current,w=!1,x=(a.flags&128)!==0,E;if((E=x)||(E=s!==null&&s.memoizedState===null?!1:(g&2)!==0),E?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),We(tt,g&1),s===null)return eh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(x=p.children,s=p.fallback,w?(p=a.mode,w=a.child,x={mode:"hidden",children:x},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=x):w=tc(x,p,0,null),s=ki(s,p,d,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=Mh(d),a.memoizedState=Th,s):Oh(a,x));if(g=s.memoizedState,g!==null&&(E=g.dehydrated,E!==null))return PT(s,a,x,p,E,g,d);if(w){w=p.fallback,x=a.mode,g=s.child,E=g.sibling;var M={mode:"hidden",children:p.children};return(x&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=M,a.deletions=null):(p=Eo(g,M),p.subtreeFlags=g.subtreeFlags&14680064),E!==null?w=Eo(E,w):(w=ki(w,x,d,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,x=s.child.memoizedState,x=x===null?Mh(d):{baseLanes:x.baseLanes|d,cachePool:null,transitions:x.transitions},w.memoizedState=x,w.childLanes=s.childLanes&~d,a.memoizedState=Th,p}return w=s.child,s=w.sibling,p=Eo(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=d),p.return=a,p.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=p,a.memoizedState=null,p}function Oh(s,a){return a=tc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Vu(s,a,d,p){return p!==null&&th(p),ms(a,s.child,null,d),s=Oh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function PT(s,a,d,p,g,w,x){if(d)return a.flags&256?(a.flags&=-257,p=Sh(Error(n(422))),Vu(s,a,x,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,g=a.mode,p=tc({mode:"visible",children:p.children},g,0,null),w=ki(w,g,x,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&ms(a,s.child,null,x),a.child.memoizedState=Mh(x),a.memoizedState=Th,w);if((a.mode&1)===0)return Vu(s,a,x,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var E=p.dgst;return p=E,w=Error(n(419)),p=Sh(w,p,void 0),Vu(s,a,x,p)}if(E=(x&s.childLanes)!==0,mn||E){if(p=Tt,p!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|x))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,jr(s,g),sr(p,s,g,-1))}return Wh(),p=Sh(Error(n(421))),Vu(s,a,x,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=qT.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,Mn=po(g.nextSibling),Tn=a,Je=!0,nr=null,s!==null&&(Pn[Rn++]=$r,Pn[Rn++]=Fr,Pn[Rn++]=di,$r=s.id,Fr=s.overflow,di=a),a=Oh(a,p.children),a.flags|=4096,a)}function t0(s,a,d){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),ih(s.return,a,d)}function Nh(s,a,d,p,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=d,w.tailMode=g)}function n0(s,a,d){var p=a.pendingProps,g=p.revealOrder,w=p.tail;if(Qt(s,a,p.children,d),p=tt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&t0(s,d,a);else if(s.tag===19)t0(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(We(tt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(d=a.child,g=null;d!==null;)s=d.alternate,s!==null&&_u(s)===null&&(g=d),d=d.sibling;d=g,d===null?(g=a.child,a.child=null):(g=d.sibling,d.sibling=null),Nh(a,!1,g,d,w);break;case"backwards":for(d=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&_u(s)===null){a.child=g;break}s=g.sibling,g.sibling=d,d=g,g=s}Nh(a,!0,d,null,w);break;case"together":Nh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Uu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Vr(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),gi|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=Eo(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Eo(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function RT(s,a,d){switch(a.tag){case 3:Qv(a),ps();break;case 5:gv(a);break;case 1:pn(a.type)&&Eu(a);break;case 4:ah(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;We(Au,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(We(tt,tt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?e0(s,a,d):(We(tt,tt.current&1),s=Vr(s,a,d),s!==null?s.sibling:null);We(tt,tt.current&1);break;case 19:if(p=(d&a.childLanes)!==0,(s.flags&128)!==0){if(p)return n0(s,a,d);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),We(tt,tt.current),p)break;return null;case 22:case 23:return a.lanes=0,Yv(s,a,d)}return Vr(s,a,d)}var r0,Dh,o0,i0;r0=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Dh=function(){},o0=function(s,a,d,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,pi(wr.current);var w=null;switch(d){case"input":g=xn(s,g),p=xn(s,p),w=[];break;case"select":g=G({},g,{value:void 0}),p=G({},p,{value:void 0}),w=[];break;case"textarea":g=ro(s,g),p=ro(s,p),w=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Su)}Xi(d,p);var x;d=null;for(_ in g)if(!p.hasOwnProperty(_)&&g.hasOwnProperty(_)&&g[_]!=null)if(_==="style"){var E=g[_];for(x in E)E.hasOwnProperty(x)&&(d||(d={}),d[x]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?w||(w=[]):(w=w||[]).push(_,null));for(_ in p){var M=p[_];if(E=g!=null?g[_]:void 0,p.hasOwnProperty(_)&&M!==E&&(M!=null||E!=null))if(_==="style")if(E){for(x in E)!E.hasOwnProperty(x)||M&&M.hasOwnProperty(x)||(d||(d={}),d[x]="");for(x in M)M.hasOwnProperty(x)&&E[x]!==M[x]&&(d||(d={}),d[x]=M[x])}else d||(w||(w=[]),w.push(_,d)),d=M;else _==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,E=E?E.__html:void 0,M!=null&&E!==M&&(w=w||[]).push(_,M)):_==="children"?typeof M!="string"&&typeof M!="number"||(w=w||[]).push(_,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(o.hasOwnProperty(_)?(M!=null&&_==="onScroll"&&qe("scroll",s),w||E===M||(w=[])):(w=w||[]).push(_,M))}d&&(w=w||[]).push("style",d);var _=w;(a.updateQueue=_)&&(a.flags|=4)}},i0=function(s,a,d,p){d!==p&&(a.flags|=4)};function ql(s,a){if(!Je)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Ht(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(a)for(var g=s.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=d,a}function _T(s,a,d){var p=a.pendingProps;switch(Qf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(a),null;case 1:return pn(a.type)&&Cu(),Ht(a),null;case 3:return p=a.stateNode,vs(),Ze(hn),Ze(Ut),dh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Nu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,nr!==null&&(Bh(nr),nr=null))),Dh(s,a),Ht(a),null;case 5:uh(a);var g=pi(Bl.current);if(d=a.type,s!==null&&a.stateNode!=null)o0(s,a,d,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return Ht(a),null}if(s=pi(wr.current),Nu(a)){p=a.stateNode,d=a.type;var w=a.memoizedProps;switch(p[vr]=a,p[zl]=w,s=(a.mode&1)!==0,d){case"dialog":qe("cancel",p),qe("close",p);break;case"iframe":case"object":case"embed":qe("load",p);break;case"video":case"audio":for(g=0;g<Pl.length;g++)qe(Pl[g],p);break;case"source":qe("error",p);break;case"img":case"image":case"link":qe("error",p),qe("load",p);break;case"details":qe("toggle",p);break;case"input":Ir(p,w),qe("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},qe("invalid",p);break;case"textarea":fl(p,w),qe("invalid",p)}Xi(d,w),g=null;for(var x in w)if(w.hasOwnProperty(x)){var E=w[x];x==="children"?typeof E=="string"?p.textContent!==E&&(w.suppressHydrationWarning!==!0&&bu(p.textContent,E,s),g=["children",E]):typeof E=="number"&&p.textContent!==""+E&&(w.suppressHydrationWarning!==!0&&bu(p.textContent,E,s),g=["children",""+E]):o.hasOwnProperty(x)&&E!=null&&x==="onScroll"&&qe("scroll",p)}switch(d){case"input":un(p),dl(p,w,!0);break;case"textarea":un(p),Qa(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Su)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xa(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=x.createElement(d,{is:p.is}):(s=x.createElement(d),d==="select"&&(x=s,p.multiple?x.multiple=!0:p.size&&(x.size=p.size))):s=x.createElementNS(s,d),s[vr]=a,s[zl]=p,r0(s,a,!1,!1),a.stateNode=s;e:{switch(x=ml(d,p),d){case"dialog":qe("cancel",s),qe("close",s),g=p;break;case"iframe":case"object":case"embed":qe("load",s),g=p;break;case"video":case"audio":for(g=0;g<Pl.length;g++)qe(Pl[g],s);g=p;break;case"source":qe("error",s),g=p;break;case"img":case"image":case"link":qe("error",s),qe("load",s),g=p;break;case"details":qe("toggle",s),g=p;break;case"input":Ir(s,p),g=xn(s,p),qe("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=G({},p,{value:void 0}),qe("invalid",s);break;case"textarea":fl(s,p),g=ro(s,p),qe("invalid",s);break;default:g=p}Xi(d,g),E=g;for(w in E)if(E.hasOwnProperty(w)){var M=E[w];w==="style"?nu(s,M):w==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&oo(s,M)):w==="children"?typeof M=="string"?(d!=="textarea"||M!=="")&&io(s,M):typeof M=="number"&&io(s,""+M):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?M!=null&&w==="onScroll"&&qe("scroll",s):M!=null&&N(s,w,M,x))}switch(d){case"input":un(s),dl(s,p,!1);break;case"textarea":un(s),Qa(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Ce(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Yn(s,!!p.multiple,w,!1):p.defaultValue!=null&&Yn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Su)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ht(a),null;case 6:if(s&&a.stateNode!=null)i0(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(d=pi(Bl.current),pi(wr.current),Nu(a)){if(p=a.stateNode,d=a.memoizedProps,p[vr]=a,(w=p.nodeValue!==d)&&(s=Tn,s!==null))switch(s.tag){case 3:bu(p.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bu(p.nodeValue,d,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[vr]=a,a.stateNode=p}return Ht(a),null;case 13:if(Ze(tt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Je&&Mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)av(),ps(),a.flags|=98560,w=!1;else if(w=Nu(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[vr]=a}else ps(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ht(a),w=!1}else nr!==null&&(Bh(nr),nr=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(tt.current&1)!==0?vt===0&&(vt=3):Wh())),a.updateQueue!==null&&(a.flags|=4),Ht(a),null);case 4:return vs(),Dh(s,a),s===null&&Rl(a.stateNode.containerInfo),Ht(a),null;case 10:return oh(a.type._context),Ht(a),null;case 17:return pn(a.type)&&Cu(),Ht(a),null;case 19:if(Ze(tt),w=a.memoizedState,w===null)return Ht(a),null;if(p=(a.flags&128)!==0,x=w.rendering,x===null)if(p)ql(w,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(x=_u(s),x!==null){for(a.flags|=128,ql(w,!1),p=x.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=d,d=a.child;d!==null;)w=d,s=p,w.flags&=14680066,x=w.alternate,x===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=x.childLanes,w.lanes=x.lanes,w.child=x.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=x.memoizedProps,w.memoizedState=x.memoizedState,w.updateQueue=x.updateQueue,w.type=x.type,s=x.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return We(tt,tt.current&1|2),a.child}s=s.sibling}w.tail!==null&&ct()>Ss&&(a.flags|=128,p=!0,ql(w,!1),a.lanes=4194304)}else{if(!p)if(s=_u(x),s!==null){if(a.flags|=128,p=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ql(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!Je)return Ht(a),null}else 2*ct()-w.renderingStartTime>Ss&&d!==1073741824&&(a.flags|=128,p=!0,ql(w,!1),a.lanes=4194304);w.isBackwards?(x.sibling=a.child,a.child=x):(d=w.last,d!==null?d.sibling=x:a.child=x,w.last=x)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ct(),a.sibling=null,d=tt.current,We(tt,p?d&1|2:d&1),a):(Ht(a),null);case 22:case 23:return Uh(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(On&1073741824)!==0&&(Ht(a),a.subtreeFlags&6&&(a.flags|=8192)):Ht(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function zT(s,a){switch(Qf(a),a.tag){case 1:return pn(a.type)&&Cu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return vs(),Ze(hn),Ze(Ut),dh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return uh(a),null;case 13:if(Ze(tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ps()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ze(tt),null;case 4:return vs(),null;case 10:return oh(a.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var Wu=!1,qt=!1,LT=typeof WeakSet=="function"?WeakSet:Set,te=null;function ks(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){st(s,a,p)}else d.current=null}function Ah(s,a,d){try{d()}catch(p){st(s,a,p)}}var s0=!1;function $T(s,a){if(Uf=cu,s=$y(),_f(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var x=0,E=-1,M=-1,_=0,H=0,Z=s,W=null;t:for(;;){for(var Q;Z!==d||g!==0&&Z.nodeType!==3||(E=x+g),Z!==w||p!==0&&Z.nodeType!==3||(M=x+p),Z.nodeType===3&&(x+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)W=Z,Z=Q;for(;;){if(Z===s)break t;if(W===d&&++_===g&&(E=x),W===w&&++H===p&&(M=x),(Q=Z.nextSibling)!==null)break;Z=W,W=Z.parentNode}Z=Q}d=E===-1||M===-1?null:{start:E,end:M}}else d=null}d=d||{start:0,end:0}}else d=null;for(Wf={focusedElem:s,selectionRange:d},cu=!1,te=a;te!==null;)if(a=te,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,te=s;else for(;te!==null;){a=te;try{var re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var le=re.memoizedProps,dt=re.memoizedState,I=a.stateNode,O=I.getSnapshotBeforeUpdate(a.elementType===a.type?le:rr(a.type,le),dt);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var R=a.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){st(a,a.return,Y)}if(s=a.sibling,s!==null){s.return=a.return,te=s;break}te=a.return}return re=s0,s0=!1,re}function Zl(s,a,d){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Ah(a,d,w)}g=g.next}while(g!==p)}}function Hu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var p=d.create;d.destroy=p()}d=d.next}while(d!==a)}}function Ih(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function l0(s){var a=s.alternate;a!==null&&(s.alternate=null,l0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[vr],delete a[zl],delete a[Kf],delete a[kT],delete a[bT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function a0(s){return s.tag===5||s.tag===3||s.tag===4}function u0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||a0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ph(s,a,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Su));else if(p!==4&&(s=s.child,s!==null))for(Ph(s,a,d),s=s.sibling;s!==null;)Ph(s,a,d),s=s.sibling}function Rh(s,a,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Rh(s,a,d),s=s.sibling;s!==null;)Rh(s,a,d),s=s.sibling}var Rt=null,or=!1;function ko(s,a,d){for(d=d.child;d!==null;)c0(s,a,d),d=d.sibling}function c0(s,a,d){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(ou,d)}catch{}switch(d.tag){case 5:qt||ks(d,a);case 6:var p=Rt,g=or;Rt=null,ko(s,a,d),Rt=p,or=g,Rt!==null&&(or?(s=Rt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Rt.removeChild(d.stateNode));break;case 18:Rt!==null&&(or?(s=Rt,d=d.stateNode,s.nodeType===8?Zf(s.parentNode,d):s.nodeType===1&&Zf(s,d),El(s)):Zf(Rt,d.stateNode));break;case 4:p=Rt,g=or,Rt=d.stateNode.containerInfo,or=!0,ko(s,a,d),Rt=p,or=g;break;case 0:case 11:case 14:case 15:if(!qt&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var w=g,x=w.destroy;w=w.tag,x!==void 0&&((w&2)!==0||(w&4)!==0)&&Ah(d,a,x),g=g.next}while(g!==p)}ko(s,a,d);break;case 1:if(!qt&&(ks(d,a),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(E){st(d,a,E)}ko(s,a,d);break;case 21:ko(s,a,d);break;case 22:d.mode&1?(qt=(p=qt)||d.memoizedState!==null,ko(s,a,d),qt=p):ko(s,a,d);break;default:ko(s,a,d)}}function d0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new LT),a.forEach(function(p){var g=ZT.bind(null,s,p);d.has(p)||(d.add(p),p.then(g,g))})}}function ir(s,a){var d=a.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p];try{var w=s,x=a,E=x;e:for(;E!==null;){switch(E.tag){case 5:Rt=E.stateNode,or=!1;break e;case 3:Rt=E.stateNode.containerInfo,or=!0;break e;case 4:Rt=E.stateNode.containerInfo,or=!0;break e}E=E.return}if(Rt===null)throw Error(n(160));c0(w,x,g),Rt=null,or=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(_){st(g,a,_)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)f0(a,s),a=a.sibling}function f0(s,a){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ir(a,s),br(s),p&4){try{Zl(3,s,s.return),Hu(3,s)}catch(le){st(s,s.return,le)}try{Zl(5,s,s.return)}catch(le){st(s,s.return,le)}}break;case 1:ir(a,s),br(s),p&512&&d!==null&&ks(d,d.return);break;case 5:if(ir(a,s),br(s),p&512&&d!==null&&ks(d,d.return),s.flags&32){var g=s.stateNode;try{io(g,"")}catch(le){st(s,s.return,le)}}if(p&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,x=d!==null?d.memoizedProps:w,E=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{E==="input"&&w.type==="radio"&&w.name!=null&&Pr(g,w),ml(E,x);var _=ml(E,w);for(x=0;x<M.length;x+=2){var H=M[x],Z=M[x+1];H==="style"?nu(g,Z):H==="dangerouslySetInnerHTML"?oo(g,Z):H==="children"?io(g,Z):N(g,H,Z,_)}switch(E){case"input":Qi(g,w);break;case"textarea":hl(g,w);break;case"select":var W=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var Q=w.value;Q!=null?Yn(g,!!w.multiple,Q,!1):W!==!!w.multiple&&(w.defaultValue!=null?Yn(g,!!w.multiple,w.defaultValue,!0):Yn(g,!!w.multiple,w.multiple?[]:"",!1))}g[zl]=w}catch(le){st(s,s.return,le)}}break;case 6:if(ir(a,s),br(s),p&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(le){st(s,s.return,le)}}break;case 3:if(ir(a,s),br(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{El(a.containerInfo)}catch(le){st(s,s.return,le)}break;case 4:ir(a,s),br(s);break;case 13:ir(a,s),br(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Lh=ct())),p&4&&d0(s);break;case 22:if(H=d!==null&&d.memoizedState!==null,s.mode&1?(qt=(_=qt)||H,ir(a,s),qt=_):ir(a,s),br(s),p&8192){if(_=s.memoizedState!==null,(s.stateNode.isHidden=_)&&!H&&(s.mode&1)!==0)for(te=s,H=s.child;H!==null;){for(Z=te=H;te!==null;){switch(W=te,Q=W.child,W.tag){case 0:case 11:case 14:case 15:Zl(4,W,W.return);break;case 1:ks(W,W.return);var re=W.stateNode;if(typeof re.componentWillUnmount=="function"){p=W,d=W.return;try{a=p,re.props=a.memoizedProps,re.state=a.memoizedState,re.componentWillUnmount()}catch(le){st(p,d,le)}}break;case 5:ks(W,W.return);break;case 22:if(W.memoizedState!==null){m0(Z);continue}}Q!==null?(Q.return=W,te=Q):m0(Z)}H=H.sibling}e:for(H=null,Z=s;;){if(Z.tag===5){if(H===null){H=Z;try{g=Z.stateNode,_?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(E=Z.stateNode,M=Z.memoizedProps.style,x=M!=null&&M.hasOwnProperty("display")?M.display:null,E.style.display=tu("display",x))}catch(le){st(s,s.return,le)}}}else if(Z.tag===6){if(H===null)try{Z.stateNode.nodeValue=_?"":Z.memoizedProps}catch(le){st(s,s.return,le)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===s)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===s)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===s)break e;H===Z&&(H=null),Z=Z.return}H===Z&&(H=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:ir(a,s),br(s),p&4&&d0(s);break;case 21:break;default:ir(a,s),br(s)}}function br(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(a0(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(io(g,""),p.flags&=-33);var w=u0(s);Rh(s,w,g);break;case 3:case 4:var x=p.stateNode.containerInfo,E=u0(s);Ph(s,E,x);break;default:throw Error(n(161))}}catch(M){st(s,s.return,M)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function FT(s,a,d){te=s,h0(s)}function h0(s,a,d){for(var p=(s.mode&1)!==0;te!==null;){var g=te,w=g.child;if(g.tag===22&&p){var x=g.memoizedState!==null||Wu;if(!x){var E=g.alternate,M=E!==null&&E.memoizedState!==null||qt;E=Wu;var _=qt;if(Wu=x,(qt=M)&&!_)for(te=g;te!==null;)x=te,M=x.child,x.tag===22&&x.memoizedState!==null?g0(g):M!==null?(M.return=x,te=M):g0(g);for(;w!==null;)te=w,h0(w),w=w.sibling;te=g,Wu=E,qt=_}p0(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,te=w):p0(s)}}function p0(s){for(;te!==null;){var a=te;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:qt||Hu(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!qt)if(d===null)p.componentDidMount();else{var g=a.elementType===a.type?d.memoizedProps:rr(a.type,d.memoizedProps);p.componentDidUpdate(g,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&mv(a,w,p);break;case 3:var x=a.updateQueue;if(x!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}mv(a,x,d)}break;case 5:var E=a.stateNode;if(d===null&&a.flags&4){d=E;var M=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&d.focus();break;case"img":M.src&&(d.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var _=a.alternate;if(_!==null){var H=_.memoizedState;if(H!==null){var Z=H.dehydrated;Z!==null&&El(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||a.flags&512&&Ih(a)}catch(W){st(a,a.return,W)}}if(a===s){te=null;break}if(d=a.sibling,d!==null){d.return=a.return,te=d;break}te=a.return}}function m0(s){for(;te!==null;){var a=te;if(a===s){te=null;break}var d=a.sibling;if(d!==null){d.return=a.return,te=d;break}te=a.return}}function g0(s){for(;te!==null;){var a=te;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Hu(4,a)}catch(M){st(a,d,M)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(M){st(a,g,M)}}var w=a.return;try{Ih(a)}catch(M){st(a,w,M)}break;case 5:var x=a.return;try{Ih(a)}catch(M){st(a,x,M)}}}catch(M){st(a,a.return,M)}if(a===s){te=null;break}var E=a.sibling;if(E!==null){E.return=a.return,te=E;break}te=a.return}}var jT=Math.ceil,qu=D.ReactCurrentDispatcher,_h=D.ReactCurrentOwner,Ln=D.ReactCurrentBatchConfig,$e=0,Tt=null,ht=null,_t=0,On=0,bs=mo(0),vt=0,Kl=null,gi=0,Zu=0,zh=0,Yl=null,gn=null,Lh=0,Ss=1/0,Ur=null,Ku=!1,$h=null,bo=null,Yu=!1,So=null,Ju=0,Jl=0,Fh=null,Gu=-1,Qu=0;function Xt(){return($e&6)!==0?ct():Gu!==-1?Gu:Gu=ct()}function xo(s){return(s.mode&1)===0?1:($e&2)!==0&&_t!==0?_t&-_t:xT.transition!==null?(Qu===0&&(Qu=uy()),Qu):(s=je,s!==0||(s=window.event,s=s===void 0?16:vy(s.type)),s)}function sr(s,a,d,p){if(50<Jl)throw Jl=0,Fh=null,Error(n(185));kl(s,d,p),(($e&2)===0||s!==Tt)&&(s===Tt&&(($e&2)===0&&(Zu|=d),vt===4&&Co(s,_t)),yn(s,p),d===1&&$e===0&&(a.mode&1)===0&&(Ss=ct()+500,Tu&&yo()))}function yn(s,a){var d=s.callbackNode;xE(s,a);var p=lu(s,s===Tt?_t:0);if(p===0)d!==null&&sy(d),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(d!=null&&sy(d),a===1)s.tag===0?ST(v0.bind(null,s)):rv(v0.bind(null,s)),vT(function(){($e&6)===0&&yo()}),d=null;else{switch(cy(p)){case 1:d=vf;break;case 4:d=ly;break;case 16:d=ru;break;case 536870912:d=ay;break;default:d=ru}d=T0(d,y0.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function y0(s,a){if(Gu=-1,Qu=0,($e&6)!==0)throw Error(n(327));var d=s.callbackNode;if(xs()&&s.callbackNode!==d)return null;var p=lu(s,s===Tt?_t:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Xu(s,p);else{a=p;var g=$e;$e|=2;var w=k0();(Tt!==s||_t!==a)&&(Ur=null,Ss=ct()+500,vi(s,a));do try{UT();break}catch(E){w0(s,E)}while(!0);rh(),qu.current=w,$e=g,ht!==null?a=0:(Tt=null,_t=0,a=vt)}if(a!==0){if(a===2&&(g=wf(s),g!==0&&(p=g,a=jh(s,g))),a===1)throw d=Kl,vi(s,0),Co(s,p),yn(s,ct()),d;if(a===6)Co(s,p);else{if(g=s.current.alternate,(p&30)===0&&!BT(g)&&(a=Xu(s,p),a===2&&(w=wf(s),w!==0&&(p=w,a=jh(s,w))),a===1))throw d=Kl,vi(s,0),Co(s,p),yn(s,ct()),d;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:wi(s,gn,Ur);break;case 3:if(Co(s,p),(p&130023424)===p&&(a=Lh+500-ct(),10<a)){if(lu(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){Xt(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=qf(wi.bind(null,s,gn,Ur),a);break}wi(s,gn,Ur);break;case 4:if(Co(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var x=31-er(p);w=1<<x,x=a[x],x>g&&(g=x),p&=~w}if(p=g,p=ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*jT(p/1960))-p,10<p){s.timeoutHandle=qf(wi.bind(null,s,gn,Ur),p);break}wi(s,gn,Ur);break;case 5:wi(s,gn,Ur);break;default:throw Error(n(329))}}}return yn(s,ct()),s.callbackNode===d?y0.bind(null,s):null}function jh(s,a){var d=Yl;return s.current.memoizedState.isDehydrated&&(vi(s,a).flags|=256),s=Xu(s,a),s!==2&&(a=gn,gn=d,a!==null&&Bh(a)),s}function Bh(s){gn===null?gn=s:gn.push.apply(gn,s)}function BT(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var g=d[p],w=g.getSnapshot;g=g.value;try{if(!tr(w(),g))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Co(s,a){for(a&=~zh,a&=~Zu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-er(a),p=1<<d;s[d]=-1,a&=~p}}function v0(s){if(($e&6)!==0)throw Error(n(327));xs();var a=lu(s,0);if((a&1)===0)return yn(s,ct()),null;var d=Xu(s,a);if(s.tag!==0&&d===2){var p=wf(s);p!==0&&(a=p,d=jh(s,p))}if(d===1)throw d=Kl,vi(s,0),Co(s,a),yn(s,ct()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,wi(s,gn,Ur),yn(s,ct()),null}function Vh(s,a){var d=$e;$e|=1;try{return s(a)}finally{$e=d,$e===0&&(Ss=ct()+500,Tu&&yo())}}function yi(s){So!==null&&So.tag===0&&($e&6)===0&&xs();var a=$e;$e|=1;var d=Ln.transition,p=je;try{if(Ln.transition=null,je=1,s)return s()}finally{je=p,Ln.transition=d,$e=a,($e&6)===0&&yo()}}function Uh(){On=bs.current,Ze(bs)}function vi(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,yT(d)),ht!==null)for(d=ht.return;d!==null;){var p=d;switch(Qf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Cu();break;case 3:vs(),Ze(hn),Ze(Ut),dh();break;case 5:uh(p);break;case 4:vs();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:oh(p.type._context);break;case 22:case 23:Uh()}d=d.return}if(Tt=s,ht=s=Eo(s.current,null),_t=On=a,vt=0,Kl=null,zh=Zu=gi=0,gn=Yl=null,hi!==null){for(a=0;a<hi.length;a++)if(d=hi[a],p=d.interleaved,p!==null){d.interleaved=null;var g=p.next,w=d.pending;if(w!==null){var x=w.next;w.next=g,p.next=x}d.pending=p}hi=null}return s}function w0(s,a){do{var d=ht;try{if(rh(),zu.current=ju,Lu){for(var p=nt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Lu=!1}if(mi=0,Et=yt=nt=null,Vl=!1,Ul=0,_h.current=null,d===null||d.return===null){vt=1,Kl=a,ht=null;break}e:{var w=s,x=d.return,E=d,M=a;if(a=_t,E.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var _=M,H=E,Z=H.tag;if((H.mode&1)===0&&(Z===0||Z===11||Z===15)){var W=H.alternate;W?(H.updateQueue=W.updateQueue,H.memoizedState=W.memoizedState,H.lanes=W.lanes):(H.updateQueue=null,H.memoizedState=null)}var Q=Wv(x);if(Q!==null){Q.flags&=-257,Hv(Q,x,E,w,a),Q.mode&1&&Uv(w,_,a),a=Q,M=_;var re=a.updateQueue;if(re===null){var le=new Set;le.add(M),a.updateQueue=le}else re.add(M);break e}else{if((a&1)===0){Uv(w,_,a),Wh();break e}M=Error(n(426))}}else if(Je&&E.mode&1){var dt=Wv(x);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Hv(dt,x,E,w,a),th(ws(M,E));break e}}w=M=ws(M,E),vt!==4&&(vt=2),Yl===null?Yl=[w]:Yl.push(w),w=x;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var I=Bv(w,M,a);pv(w,I);break e;case 1:E=M;var O=w.type,R=w.stateNode;if((w.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(bo===null||!bo.has(R)))){w.flags|=65536,a&=-a,w.lanes|=a;var Y=Vv(w,E,a);pv(w,Y);break e}}w=w.return}while(w!==null)}S0(d)}catch(ue){a=ue,ht===d&&d!==null&&(ht=d=d.return);continue}break}while(!0)}function k0(){var s=qu.current;return qu.current=ju,s===null?ju:s}function Wh(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||(gi&268435455)===0&&(Zu&268435455)===0||Co(Tt,_t)}function Xu(s,a){var d=$e;$e|=2;var p=k0();(Tt!==s||_t!==a)&&(Ur=null,vi(s,a));do try{VT();break}catch(g){w0(s,g)}while(!0);if(rh(),$e=d,qu.current=p,ht!==null)throw Error(n(261));return Tt=null,_t=0,vt}function VT(){for(;ht!==null;)b0(ht)}function UT(){for(;ht!==null&&!pE();)b0(ht)}function b0(s){var a=E0(s.alternate,s,On);s.memoizedProps=s.pendingProps,a===null?S0(s):ht=a,_h.current=null}function S0(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=_T(d,a,On),d!==null){ht=d;return}}else{if(d=zT(d,a),d!==null){d.flags&=32767,ht=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{vt=6,ht=null;return}}if(a=a.sibling,a!==null){ht=a;return}ht=a=s}while(a!==null);vt===0&&(vt=5)}function wi(s,a,d){var p=je,g=Ln.transition;try{Ln.transition=null,je=1,WT(s,a,d,p)}finally{Ln.transition=g,je=p}return null}function WT(s,a,d,p){do xs();while(So!==null);if(($e&6)!==0)throw Error(n(327));d=s.finishedWork;var g=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=d.lanes|d.childLanes;if(CE(s,w),s===Tt&&(ht=Tt=null,_t=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Yu||(Yu=!0,T0(ru,function(){return xs(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Ln.transition,Ln.transition=null;var x=je;je=1;var E=$e;$e|=4,_h.current=null,$T(s,d),f0(d,s),cT(Wf),cu=!!Uf,Wf=Uf=null,s.current=d,FT(d),mE(),$e=E,je=x,Ln.transition=w}else s.current=d;if(Yu&&(Yu=!1,So=s,Ju=g),w=s.pendingLanes,w===0&&(bo=null),vE(d.stateNode),yn(s,ct()),a!==null)for(p=s.onRecoverableError,d=0;d<a.length;d++)g=a[d],p(g.value,{componentStack:g.stack,digest:g.digest});if(Ku)throw Ku=!1,s=$h,$h=null,s;return(Ju&1)!==0&&s.tag!==0&&xs(),w=s.pendingLanes,(w&1)!==0?s===Fh?Jl++:(Jl=0,Fh=s):Jl=0,yo(),null}function xs(){if(So!==null){var s=cy(Ju),a=Ln.transition,d=je;try{if(Ln.transition=null,je=16>s?16:s,So===null)var p=!1;else{if(s=So,So=null,Ju=0,($e&6)!==0)throw Error(n(331));var g=$e;for($e|=4,te=s.current;te!==null;){var w=te,x=w.child;if((te.flags&16)!==0){var E=w.deletions;if(E!==null){for(var M=0;M<E.length;M++){var _=E[M];for(te=_;te!==null;){var H=te;switch(H.tag){case 0:case 11:case 15:Zl(8,H,w)}var Z=H.child;if(Z!==null)Z.return=H,te=Z;else for(;te!==null;){H=te;var W=H.sibling,Q=H.return;if(l0(H),H===_){te=null;break}if(W!==null){W.return=Q,te=W;break}te=Q}}}var re=w.alternate;if(re!==null){var le=re.child;if(le!==null){re.child=null;do{var dt=le.sibling;le.sibling=null,le=dt}while(le!==null)}}te=w}}if((w.subtreeFlags&2064)!==0&&x!==null)x.return=w,te=x;else e:for(;te!==null;){if(w=te,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Zl(9,w,w.return)}var I=w.sibling;if(I!==null){I.return=w.return,te=I;break e}te=w.return}}var O=s.current;for(te=O;te!==null;){x=te;var R=x.child;if((x.subtreeFlags&2064)!==0&&R!==null)R.return=x,te=R;else e:for(x=O;te!==null;){if(E=te,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Hu(9,E)}}catch(ue){st(E,E.return,ue)}if(E===x){te=null;break e}var Y=E.sibling;if(Y!==null){Y.return=E.return,te=Y;break e}te=E.return}}if($e=g,yo(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(ou,s)}catch{}p=!0}return p}finally{je=d,Ln.transition=a}}return!1}function x0(s,a,d){a=ws(d,a),a=Bv(s,a,1),s=wo(s,a,1),a=Xt(),s!==null&&(kl(s,1,a),yn(s,a))}function st(s,a,d){if(s.tag===3)x0(s,s,d);else for(;a!==null;){if(a.tag===3){x0(a,s,d);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(bo===null||!bo.has(p))){s=ws(d,s),s=Vv(a,s,1),a=wo(a,s,1),s=Xt(),a!==null&&(kl(a,1,s),yn(a,s));break}}a=a.return}}function HT(s,a,d){var p=s.pingCache;p!==null&&p.delete(a),a=Xt(),s.pingedLanes|=s.suspendedLanes&d,Tt===s&&(_t&d)===d&&(vt===4||vt===3&&(_t&130023424)===_t&&500>ct()-Lh?vi(s,0):zh|=d),yn(s,a)}function C0(s,a){a===0&&((s.mode&1)===0?a=1:(a=su,su<<=1,(su&130023424)===0&&(su=4194304)));var d=Xt();s=jr(s,a),s!==null&&(kl(s,a,d),yn(s,d))}function qT(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),C0(s,d)}function ZT(s,a){var d=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),C0(s,d)}var E0;E0=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||hn.current)mn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return mn=!1,RT(s,a,d);mn=(s.flags&131072)!==0}else mn=!1,Je&&(a.flags&1048576)!==0&&ov(a,Ou,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Uu(s,a),s=a.pendingProps;var g=ds(a,Ut.current);ys(a,d),g=ph(null,a,p,s,g,d);var w=mh();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,pn(p)?(w=!0,Eu(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,lh(a),g.updater=Bu,a.stateNode=g,g._reactInternals=a,bh(a,p,s,d),a=Eh(null,a,p,!0,w,d)):(a.tag=0,Je&&w&&Gf(a),Qt(null,a,g,d),a=a.child),a;case 16:p=a.elementType;e:{switch(Uu(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=YT(p),s=rr(p,s),g){case 0:a=Ch(null,a,p,s,d);break e;case 1:a=Gv(null,a,p,s,d);break e;case 11:a=qv(null,a,p,s,d);break e;case 14:a=Zv(null,a,p,rr(p.type,s),d);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:rr(p,g),Ch(s,a,p,g,d);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:rr(p,g),Gv(s,a,p,g,d);case 3:e:{if(Qv(a),s===null)throw Error(n(387));p=a.pendingProps,w=a.memoizedState,g=w.element,hv(s,a),Ru(a,p,null,d);var x=a.memoizedState;if(p=x.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=ws(Error(n(423)),a),a=Xv(s,a,p,d,g);break e}else if(p!==g){g=ws(Error(n(424)),a),a=Xv(s,a,p,d,g);break e}else for(Mn=po(a.stateNode.containerInfo.firstChild),Tn=a,Je=!0,nr=null,d=dv(a,null,p,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ps(),p===g){a=Vr(s,a,d);break e}Qt(s,a,p,d)}a=a.child}return a;case 5:return gv(a),s===null&&eh(a),p=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,x=g.children,Hf(p,g)?x=null:w!==null&&Hf(p,w)&&(a.flags|=32),Jv(s,a),Qt(s,a,x,d),a.child;case 6:return s===null&&eh(a),null;case 13:return e0(s,a,d);case 4:return ah(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ms(a,null,p,d):Qt(s,a,p,d),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:rr(p,g),qv(s,a,p,g,d);case 7:return Qt(s,a,a.pendingProps,d),a.child;case 8:return Qt(s,a,a.pendingProps.children,d),a.child;case 12:return Qt(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,w=a.memoizedProps,x=g.value,We(Au,p._currentValue),p._currentValue=x,w!==null)if(tr(w.value,x)){if(w.children===g.children&&!hn.current){a=Vr(s,a,d);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var E=w.dependencies;if(E!==null){x=w.child;for(var M=E.firstContext;M!==null;){if(M.context===p){if(w.tag===1){M=Br(-1,d&-d),M.tag=2;var _=w.updateQueue;if(_!==null){_=_.shared;var H=_.pending;H===null?M.next=M:(M.next=H.next,H.next=M),_.pending=M}}w.lanes|=d,M=w.alternate,M!==null&&(M.lanes|=d),ih(w.return,d,a),E.lanes|=d;break}M=M.next}}else if(w.tag===10)x=w.type===a.type?null:w.child;else if(w.tag===18){if(x=w.return,x===null)throw Error(n(341));x.lanes|=d,E=x.alternate,E!==null&&(E.lanes|=d),ih(x,d,a),x=w.sibling}else x=w.child;if(x!==null)x.return=w;else for(x=w;x!==null;){if(x===a){x=null;break}if(w=x.sibling,w!==null){w.return=x.return,x=w;break}x=x.return}w=x}Qt(s,a,g.children,d),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,ys(a,d),g=_n(g),p=p(g),a.flags|=1,Qt(s,a,p,d),a.child;case 14:return p=a.type,g=rr(p,a.pendingProps),g=rr(p.type,g),Zv(s,a,p,g,d);case 15:return Kv(s,a,a.type,a.pendingProps,d);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:rr(p,g),Uu(s,a),a.tag=1,pn(p)?(s=!0,Eu(a)):s=!1,ys(a,d),Fv(a,p,g),bh(a,p,g,d),Eh(null,a,p,!0,s,d);case 19:return n0(s,a,d);case 22:return Yv(s,a,d)}throw Error(n(156,a.tag))};function T0(s,a){return iy(s,a)}function KT(s,a,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,a,d,p){return new KT(s,a,d,p)}function Hh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function YT(s){if(typeof s=="function")return Hh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Ie)return 11;if(s===De)return 14}return 2}function Eo(s,a){var d=s.alternate;return d===null?(d=$n(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function ec(s,a,d,p,g,w){var x=2;if(p=s,typeof s=="function")Hh(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case $:return ki(d.children,g,w,a);case L:x=8,g|=8;break;case J:return s=$n(12,d,a,g|2),s.elementType=J,s.lanes=w,s;case Re:return s=$n(13,d,a,g),s.elementType=Re,s.lanes=w,s;case Me:return s=$n(19,d,a,g),s.elementType=Me,s.lanes=w,s;case ge:return tc(d,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ee:x=10;break e;case ae:x=9;break e;case Ie:x=11;break e;case De:x=14;break e;case Pe:x=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=$n(x,d,a,g),a.elementType=s,a.type=p,a.lanes=w,a}function ki(s,a,d,p){return s=$n(7,s,p,a),s.lanes=d,s}function tc(s,a,d,p){return s=$n(22,s,p,a),s.elementType=ge,s.lanes=d,s.stateNode={isHidden:!1},s}function qh(s,a,d){return s=$n(6,s,null,a),s.lanes=d,s}function Zh(s,a,d){return a=$n(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function JT(s,a,d,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Kh(s,a,d,p,g,w,x,E,M){return s=new JT(s,a,d,E,M),a===1?(a=1,w===!0&&(a|=8)):a=0,w=$n(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(w),s}function GT(s,a,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:p==null?null:""+p,children:s,containerInfo:a,implementation:d}}function M0(s){if(!s)return go;s=s._reactInternals;e:{if(ai(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(pn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(pn(d))return tv(s,d,a)}return a}function O0(s,a,d,p,g,w,x,E,M){return s=Kh(d,p,!0,s,g,w,x,E,M),s.context=M0(null),d=s.current,p=Xt(),g=xo(d),w=Br(p,g),w.callback=a??null,wo(d,w,g),s.current.lanes=g,kl(s,g,p),yn(s,p),s}function nc(s,a,d,p){var g=a.current,w=Xt(),x=xo(g);return d=M0(d),a.context===null?a.context=d:a.pendingContext=d,a=Br(w,x),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=wo(g,a,x),s!==null&&(sr(s,g,x,w),Pu(s,g,x)),x}function rc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function N0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function Yh(s,a){N0(s,a),(s=s.alternate)&&N0(s,a)}function QT(){return null}var D0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Jh(s){this._internalRoot=s}oc.prototype.render=Jh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));nc(s,a,null,null)},oc.prototype.unmount=Jh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;yi(function(){nc(null,s,null,null)}),a[zr]=null}};function oc(s){this._internalRoot=s}oc.prototype.unstable_scheduleHydration=function(s){if(s){var a=hy();s={blockedOn:null,target:s,priority:a};for(var d=0;d<co.length&&a!==0&&a<co[d].priority;d++);co.splice(d,0,s),d===0&&gy(s)}};function Gh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ic(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function A0(){}function XT(s,a,d,p,g){if(g){if(typeof p=="function"){var w=p;p=function(){var _=rc(x);w.call(_)}}var x=O0(a,p,s,0,null,!1,!1,"",A0);return s._reactRootContainer=x,s[zr]=x.current,Rl(s.nodeType===8?s.parentNode:s),yi(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var E=p;p=function(){var _=rc(M);E.call(_)}}var M=Kh(s,0,!1,null,null,!1,!1,"",A0);return s._reactRootContainer=M,s[zr]=M.current,Rl(s.nodeType===8?s.parentNode:s),yi(function(){nc(a,M,d,p)}),M}function sc(s,a,d,p,g){var w=d._reactRootContainer;if(w){var x=w;if(typeof g=="function"){var E=g;g=function(){var M=rc(x);E.call(M)}}nc(a,x,s,g)}else x=XT(d,a,s,g,p);return rc(x)}dy=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=wl(a.pendingLanes);d!==0&&(bf(a,d|1),yn(a,ct()),($e&6)===0&&(Ss=ct()+500,yo()))}break;case 13:yi(function(){var p=jr(s,1);if(p!==null){var g=Xt();sr(p,s,1,g)}}),Yh(s,1)}},Sf=function(s){if(s.tag===13){var a=jr(s,134217728);if(a!==null){var d=Xt();sr(a,s,134217728,d)}Yh(s,134217728)}},fy=function(s){if(s.tag===13){var a=xo(s),d=jr(s,a);if(d!==null){var p=Xt();sr(d,s,a,p)}Yh(s,a)}},hy=function(){return je},py=function(s,a){var d=je;try{return je=s,a()}finally{je=d}},yl=function(s,a,d){switch(a){case"input":if(Qi(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var p=d[a];if(p!==s&&p.form===s.form){var g=xu(p);if(!g)throw Error(n(90));Ct(p),Qi(p,g)}}}break;case"textarea":hl(s,d);break;case"select":a=d.value,a!=null&&Yn(s,!!d.multiple,a,!1)}},Gt=Vh,Bt=yi;var eM={usingClientEntryPoint:!1,Events:[Ll,us,xu,jt,Gn,Vh]},Gl={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tM={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ry(s),s===null?null:s.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||QT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{ou=lc.inject(tM),yr=lc}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eM,vn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gh(a))throw Error(n(200));return GT(s,a,null,d)},vn.createRoot=function(s,a){if(!Gh(s))throw Error(n(299));var d=!1,p="",g=D0;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Kh(s,1,!1,null,null,d,!1,p,g),s[zr]=a.current,Rl(s.nodeType===8?s.parentNode:s),new Jh(a)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=ry(a),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return yi(s)},vn.hydrate=function(s,a,d){if(!ic(a))throw Error(n(200));return sc(null,s,a,!0,d)},vn.hydrateRoot=function(s,a,d){if(!Gh(s))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,g=!1,w="",x=D0;if(d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(x=d.onRecoverableError)),a=O0(a,null,s,1,d??null,g,!1,w,x),s[zr]=a.current,Rl(s),p)for(s=0;s<p.length;s++)d=p[s],g=d._getVersion,g=g(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,g]:a.mutableSourceEagerHydrationData.push(d,g);return new oc(a)},vn.render=function(s,a,d){if(!ic(a))throw Error(n(200));return sc(null,s,a,!1,d)},vn.unmountComponentAtNode=function(s){if(!ic(s))throw Error(n(40));return s._reactRootContainer?(yi(function(){sc(null,null,s,!1,function(){s._reactRootContainer=null,s[zr]=null})}),!0):!1},vn.unstable_batchedUpdates=Vh,vn.unstable_renderSubtreeIntoContainer=function(s,a,d,p){if(!ic(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return sc(s,a,d,!1,p)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var K0;function tb(){if(K0)return tp.exports;K0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tp.exports=_M(),tp.exports}var Y0;function zM(){if(Y0)return cc;Y0=1;var t=tb();return cc.createRoot=t.createRoot,cc.hydrateRoot=t.hydrateRoot,cc}var LM=zM();const KV=Hm(LM);var Ps=tb();const $M=Hm(Ps);function FM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return z.useMemo(()=>r=>{e.forEach(o=>o(r))},e)}const qd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ol(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Km(t){return"nodeType"in t}function an(t){var e,n;return t?ol(t)?t:Km(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Ym(t){const{Document:e}=an(t);return t instanceof e}function Ua(t){return ol(t)?!1:t instanceof an(t).HTMLElement}function nb(t){return t instanceof an(t).SVGElement}function il(t){return t?ol(t)?t.document:Km(t)?Ym(t)?t:Ua(t)||nb(t)?t.ownerDocument:document:document:document}const hr=qd?z.useLayoutEffect:z.useEffect;function Zd(t){const e=z.useRef(t);return hr(()=>{e.current=t}),z.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}function jM(){const t=z.useRef(null),e=z.useCallback((r,o)=>{t.current=setInterval(r,o)},[]),n=z.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ca(t,e){e===void 0&&(e=[t]);const n=z.useRef(t);return hr(()=>{n.current!==t&&(n.current=t)},e),n}function Wa(t,e){const n=z.useRef();return z.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function jc(t){const e=Zd(t),n=z.useRef(null),r=z.useCallback(o=>{o!==n.current&&(e==null||e(o,n.current)),n.current=o},[]);return[n,r]}function Bc(t){const e=z.useRef();return z.useEffect(()=>{e.current=t},[t]),e.current}let op={};function Ha(t,e){return z.useMemo(()=>{if(e)return e;const n=op[t]==null?0:op[t]+1;return op[t]=n,t+"-"+n},[t,e])}function rb(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,l)=>{const u=Object.entries(l);for(const[c,f]of u){const h=i[c];h!=null&&(i[c]=h+t*f)}return i},{...e})}}const Ls=rb(1),Ea=rb(-1);function BM(t){return"clientX"in t&&"clientY"in t}function Kd(t){if(!t)return!1;const{KeyboardEvent:e}=an(t.target);return e&&t instanceof e}function VM(t){if(!t)return!1;const{TouchEvent:e}=an(t.target);return e&&t instanceof e}function Vc(t){if(VM(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return BM(t)?{x:t.clientX,y:t.clientY}:null}const ji=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ji.Translate.toString(t),ji.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),J0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function UM(t){return t.matches(J0)?t:t.querySelector(J0)}const WM={display:"none"};function HM(t){let{id:e,value:n}=t;return Le.createElement("div",{id:e,style:WM},n)}function qM(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Le.createElement("div",{id:e,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function ZM(){const[t,e]=z.useState("");return{announce:z.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const ob=z.createContext(null);function KM(t){const e=z.useContext(ob);z.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function YM(){const[t]=z.useState(()=>new Set),e=z.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[z.useCallback(r=>{let{type:o,event:i}=r;t.forEach(l=>{var u;return(u=l[o])==null?void 0:u.call(l,i)})},[t]),e]}const JM={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},GM={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function QM(t){let{announcements:e=GM,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=JM}=t;const{announce:i,announcement:l}=ZM(),u=Ha("DndLiveRegion"),[c,f]=z.useState(!1);if(z.useEffect(()=>{f(!0)},[]),KM(z.useMemo(()=>({onDragStart(m){let{active:y}=m;i(e.onDragStart({active:y}))},onDragMove(m){let{active:y,over:v}=m;e.onDragMove&&i(e.onDragMove({active:y,over:v}))},onDragOver(m){let{active:y,over:v}=m;i(e.onDragOver({active:y,over:v}))},onDragEnd(m){let{active:y,over:v}=m;i(e.onDragEnd({active:y,over:v}))},onDragCancel(m){let{active:y,over:v}=m;i(e.onDragCancel({active:y,over:v}))}}),[i,e])),!c)return null;const h=Le.createElement(Le.Fragment,null,Le.createElement(HM,{id:r,value:o.draggable}),Le.createElement(qM,{id:u,announcement:l}));return n?Ps.createPortal(h,n):h}var kt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(kt||(kt={}));function Uc(){}function YV(t,e){return z.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function JV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return z.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const pr=Object.freeze({x:0,y:0});function Jm(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function XM(t,e){const n=Vc(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Gm(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function eO(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function tm(t){let{left:e,top:n,height:r,width:o}=t;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+r},{x:e+o,y:n+r}]}function ib(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function G0(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const GV=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=G0(e,e.left,e.top),i=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const f=Jm(G0(c),o);i.push({id:u,data:{droppableContainer:l,value:f}})}}return i.sort(Gm)},tO=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=tm(e),i=[];for(const l of r){const{id:u}=l,c=n.get(u);if(c){const f=tm(c),h=o.reduce((y,v,k)=>y+Jm(f[k],v),0),m=Number((h/4).toFixed(4));i.push({id:u,data:{droppableContainer:l,value:m}})}}return i.sort(Gm)};function nO(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),l=o-r,u=i-n;if(r<o&&n<i){const c=e.width*e.height,f=t.width*t.height,h=l*u,m=h/(c+f-h);return Number(m.toFixed(4))}return 0}const rO=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const o=[];for(const i of r){const{id:l}=i,u=n.get(l);if(u){const c=nO(u,e);c>0&&o.push({id:l,data:{droppableContainer:i,value:c}})}}return o.sort(eO)};function oO(t,e){const{top:n,left:r,bottom:o,right:i}=e;return n<=t.y&&t.y<=o&&r<=t.x&&t.x<=i}const QV=t=>{let{droppableContainers:e,droppableRects:n,pointerCoordinates:r}=t;if(!r)return[];const o=[];for(const i of e){const{id:l}=i,u=n.get(l);if(u&&oO(r,u)){const f=tm(u).reduce((m,y)=>m+Jm(r,y),0),h=Number((f/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:h}})}}return o.sort(Gm)};function iO(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function sb(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:pr}function sO(t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const lO=sO(1);function lb(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function aO(t,e,n){const r=lb(e);if(!r)return t;const{scaleX:o,scaleY:i,x:l,y:u}=r,c=t.left-l-(1-o)*parseFloat(n),f=t.top-u-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=o?t.width/o:t.width,m=i?t.height/i:t.height;return{width:h,height:m,top:f,right:c+h,bottom:f+m,left:c}}const uO={ignoreTransform:!1};function sl(t,e){e===void 0&&(e=uO);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:h}=an(t).getComputedStyle(t);f&&(n=aO(n,f,h))}const{top:r,left:o,width:i,height:l,bottom:u,right:c}=n;return{top:r,left:o,width:i,height:l,bottom:u,right:c}}function Q0(t){return sl(t,{ignoreTransform:!0})}function cO(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function dO(t,e){return e===void 0&&(e=an(t).getComputedStyle(t)),e.position==="fixed"}function fO(t,e){e===void 0&&(e=an(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=e[o];return typeof i=="string"?n.test(i):!1})}function Yd(t,e){const n=[];function r(o){if(e!=null&&n.length>=e||!o)return n;if(Ym(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ua(o)||nb(o)||n.includes(o))return n;const i=an(t).getComputedStyle(o);return o!==t&&fO(o,i)&&n.push(o),dO(o,i)?n:r(o.parentNode)}return t?r(t):n}function ab(t){const[e]=Yd(t,1);return e??null}function ip(t){return!qd||!t?null:ol(t)?t:Km(t)?Ym(t)||t===il(t).scrollingElement?window:Ua(t)?t:null:null}function ub(t){return ol(t)?t.scrollX:t.scrollLeft}function cb(t){return ol(t)?t.scrollY:t.scrollTop}function nm(t){return{x:ub(t),y:cb(t)}}var Nt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Nt||(Nt={}));function db(t){return!qd||!t?!1:t===document.scrollingElement}function fb(t){const e={x:0,y:0},n=db(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,u=t.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:l,isRight:u,maxScroll:r,minScroll:e}}const hO={x:.2,y:.2};function pO(t,e,n,r,o){let{top:i,left:l,right:u,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=hO);const{isTop:f,isBottom:h,isLeft:m,isRight:y}=fb(t),v={x:0,y:0},k={x:0,y:0},b={height:e.height*o.y,width:e.width*o.x};return!f&&i<=e.top+b.height?(v.y=Nt.Backward,k.y=r*Math.abs((e.top+b.height-i)/b.height)):!h&&c>=e.bottom-b.height&&(v.y=Nt.Forward,k.y=r*Math.abs((e.bottom-b.height-c)/b.height)),!y&&u>=e.right-b.width?(v.x=Nt.Forward,k.x=r*Math.abs((e.right-b.width-u)/b.width)):!m&&l<=e.left+b.width&&(v.x=Nt.Backward,k.x=r*Math.abs((e.left+b.width-l)/b.width)),{direction:v,speed:k}}function mO(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:l}=window;return{top:0,left:0,right:i,bottom:l,width:i,height:l}}const{top:e,left:n,right:r,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:o,width:t.clientWidth,height:t.clientHeight}}function hb(t){return t.reduce((e,n)=>Ls(e,nm(n)),pr)}function gO(t){return t.reduce((e,n)=>e+ub(n),0)}function yO(t){return t.reduce((e,n)=>e+cb(n),0)}function pb(t,e){if(e===void 0&&(e=sl),!t)return;const{top:n,left:r,bottom:o,right:i}=e(t);ab(t)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const vO=[["x",["left","right"],gO],["y",["top","bottom"],yO]];class Qm{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Yd(n),o=hb(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,l,u]of vO)for(const c of l)Object.defineProperty(this,c,{get:()=>{const f=u(r),h=o[i]-f;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ua{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var o;(o=this.target)==null||o.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function wO(t){const{EventTarget:e}=an(t);return t instanceof e?t:il(t)}function sp(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Vn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Vn||(Vn={}));function X0(t){t.preventDefault()}function kO(t){t.stopPropagation()}var ze;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ze||(ze={}));const mb={start:[ze.Space,ze.Enter],cancel:[ze.Esc],end:[ze.Space,ze.Enter,ze.Tab]},bO=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ze.Right:return{...n,x:n.x+25};case ze.Left:return{...n,x:n.x-25};case ze.Down:return{...n,y:n.y+25};case ze.Up:return{...n,y:n.y-25}}};class gb{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ua(il(n)),this.windowListeners=new ua(an(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Vn.Resize,this.handleCancel),this.windowListeners.add(Vn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Vn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&pb(r),n(pr)}handleKeyDown(e){if(Kd(e)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=mb,coordinateGetter:l=bO,scrollBehavior:u="smooth"}=o,{code:c}=e;if(i.end.includes(c)){this.handleEnd(e);return}if(i.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:f}=r.current,h=f?{x:f.left,y:f.top}:pr;this.referenceCoordinates||(this.referenceCoordinates=h);const m=l(e,{active:n,context:r.current,currentCoordinates:h});if(m){const y=Ea(m,h),v={x:0,y:0},{scrollableAncestors:k}=r.current;for(const b of k){const S=e.code,{isTop:C,isRight:T,isLeft:N,isBottom:D,maxScroll:P,minScroll:F}=fb(b),$=mO(b),L={x:Math.min(S===ze.Right?$.right-$.width/2:$.right,Math.max(S===ze.Right?$.left:$.left+$.width/2,m.x)),y:Math.min(S===ze.Down?$.bottom-$.height/2:$.bottom,Math.max(S===ze.Down?$.top:$.top+$.height/2,m.y))},J=S===ze.Right&&!T||S===ze.Left&&!N,ee=S===ze.Down&&!D||S===ze.Up&&!C;if(J&&L.x!==m.x){const ae=b.scrollLeft+y.x,Ie=S===ze.Right&&ae<=P.x||S===ze.Left&&ae>=F.x;if(Ie&&!y.y){b.scrollTo({left:ae,behavior:u});return}Ie?v.x=b.scrollLeft-ae:v.x=S===ze.Right?b.scrollLeft-P.x:b.scrollLeft-F.x,v.x&&b.scrollBy({left:-v.x,behavior:u});break}else if(ee&&L.y!==m.y){const ae=b.scrollTop+y.y,Ie=S===ze.Down&&ae<=P.y||S===ze.Up&&ae>=F.y;if(Ie&&!y.x){b.scrollTo({top:ae,behavior:u});return}Ie?v.y=b.scrollTop-ae:v.y=S===ze.Down?b.scrollTop-P.y:b.scrollTop-F.y,v.y&&b.scrollBy({top:-v.y,behavior:u});break}}this.handleMove(e,Ls(Ea(m,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gb.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=mb,onActivation:o}=e,{active:i}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const u=i.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),o==null||o({event:t.nativeEvent}),!0)}return!1}}];function ew(t){return!!(t&&"distance"in t)}function tw(t){return!!(t&&"delay"in t)}class Xm{constructor(e,n,r){var o;r===void 0&&(r=wO(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:l}=i;this.props=e,this.events=n,this.document=il(l),this.documentListeners=new ua(this.document),this.listeners=new ua(r),this.windowListeners=new ua(an(l)),this.initialCoordinates=(o=Vc(i))!=null?o:pr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Vn.Resize,this.handleCancel),this.windowListeners.add(Vn.DragStart,X0),this.windowListeners.add(Vn.VisibilityChange,this.handleCancel),this.windowListeners.add(Vn.ContextMenu,X0),this.documentListeners.add(Vn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tw(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ew(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:o}=this.props;o(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Vn.Click,kO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Vn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:l,options:{activationConstraint:u}}=i;if(!o)return;const c=(n=Vc(e))!=null?n:pr,f=Ea(o,c);if(!r&&u){if(ew(u)){if(u.tolerance!=null&&sp(f,u.tolerance))return this.handleCancel();if(sp(f,u.distance))return this.handleStart()}if(tw(u)&&sp(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),l(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ze.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const SO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yb extends Xm{constructor(e){const{event:n}=e,r=il(n.target);super(e,SO,r)}}yb.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const xO={move:{name:"mousemove"},end:{name:"mouseup"}};var rm;(function(t){t[t.RightClick=2]="RightClick"})(rm||(rm={}));class CO extends Xm{constructor(e){super(e,xO,il(e.event.target))}}CO.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===rm.RightClick?!1:(r==null||r({event:n}),!0)}}];const lp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class EO extends Xm{constructor(e){super(e,lp)}static setup(){return window.addEventListener(lp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(lp.move.name,e)};function e(){}}}EO.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var ca;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ca||(ca={}));var Wc;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Wc||(Wc={}));function TO(t){let{acceleration:e,activator:n=ca.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:l=5,order:u=Wc.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:h,delta:m,threshold:y}=t;const v=OO({delta:m,disabled:!i}),[k,b]=jM(),S=z.useRef({x:0,y:0}),C=z.useRef({x:0,y:0}),T=z.useMemo(()=>{switch(n){case ca.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ca.DraggableRect:return o}},[n,o,c]),N=z.useRef(null),D=z.useCallback(()=>{const F=N.current;if(!F)return;const $=S.current.x*C.current.x,L=S.current.y*C.current.y;F.scrollBy($,L)},[]),P=z.useMemo(()=>u===Wc.TreeOrder?[...f].reverse():f,[u,f]);z.useEffect(()=>{if(!i||!f.length||!T){b();return}for(const F of P){if((r==null?void 0:r(F))===!1)continue;const $=f.indexOf(F),L=h[$];if(!L)continue;const{direction:J,speed:ee}=pO(F,L,T,e,y);for(const ae of["x","y"])v[ae][J[ae]]||(ee[ae]=0,J[ae]=0);if(ee.x>0||ee.y>0){b(),N.current=F,k(D,l),S.current=ee,C.current=J;return}}S.current={x:0,y:0},C.current={x:0,y:0},b()},[e,D,r,b,i,l,JSON.stringify(T),JSON.stringify(v),k,f,P,h,JSON.stringify(y)])}const MO={x:{[Nt.Backward]:!1,[Nt.Forward]:!1},y:{[Nt.Backward]:!1,[Nt.Forward]:!1}};function OO(t){let{delta:e,disabled:n}=t;const r=Bc(e);return Wa(o=>{if(n||!r||!o)return MO;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Nt.Backward]:o.x[Nt.Backward]||i.x===-1,[Nt.Forward]:o.x[Nt.Forward]||i.x===1},y:{[Nt.Backward]:o.y[Nt.Backward]||i.y===-1,[Nt.Forward]:o.y[Nt.Forward]||i.y===1}}},[n,e,r])}function NO(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Wa(o=>{var i;return e==null?null:(i=r??o)!=null?i:null},[r,e])}function DO(t,e){return z.useMemo(()=>t.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...i]},[]),[t,e])}var Ta;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Ta||(Ta={}));var om;(function(t){t.Optimized="optimized"})(om||(om={}));const nw=new Map;function AO(t,e){let{dragging:n,dependencies:r,config:o}=e;const[i,l]=z.useState(null),{frequency:u,measure:c,strategy:f}=o,h=z.useRef(t),m=S(),y=Ca(m),v=z.useCallback(function(C){C===void 0&&(C=[]),!y.current&&l(T=>T===null?C:T.concat(C.filter(N=>!T.includes(N))))},[y]),k=z.useRef(null),b=Wa(C=>{if(m&&!n)return nw;if(!C||C===nw||h.current!==t||i!=null){const T=new Map;for(let N of t){if(!N)continue;if(i&&i.length>0&&!i.includes(N.id)&&N.rect.current){T.set(N.id,N.rect.current);continue}const D=N.node.current,P=D?new Qm(c(D),D):null;N.rect.current=P,P&&T.set(N.id,P)}return T}return C},[t,i,n,m,c]);return z.useEffect(()=>{h.current=t},[t]),z.useEffect(()=>{m||v()},[n,m]),z.useEffect(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),z.useEffect(()=>{m||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},u))},[u,m,v,...r]),{droppableRects:b,measureDroppableContainers:v,measuringScheduled:i!=null};function S(){switch(f){case Ta.Always:return!1;case Ta.BeforeDragging:return n;default:return!n}}}function eg(t,e){return Wa(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function IO(t,e){return eg(t,e)}function PO(t){let{callback:e,disabled:n}=t;const r=Zd(e),o=z.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return z.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Jd(t){let{callback:e,disabled:n}=t;const r=Zd(e),o=z.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return z.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function RO(t){return new Qm(sl(t),t)}function rw(t,e,n){e===void 0&&(e=RO);const[r,o]=z.useState(null);function i(){o(c=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=c??n)!=null?f:null}const h=e(t);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const l=PO({callback(c){if(t)for(const f of c){const{type:h,target:m}=f;if(h==="childList"&&m instanceof HTMLElement&&m.contains(t)){i();break}}}}),u=Jd({callback:i});return hr(()=>{i(),t?(u==null||u.observe(t),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[t]),r}function _O(t){const e=eg(t);return sb(t,e)}const ow=[];function zO(t){const e=z.useRef(t),n=Wa(r=>t?r&&r!==ow&&t&&e.current&&t.parentNode===e.current.parentNode?r:Yd(t):ow,[t]);return z.useEffect(()=>{e.current=t},[t]),n}function LO(t){const[e,n]=z.useState(null),r=z.useRef(t),o=z.useCallback(i=>{const l=ip(i.target);l&&n(u=>u?(u.set(l,nm(l)),new Map(u)):null)},[]);return z.useEffect(()=>{const i=r.current;if(t!==i){l(i);const u=t.map(c=>{const f=ip(c);return f?(f.addEventListener("scroll",o,{passive:!0}),[f,nm(f)]):null}).filter(c=>c!=null);n(u.length?new Map(u):null),r.current=t}return()=>{l(t),l(i)};function l(u){u.forEach(c=>{const f=ip(c);f==null||f.removeEventListener("scroll",o)})}},[o,t]),z.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,l)=>Ls(i,l),pr):hb(t):pr,[t,e])}function iw(t,e){e===void 0&&(e=[]);const n=z.useRef(null);return z.useEffect(()=>{n.current=null},e),z.useEffect(()=>{const r=t!==pr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Ea(t,n.current):pr}function $O(t){z.useEffect(()=>{if(!qd)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function FO(t,e){return z.useMemo(()=>t.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=l=>{i(l,e)},n},{}),[t,e])}function vb(t){return z.useMemo(()=>t?cO(t):null,[t])}const sw=[];function jO(t,e){e===void 0&&(e=sl);const[n]=t,r=vb(n?an(n):null),[o,i]=z.useState(sw);function l(){i(()=>t.length?t.map(c=>db(c)?r:new Qm(e(c),c)):sw)}const u=Jd({callback:l});return hr(()=>{u==null||u.disconnect(),l(),t.forEach(c=>u==null?void 0:u.observe(c))},[t]),o}function wb(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ua(e)?e:t}function BO(t){let{measure:e}=t;const[n,r]=z.useState(null),o=z.useCallback(f=>{for(const{target:h}of f)if(Ua(h)){r(m=>{const y=e(h);return m?{...m,width:y.width,height:y.height}:y});break}},[e]),i=Jd({callback:o}),l=z.useCallback(f=>{const h=wb(f);i==null||i.disconnect(),h&&(i==null||i.observe(h)),r(h?e(h):null)},[e,i]),[u,c]=jc(l);return z.useMemo(()=>({nodeRef:u,rect:n,setRef:c}),[n,u,c])}const VO=[{sensor:yb,options:{}},{sensor:gb,options:{}}],UO={current:{}},Ac={draggable:{measure:Q0},droppable:{measure:Q0,strategy:Ta.WhileDragging,frequency:om.Optimized},dragOverlay:{measure:sl}};class da extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const WO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new da,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Uc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ac,measureDroppableContainers:Uc,windowRect:null,measuringScheduled:!1},kb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Uc,draggableNodes:new Map,over:null,measureDroppableContainers:Uc},qa=z.createContext(kb),bb=z.createContext(WO);function HO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new da}}}function qO(t,e){switch(e.type){case kt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case kt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case kt.DragEnd:case kt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kt.RegisterDroppable:{const{element:n}=e,{id:r}=n,o=new da(t.droppable.containers);return o.set(r,n),{...t,droppable:{...t.droppable,containers:o}}}case kt.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const l=new da(t.droppable.containers);return l.set(n,{...i,disabled:o}),{...t,droppable:{...t.droppable,containers:l}}}case kt.UnregisterDroppable:{const{id:n,key:r}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const i=new da(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function ZO(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:o}=z.useContext(qa),i=Bc(r),l=Bc(n==null?void 0:n.id);return z.useEffect(()=>{if(!e&&!r&&i&&l!=null){if(!Kd(i)||document.activeElement===i.target)return;const u=o.get(l);if(!u)return;const{activatorNode:c,node:f}=u;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[c.current,f.current]){if(!h)continue;const m=UM(h);if(m){m.focus();break}}})}},[r,e,o,l,i]),null}function Sb(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((o,i)=>i({transform:o,...r}),n):n}function KO(t){return z.useMemo(()=>({draggable:{...Ac.draggable,...t==null?void 0:t.draggable},droppable:{...Ac.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Ac.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function YO(t){let{activeNode:e,measure:n,initialRect:r,config:o=!0}=t;const i=z.useRef(!1),{x:l,y:u}=typeof o=="boolean"?{x:o,y:o}:o;hr(()=>{if(!l&&!u||!e){i.current=!1;return}if(i.current||!r)return;const f=e==null?void 0:e.node.current;if(!f||f.isConnected===!1)return;const h=n(f),m=sb(h,r);if(l||(m.x=0),u||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=ab(f);y&&y.scrollBy({top:m.y,left:m.x})}},[e,l,u,r,n])}const Gd=z.createContext({...pr,scaleX:1,scaleY:1});var Io;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Io||(Io={}));const XV=z.memo(function(e){var n,r,o,i;let{id:l,accessibility:u,autoScroll:c=!0,children:f,sensors:h=VO,collisionDetection:m=rO,measuring:y,modifiers:v,...k}=e;const b=z.useReducer(qO,void 0,HO),[S,C]=b,[T,N]=YM(),[D,P]=z.useState(Io.Uninitialized),F=D===Io.Initialized,{draggable:{active:$,nodes:L,translate:J},droppable:{containers:ee}}=S,ae=$!=null?L.get($):null,Ie=z.useRef({initial:null,translated:null}),Re=z.useMemo(()=>{var Xe;return $!=null?{id:$,data:(Xe=ae==null?void 0:ae.data)!=null?Xe:UO,rect:Ie}:null},[$,ae]),Me=z.useRef(null),[De,Pe]=z.useState(null),[ge,j]=z.useState(null),se=Ca(k,Object.values(k)),G=Ha("DndDescribedBy",l),A=z.useMemo(()=>ee.getEnabled(),[ee]),U=KO(y),{droppableRects:ne,measureDroppableContainers:ce,measuringScheduled:xe}=AO(A,{dragging:F,dependencies:[J.x,J.y],config:U.droppable}),ve=NO(L,$),ye=z.useMemo(()=>ge?Vc(ge):null,[ge]),Ce=so(),Oe=IO(ve,U.draggable.measure);YO({activeNode:$!=null?L.get($):null,config:Ce.layoutShiftCompensation,initialRect:Oe,measure:U.draggable.measure});const we=rw(ve,U.draggable.measure,Oe),un=rw(ve?ve.parentElement:null),Ct=z.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:ee,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Kn=ee.getNodeFor((n=Ct.current.over)==null?void 0:n.id),xn=BO({measure:U.dragOverlay.measure}),Ir=(r=xn.nodeRef.current)!=null?r:ve,Pr=F?(o=xn.rect)!=null?o:we:null,Qi=!!(xn.nodeRef.current&&xn.rect),dl=_O(Qi?null:we),li=vb(Ir?an(Ir):null),cn=zO(F?Kn??ve:null),Yn=jO(cn),ro=Sb(v,{transform:{x:J.x-dl.x,y:J.y-dl.y,scaleX:1,scaleY:1},activatorEvent:ge,active:Re,activeNodeRect:we,containerNodeRect:un,draggingNodeRect:Pr,over:Ct.current.over,overlayNodeRect:xn.rect,scrollableAncestors:cn,scrollableAncestorRects:Yn,windowRect:li}),fl=ye?Ls(ye,J):null,hl=LO(cn),Qa=iw(hl),Xa=iw(hl,[we]),mr=Ls(ro,Qa),Jn=Pr?lO(Pr,ro):null,oo=Re&&Jn?m({active:Re,collisionRect:Jn,droppableRects:ne,droppableContainers:A,pointerCoordinates:fl}):null,io=ib(oo,"id"),[dn,eu]=z.useState(null),tu=Qi?ro:Ls(ro,Xa),nu=iO(tu,(i=dn==null?void 0:dn.rect)!=null?i:null,we),pl=z.useRef(null),Xi=z.useCallback((Xe,Ft)=>{let{sensor:jt,options:Gn}=Ft;if(Me.current==null)return;const Gt=L.get(Me.current);if(!Gt)return;const Bt=Xe.nativeEvent,fn=new jt({active:Me.current,activeNode:Gt,event:Bt,options:Gn,context:Ct,onAbort(et){if(!L.get(et))return;const{onDragAbort:Vt}=se.current,Qn={id:et};Vt==null||Vt(Qn),T({type:"onDragAbort",event:Qn})},onPending(et,In,Vt,Qn){if(!L.get(et))return;const{onDragPending:gr}=se.current,Cn={id:et,constraint:In,initialCoordinates:Vt,offset:Qn};gr==null||gr(Cn),T({type:"onDragPending",event:Cn})},onStart(et){const In=Me.current;if(In==null)return;const Vt=L.get(In);if(!Vt)return;const{onDragStart:Qn}=se.current,Xn={activatorEvent:Bt,active:{id:In,data:Vt.data,rect:Ie}};Ps.unstable_batchedUpdates(()=>{Qn==null||Qn(Xn),P(Io.Initializing),C({type:kt.DragStart,initialCoordinates:et,active:In}),T({type:"onDragStart",event:Xn}),Pe(pl.current),j(Bt)})},onMove(et){C({type:kt.DragMove,coordinates:et})},onEnd:Rr(kt.DragEnd),onCancel:Rr(kt.DragCancel)});pl.current=fn;function Rr(et){return async function(){const{active:Vt,collisions:Qn,over:Xn,scrollAdjustedTranslate:gr}=Ct.current;let Cn=null;if(Vt&&gr){const{cancelDrop:_r}=se.current;Cn={activatorEvent:Bt,active:Vt,collisions:Qn,delta:gr,over:Xn},et===kt.DragEnd&&typeof _r=="function"&&await Promise.resolve(_r(Cn))&&(et=kt.DragCancel)}Me.current=null,Ps.unstable_batchedUpdates(()=>{C({type:et}),P(Io.Uninitialized),eu(null),Pe(null),j(null),pl.current=null;const _r=et===kt.DragEnd?"onDragEnd":"onDragCancel";if(Cn){const vl=se.current[_r];vl==null||vl(Cn),T({type:_r,event:Cn})}})}}},[L]),ml=z.useCallback((Xe,Ft)=>(jt,Gn)=>{const Gt=jt.nativeEvent,Bt=L.get(Gn);if(Me.current!==null||!Bt||Gt.dndKit||Gt.defaultPrevented)return;const fn={active:Bt};Xe(jt,Ft.options,fn)===!0&&(Gt.dndKit={capturedBy:Ft.sensor},Me.current=Gn,Xi(jt,Ft))},[L,Xi]),es=DO(h,ml);$O(h),hr(()=>{we&&D===Io.Initializing&&P(Io.Initialized)},[we,D]),z.useEffect(()=>{const{onDragMove:Xe}=se.current,{active:Ft,activatorEvent:jt,collisions:Gn,over:Gt}=Ct.current;if(!Ft||!jt)return;const Bt={active:Ft,activatorEvent:jt,collisions:Gn,delta:{x:mr.x,y:mr.y},over:Gt};Ps.unstable_batchedUpdates(()=>{Xe==null||Xe(Bt),T({type:"onDragMove",event:Bt})})},[mr.x,mr.y]),z.useEffect(()=>{const{active:Xe,activatorEvent:Ft,collisions:jt,droppableContainers:Gn,scrollAdjustedTranslate:Gt}=Ct.current;if(!Xe||Me.current==null||!Ft||!Gt)return;const{onDragOver:Bt}=se.current,fn=Gn.get(io),Rr=fn&&fn.rect.current?{id:fn.id,rect:fn.rect.current,data:fn.data,disabled:fn.disabled}:null,et={active:Xe,activatorEvent:Ft,collisions:jt,delta:{x:Gt.x,y:Gt.y},over:Rr};Ps.unstable_batchedUpdates(()=>{eu(Rr),Bt==null||Bt(et),T({type:"onDragOver",event:et})})},[io]),hr(()=>{Ct.current={activatorEvent:ge,active:Re,activeNode:ve,collisionRect:Jn,collisions:oo,droppableRects:ne,draggableNodes:L,draggingNode:Ir,draggingNodeRect:Pr,droppableContainers:ee,over:dn,scrollableAncestors:cn,scrollAdjustedTranslate:mr},Ie.current={initial:Pr,translated:Jn}},[Re,ve,oo,Jn,L,Ir,Pr,ne,ee,dn,cn,mr]),TO({...Ce,delta:J,draggingRect:Jn,pointerCoordinates:fl,scrollableAncestors:cn,scrollableAncestorRects:Yn});const gl=z.useMemo(()=>({active:Re,activeNode:ve,activeNodeRect:we,activatorEvent:ge,collisions:oo,containerNodeRect:un,dragOverlay:xn,draggableNodes:L,droppableContainers:ee,droppableRects:ne,over:dn,measureDroppableContainers:ce,scrollableAncestors:cn,scrollableAncestorRects:Yn,measuringConfiguration:U,measuringScheduled:xe,windowRect:li}),[Re,ve,we,ge,oo,un,xn,L,ee,ne,dn,ce,cn,Yn,U,xe,li]),yl=z.useMemo(()=>({activatorEvent:ge,activators:es,active:Re,activeNodeRect:we,ariaDescribedById:{draggable:G},dispatch:C,draggableNodes:L,over:dn,measureDroppableContainers:ce}),[ge,es,Re,we,C,G,L,dn,ce]);return Le.createElement(ob.Provider,{value:N},Le.createElement(qa.Provider,{value:yl},Le.createElement(bb.Provider,{value:gl},Le.createElement(Gd.Provider,{value:nu},f)),Le.createElement(ZO,{disabled:(u==null?void 0:u.restoreFocus)===!1})),Le.createElement(QM,{...u,hiddenTextDescribedById:G}));function so(){const Xe=(De==null?void 0:De.autoScrollEnabled)===!1,Ft=typeof c=="object"?c.enabled===!1:c===!1,jt=F&&!Xe&&!Ft;return typeof c=="object"?{...c,enabled:jt}:{enabled:jt}}}),JO=z.createContext(null),lw="button",GO="Draggable";function QO(t){let{id:e,data:n,disabled:r=!1,attributes:o}=t;const i=Ha(GO),{activators:l,activatorEvent:u,active:c,activeNodeRect:f,ariaDescribedById:h,draggableNodes:m,over:y}=z.useContext(qa),{role:v=lw,roleDescription:k="draggable",tabIndex:b=0}=o??{},S=(c==null?void 0:c.id)===e,C=z.useContext(S?Gd:JO),[T,N]=jc(),[D,P]=jc(),F=FO(l,e),$=Ca(n);hr(()=>(m.set(e,{id:e,key:i,node:T,activatorNode:D,data:$}),()=>{const J=m.get(e);J&&J.key===i&&m.delete(e)}),[m,e]);const L=z.useMemo(()=>({role:v,tabIndex:b,"aria-disabled":r,"aria-pressed":S&&v===lw?!0:void 0,"aria-roledescription":k,"aria-describedby":h.draggable}),[r,v,b,S,k,h.draggable]);return{active:c,activatorEvent:u,activeNodeRect:f,attributes:L,isDragging:S,listeners:r?void 0:F,node:T,over:y,setNodeRef:N,setActivatorNodeRef:P,transform:C}}function xb(){return z.useContext(bb)}const XO="Droppable",eN={timeout:25};function tN(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:o}=t;const i=Ha(XO),{active:l,dispatch:u,over:c,measureDroppableContainers:f}=z.useContext(qa),h=z.useRef({disabled:n}),m=z.useRef(!1),y=z.useRef(null),v=z.useRef(null),{disabled:k,updateMeasurementsFor:b,timeout:S}={...eN,...o},C=Ca(b??r),T=z.useCallback(()=>{if(!m.current){m.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),v.current=null},S)},[S]),N=Jd({callback:T,disabled:k||!l}),D=z.useCallback((L,J)=>{N&&(J&&(N.unobserve(J),m.current=!1),L&&N.observe(L))},[N]),[P,F]=jc(D),$=Ca(e);return z.useEffect(()=>{!N||!P.current||(N.disconnect(),m.current=!1,N.observe(P.current))},[P,N]),z.useEffect(()=>(u({type:kt.RegisterDroppable,element:{id:r,key:i,disabled:n,node:P,rect:y,data:$}}),()=>u({type:kt.UnregisterDroppable,key:i,id:r})),[r]),z.useEffect(()=>{n!==h.current.disabled&&(u({type:kt.SetDroppableDisabled,id:r,key:i,disabled:n}),h.current.disabled=n)},[r,i,n,u]),{active:l,rect:y,isOver:(c==null?void 0:c.id)===r,node:P,over:c,setNodeRef:F}}function nN(t){let{animation:e,children:n}=t;const[r,o]=z.useState(null),[i,l]=z.useState(null),u=Bc(n);return!n&&!r&&u&&o(u),hr(()=>{if(!i)return;const c=r==null?void 0:r.key,f=r==null?void 0:r.props.id;if(c==null||f==null){o(null);return}Promise.resolve(e(f,i)).then(()=>{o(null)})},[e,r,i]),Le.createElement(Le.Fragment,null,n,r?z.cloneElement(r,{ref:l}):null)}const rN={x:0,y:0,scaleX:1,scaleY:1};function oN(t){let{children:e}=t;return Le.createElement(qa.Provider,{value:kb},Le.createElement(Gd.Provider,{value:rN},e))}const iN={position:"fixed",touchAction:"none"},sN=t=>Kd(t)?"transform 250ms ease":void 0,lN=z.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:o,children:i,className:l,rect:u,style:c,transform:f,transition:h=sN}=t;if(!u)return null;const m=o?f:{...f,scaleX:1,scaleY:1},y={...iN,width:u.width,height:u.height,top:u.top,left:u.left,transform:ji.Transform.toString(m),transformOrigin:o&&r?XM(r,u):void 0,transition:typeof h=="function"?h(r):h,...c};return Le.createElement(n,{className:l,style:y,ref:e},i)}),aN=t=>e=>{let{active:n,dragOverlay:r}=e;const o={},{styles:i,className:l}=t;if(i!=null&&i.active)for(const[u,c]of Object.entries(i.active))c!==void 0&&(o[u]=n.node.style.getPropertyValue(u),n.node.style.setProperty(u,c));if(i!=null&&i.dragOverlay)for(const[u,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(u,c);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[c,f]of Object.entries(o))n.node.style.setProperty(c,f);l!=null&&l.active&&n.node.classList.remove(l.active)}},uN=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:ji.Transform.toString(e)},{transform:ji.Transform.toString(n)}]},cN={duration:250,easing:"ease",keyframes:uN,sideEffects:aN({styles:{active:{opacity:"0"}}})};function dN(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=t;return Zd((i,l)=>{if(e===null)return;const u=n.get(i);if(!u)return;const c=u.node.current;if(!c)return;const f=wb(l);if(!f)return;const{transform:h}=an(l).getComputedStyle(l),m=lb(h);if(!m)return;const y=typeof e=="function"?e:fN(e);return pb(c,o.draggable.measure),y({active:{id:i,data:u.data,node:c,rect:o.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:l,rect:o.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:o,transform:m})})}function fN(t){const{duration:e,easing:n,sideEffects:r,keyframes:o}={...cN,...t};return i=>{let{active:l,dragOverlay:u,transform:c,...f}=i;if(!e)return;const h={x:u.rect.left-l.rect.left,y:u.rect.top-l.rect.top},m={scaleX:c.scaleX!==1?l.rect.width*c.scaleX/u.rect.width:1,scaleY:c.scaleY!==1?l.rect.height*c.scaleY/u.rect.height:1},y={x:c.x-h.x,y:c.y-h.y,...m},v=o({...f,active:l,dragOverlay:u,transform:{initial:c,final:y}}),[k]=v,b=v[v.length-1];if(JSON.stringify(k)===JSON.stringify(b))return;const S=r==null?void 0:r({active:l,dragOverlay:u,...f}),C=u.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(T=>{C.onfinish=()=>{S==null||S(),T()}})}}let aw=0;function hN(t){return z.useMemo(()=>{if(t!=null)return aw++,aw},[t])}const eU=Le.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:o,transition:i,modifiers:l,wrapperElement:u="div",className:c,zIndex:f=999}=t;const{activatorEvent:h,active:m,activeNodeRect:y,containerNodeRect:v,draggableNodes:k,droppableContainers:b,dragOverlay:S,over:C,measuringConfiguration:T,scrollableAncestors:N,scrollableAncestorRects:D,windowRect:P}=xb(),F=z.useContext(Gd),$=hN(m==null?void 0:m.id),L=Sb(l,{activatorEvent:h,active:m,activeNodeRect:y,containerNodeRect:v,draggingNodeRect:S.rect,over:C,overlayNodeRect:S.rect,scrollableAncestors:N,scrollableAncestorRects:D,transform:F,windowRect:P}),J=eg(y),ee=dN({config:r,draggableNodes:k,droppableContainers:b,measuringConfiguration:T}),ae=J?S.setRef:void 0;return Le.createElement(oN,null,Le.createElement(nN,{animation:ee},m&&$?Le.createElement(lN,{key:$,id:m.id,ref:ae,as:u,activatorEvent:h,adjustScale:e,className:c,transition:i,rect:J,style:{zIndex:f,...o},transform:L},n):null))}),pN=(t,e)=>e.some(n=>t instanceof n);let uw,cw;function mN(){return uw||(uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gN(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cb=new WeakMap,im=new WeakMap,Eb=new WeakMap,ap=new WeakMap,tg=new WeakMap;function yN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(Ko(t.result)),o()},l=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Cb.set(n,t)}).catch(()=>{}),tg.set(e,t),e}function vN(t){if(im.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),o()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});im.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Eb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wN(t){sm=t(sm)}function kN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(up(this),e,...n);return Eb.set(r,e.sort?e.sort():[e]),Ko(r)}:gN().includes(t)?function(...e){return t.apply(up(this),e),Ko(Cb.get(this))}:function(...e){return Ko(t.apply(up(this),e))}}function bN(t){return typeof t=="function"?kN(t):(t instanceof IDBTransaction&&vN(t),pN(t,mN())?new Proxy(t,sm):t)}function Ko(t){if(t instanceof IDBRequest)return yN(t);if(ap.has(t))return ap.get(t);const e=bN(t);return e!==t&&(ap.set(t,e),tg.set(e,t)),e}const up=t=>tg.get(t);function tU(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const l=indexedDB.open(t,e),u=Ko(l);return r&&l.addEventListener("upgradeneeded",c=>{r(Ko(l.result),c.oldVersion,c.newVersion,Ko(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const SN=["get","getKey","getAll","getAllKeys","count"],xN=["put","add","delete","clear"],cp=new Map;function dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=xN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SN.includes(n)))return;const i=async function(l,...u){const c=this.transaction(l,o?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),o&&c.done]))[0]};return cp.set(e,i),i}wN(t=>({...t,get:(e,n,r)=>dw(e,n)||t.get(e,n,r),has:(e,n)=>!!dw(e,n)||t.has(e,n)}));function nU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}const fw=t=>{let e;const n=new Set,r=(f,h)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const y=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(v=>v(e,y))}},o=()=>e,u={setState:r,getState:o,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=e=t(r,o,u);return u},CN=(t=>t?fw(t):fw),EN=t=>t;function TN(t,e=EN){const n=Le.useSyncExternalStore(t.subscribe,Le.useCallback(()=>e(t.getState()),[t,e]),Le.useCallback(()=>e(t.getInitialState()),[t,e]));return Le.useDebugValue(n),n}const hw=t=>{const e=CN(t),n=r=>TN(e,r);return Object.assign(n,e),n},rU=(t=>t?hw(t):hw);function MN(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),u=(i=n.getItem(o))!=null?i:null;return u instanceof Promise?u.then(l):l(u)},setItem:(o,i)=>n.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>n.removeItem(o)}}const lm=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return lm(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return lm(r)(n)}}}},ON=(t,e)=>(n,r,o)=>{let i={storage:MN(()=>localStorage),partialize:b=>b,version:0,merge:(b,S)=>({...S,...b}),...e},l=!1;const u=new Set,c=new Set;let f=i.storage;if(!f)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...b)},r,o);const h=()=>{const b=i.partialize({...r()});return f.setItem(i.name,{state:b,version:i.version})},m=o.setState;o.setState=(b,S)=>(m(b,S),h());const y=t((...b)=>(n(...b),h()),r,o);o.getInitialState=()=>y;let v;const k=()=>{var b,S;if(!f)return;l=!1,u.forEach(T=>{var N;return T((N=r())!=null?N:y)});const C=((S=i.onRehydrateStorage)==null?void 0:S.call(i,(b=r())!=null?b:y))||void 0;return lm(f.getItem.bind(f))(i.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==i.version){if(i.migrate){const N=i.migrate(T.state,T.version);return N instanceof Promise?N.then(D=>[!0,D]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var N;const[D,P]=T;if(v=i.merge(P,(N=r())!=null?N:y),n(v,!0),D)return h()}).then(()=>{C==null||C(v,void 0),v=r(),l=!0,c.forEach(T=>T(v))}).catch(T=>{C==null||C(void 0,T)})};return o.persist={setOptions:b=>{i={...i,...b},b.storage&&(f=b.storage)},clearStorage:()=>{f==null||f.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>k(),hasHydrated:()=>l,onHydrate:b=>(u.add(b),()=>{u.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},i.skipHydration||k(),v||y},oU=ON;function Tb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Tb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iU(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Tb(t))&&(r&&(r+=" "),r+=e);return r}const NN=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},DN=(t,e)=>({classGroupId:t,validator:e}),Mb=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Hc="-",pw=[],AN="arbitrary..",IN=t=>{const e=RN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return PN(l);const u=l.split(Hc),c=u[0]===""&&u.length>1?1:0;return Ob(u,c,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const c=r[l],f=n[l];return c?f?NN(f,c):c:f||pw}return n[l]||pw}}},Ob=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],i=n.nextPart.get(o);if(i){const f=Ob(t,e+1,i);if(f)return f}const l=n.validators;if(l===null)return;const u=e===0?t.join(Hc):t.slice(e).join(Hc),c=l.length;for(let f=0;f<c;f++){const h=l[f];if(h.validator(u))return h.classGroupId}},PN=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?AN+r:void 0})(),RN=t=>{const{theme:e,classGroups:n}=t;return _N(n,e)},_N=(t,e)=>{const n=Mb();for(const r in t){const o=t[r];ng(o,n,r,e)}return n},ng=(t,e,n,r)=>{const o=t.length;for(let i=0;i<o;i++){const l=t[i];zN(l,e,n,r)}},zN=(t,e,n,r)=>{if(typeof t=="string"){LN(t,e,n);return}if(typeof t=="function"){$N(t,e,n,r);return}FN(t,e,n,r)},LN=(t,e,n)=>{const r=t===""?e:Nb(e,t);r.classGroupId=n},$N=(t,e,n,r)=>{if(jN(t)){ng(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(DN(n,t))},FN=(t,e,n,r)=>{const o=Object.entries(t),i=o.length;for(let l=0;l<i;l++){const[u,c]=o[l];ng(c,Nb(e,u),n,r)}},Nb=(t,e)=>{let n=t;const r=e.split(Hc),o=r.length;for(let i=0;i<o;i++){const l=r[i];let u=n.nextPart.get(l);u||(u=Mb(),n.nextPart.set(l,u)),n=u}return n},jN=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,BN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const o=(i,l)=>{n[i]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return o(i,l),l},set(i,l){i in n?n[i]=l:o(i,l)}}},am="!",mw=":",VN=[],gw=(t,e,n,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),UN=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const i=[];let l=0,u=0,c=0,f;const h=o.length;for(let b=0;b<h;b++){const S=o[b];if(l===0&&u===0){if(S===mw){i.push(o.slice(c,b)),c=b+1;continue}if(S==="/"){f=b;continue}}S==="["?l++:S==="]"?l--:S==="("?u++:S===")"&&u--}const m=i.length===0?o:o.slice(c);let y=m,v=!1;m.endsWith(am)?(y=m.slice(0,-1),v=!0):m.startsWith(am)&&(y=m.slice(1),v=!0);const k=f&&f>c?f-c:void 0;return gw(i,v,y,k)};if(e){const o=e+mw,i=r;r=l=>l.startsWith(o)?i(l.slice(o.length)):gw(VN,!1,l,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},WN=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const l=n[i],u=l[0]==="[",c=e.has(l);u||c?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(l)):o.push(l)}return o.length>0&&(o.sort(),r.push(...o)),r}},HN=t=>({cache:BN(t.cacheSize),parseClassName:UN(t),sortModifiers:WN(t),...IN(t)}),qN=/\s+/,ZN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=e,l=[],u=t.trim().split(qN);let c="";for(let f=u.length-1;f>=0;f-=1){const h=u[f],{isExternal:m,modifiers:y,hasImportantModifier:v,baseClassName:k,maybePostfixModifierPosition:b}=n(h);if(m){c=h+(c.length>0?" "+c:c);continue}let S=!!b,C=r(S?k.substring(0,b):k);if(!C){if(!S){c=h+(c.length>0?" "+c:c);continue}if(C=r(k),!C){c=h+(c.length>0?" "+c:c);continue}S=!1}const T=y.length===0?"":y.length===1?y[0]:i(y).join(":"),N=v?T+am:T,D=N+C;if(l.indexOf(D)>-1)continue;l.push(D);const P=o(C,S);for(let F=0;F<P.length;++F){const $=P[F];l.push(N+$)}c=h+(c.length>0?" "+c:c)}return c},KN=(...t)=>{let e=0,n,r,o="";for(;e<t.length;)(n=t[e++])&&(r=Db(n))&&(o&&(o+=" "),o+=r);return o},Db=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Db(t[r]))&&(n&&(n+=" "),n+=e);return n},YN=(t,...e)=>{let n,r,o,i;const l=c=>{const f=e.reduce((h,m)=>m(h),t());return n=HN(f),r=n.cache.get,o=n.cache.set,i=u,u(c)},u=c=>{const f=r(c);if(f)return f;const h=ZN(c,n);return o(c,h),h};return i=l,(...c)=>i(KN(...c))},JN=[],wt=t=>{const e=n=>n[t]||JN;return e.isThemeGetter=!0,e},Ab=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ib=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GN=/^\d+\/\d+$/,QN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cs=t=>GN.test(t),Ne=t=>!!t&&!Number.isNaN(Number(t)),Mo=t=>!!t&&Number.isInteger(Number(t)),dp=t=>t.endsWith("%")&&Ne(t.slice(0,-1)),Wr=t=>QN.test(t),rD=()=>!0,oD=t=>XN.test(t)&&!eD.test(t),Pb=()=>!1,iD=t=>tD.test(t),sD=t=>nD.test(t),lD=t=>!oe(t)&&!ie(t),aD=t=>ll(t,zb,Pb),oe=t=>Ab.test(t),bi=t=>ll(t,Lb,oD),fp=t=>ll(t,hD,Ne),yw=t=>ll(t,Rb,Pb),uD=t=>ll(t,_b,sD),dc=t=>ll(t,$b,iD),ie=t=>Ib.test(t),Xl=t=>al(t,Lb),cD=t=>al(t,pD),vw=t=>al(t,Rb),dD=t=>al(t,zb),fD=t=>al(t,_b),fc=t=>al(t,$b,!0),ll=(t,e,n)=>{const r=Ab.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},al=(t,e,n=!1)=>{const r=Ib.exec(t);return r?r[1]?e(r[1]):n:!1},Rb=t=>t==="position"||t==="percentage",_b=t=>t==="image"||t==="url",zb=t=>t==="length"||t==="size"||t==="bg-size",Lb=t=>t==="length",hD=t=>t==="number",pD=t=>t==="family-name",$b=t=>t==="shadow",mD=()=>{const t=wt("color"),e=wt("font"),n=wt("text"),r=wt("font-weight"),o=wt("tracking"),i=wt("leading"),l=wt("breakpoint"),u=wt("container"),c=wt("spacing"),f=wt("radius"),h=wt("shadow"),m=wt("inset-shadow"),y=wt("text-shadow"),v=wt("drop-shadow"),k=wt("blur"),b=wt("perspective"),S=wt("aspect"),C=wt("ease"),T=wt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...D(),ie,oe],F=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],L=()=>[ie,oe,c],J=()=>[Cs,"full","auto",...L()],ee=()=>[Mo,"none","subgrid",ie,oe],ae=()=>["auto",{span:["full",Mo,ie,oe]},Mo,ie,oe],Ie=()=>[Mo,"auto",ie,oe],Re=()=>["auto","min","max","fr",ie,oe],Me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],Pe=()=>["auto",...L()],ge=()=>[Cs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],j=()=>[t,ie,oe],se=()=>[...D(),vw,yw,{position:[ie,oe]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",dD,aD,{size:[ie,oe]}],U=()=>[dp,Xl,bi],ne=()=>["","none","full",f,ie,oe],ce=()=>["",Ne,Xl,bi],xe=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[Ne,dp,vw,yw],Ce=()=>["","none",k,ie,oe],Oe=()=>["none",Ne,ie,oe],we=()=>["none",Ne,ie,oe],un=()=>[Ne,ie,oe],Ct=()=>[Cs,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wr],breakpoint:[Wr],color:[rD],container:[Wr],"drop-shadow":[Wr],ease:["in","out","in-out"],font:[lD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wr],shadow:[Wr],spacing:["px",Ne],text:[Wr],"text-shadow":[Wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cs,oe,ie,S]}],container:["container"],columns:[{columns:[Ne,oe,ie,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:J()}],"inset-x":[{"inset-x":J()}],"inset-y":[{"inset-y":J()}],start:[{start:J()}],end:[{end:J()}],top:[{top:J()}],right:[{right:J()}],bottom:[{bottom:J()}],left:[{left:J()}],visibility:["visible","invisible","collapse"],z:[{z:[Mo,"auto",ie,oe]}],basis:[{basis:[Cs,"full","auto",u,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,Cs,"auto","initial","none",oe]}],grow:[{grow:["",Ne,ie,oe]}],shrink:[{shrink:["",Ne,ie,oe]}],order:[{order:[Mo,"first","last","none",ie,oe]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":Ie()}],"col-end":[{"col-end":Ie()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":Ie()}],"row-end":[{"row-end":Ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Re()}],"auto-rows":[{"auto-rows":Re()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...Me(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...Me()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":Me()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:Pe()}],mx:[{mx:Pe()}],my:[{my:Pe()}],ms:[{ms:Pe()}],me:[{me:Pe()}],mt:[{mt:Pe()}],mr:[{mr:Pe()}],mb:[{mb:Pe()}],ml:[{ml:Pe()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ge()}],w:[{w:[u,"screen",...ge()]}],"min-w":[{"min-w":[u,"screen","none",...ge()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...ge()]}],h:[{h:["screen","lh",...ge()]}],"min-h":[{"min-h":["screen","lh","none",...ge()]}],"max-h":[{"max-h":["screen","lh",...ge()]}],"font-size":[{text:["base",n,Xl,bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ie,fp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dp,oe]}],"font-family":[{font:[cD,oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ie,oe]}],"line-clamp":[{"line-clamp":[Ne,"none",ie,fp]}],leading:[{leading:[i,...L()]}],"list-image":[{"list-image":["none",ie,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ie,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",ie,bi]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Ne,"auto",ie,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mo,ie,oe],radial:["",ie,oe],conic:[Mo,ie,oe]},fD,uD]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,ie,oe]}],"outline-w":[{outline:["",Ne,Xl,bi]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,fc,dc]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",m,fc,dc]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Ne,bi]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",y,fc,dc]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Ne,ie,oe]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[ie,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ie,oe]}],filter:[{filter:["","none",ie,oe]}],blur:[{blur:Ce()}],brightness:[{brightness:[Ne,ie,oe]}],contrast:[{contrast:[Ne,ie,oe]}],"drop-shadow":[{"drop-shadow":["","none",v,fc,dc]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Ne,ie,oe]}],"hue-rotate":[{"hue-rotate":[Ne,ie,oe]}],invert:[{invert:["",Ne,ie,oe]}],saturate:[{saturate:[Ne,ie,oe]}],sepia:[{sepia:["",Ne,ie,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ie,oe]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,ie,oe]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,ie,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,ie,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,ie,oe]}],"backdrop-invert":[{"backdrop-invert":["",Ne,ie,oe]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,ie,oe]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,ie,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,ie,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ie,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",ie,oe]}],ease:[{ease:["linear","initial",C,ie,oe]}],delay:[{delay:[Ne,ie,oe]}],animate:[{animate:["none",T,ie,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ie,oe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Oe()}],"rotate-x":[{"rotate-x":Oe()}],"rotate-y":[{"rotate-y":Oe()}],"rotate-z":[{"rotate-z":Oe()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:un()}],"skew-x":[{"skew-x":un()}],"skew-y":[{"skew-y":un()}],transform:[{transform:[ie,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ct()}],"translate-x":[{"translate-x":Ct()}],"translate-y":[{"translate-y":Ct()}],"translate-z":[{"translate-z":Ct()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie,oe]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Ne,Xl,bi,fp]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sU=YN(mD);function V(t,e,n){function r(u,c){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:c,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(t))return;u._zod.traits.add(t),e(u,c);const f=l.prototype,h=Object.keys(f);for(let m=0;m<h.length;m++){const y=h[m];y in u||(u[y]=f[y].bind(u))}}const o=(n==null?void 0:n.Parent)??Object;class i extends o{}Object.defineProperty(i,"name",{value:t});function l(u){var c;const f=n!=null&&n.Parent?new i:this;r(f,u),(c=f._zod).deferred??(c.deferred=[]);for(const h of f._zod.deferred)h();return f}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var c,f;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(f=(c=u==null?void 0:u._zod)==null?void 0:c.traits)==null?void 0:f.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class $s extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Fb extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const um={};function to(t){return t&&Object.assign(um,t),um}function jb(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,o])=>e.indexOf(+r)===-1).map(([r,o])=>o)}function cm(t,e){return typeof e=="bigint"?e.toString():e}function rg(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function og(t){return t==null}function ig(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function gD(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c!=null&&c[1]&&(o=Number.parseInt(c[1]))}const i=n>o?n:o,l=Number.parseInt(t.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const ww=Symbol("evaluating");function He(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==ww)return r===void 0&&(r=ww,r=n()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function qi(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Zi(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function kw(t){return JSON.stringify(t)}function yD(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Bb="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function qc(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const vD=rg(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Js(t){if(qc(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(qc(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Vb(t){return Js(t)?{...t}:Array.isArray(t)?[...t]:t}const wD=new Set(["string","number","symbol"]);function Qd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ni(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function de(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function kD(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const bD={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function SD(t,e){const n=t._zod.def,r=Zi(t._zod.def,{get shape(){const o={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(o[i]=n.shape[i])}return qi(this,"shape",o),o},checks:[]});return ni(t,r)}function xD(t,e){const n=t._zod.def,r=Zi(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete o[i]}return qi(this,"shape",o),o},checks:[]});return ni(t,r)}function CD(t,e){if(!Js(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Zi(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return qi(this,"shape",i),i},checks:[]});return ni(t,o)}function ED(t,e){if(!Js(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return qi(this,"shape",r),r},checks:t._zod.def.checks};return ni(t,n)}function TD(t,e){const n=Zi(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return qi(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ni(t,n)}function MD(t,e,n){const r=Zi(e._zod.def,{get shape(){const o=e._zod.def.shape,i={...o};if(n)for(const l in n){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(i[l]=t?new t({type:"optional",innerType:o[l]}):o[l])}else for(const l in o)i[l]=t?new t({type:"optional",innerType:o[l]}):o[l];return qi(this,"shape",i),i},checks:[]});return ni(e,r)}function OD(t,e,n){const r=Zi(e._zod.def,{get shape(){const o=e._zod.def.shape,i={...o};if(n)for(const l in n){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(i[l]=new t({type:"nonoptional",innerType:o[l]}))}else for(const l in o)i[l]=new t({type:"nonoptional",innerType:o[l]});return qi(this,"shape",i),i},checks:[]});return ni(e,r)}function Rs(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function _s(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function hc(t){return typeof t=="string"?t:t==null?void 0:t.message}function Xo(t,e,n){var o,i,l,u,c,f;const r={...t,path:t.path??[]};if(!t.message){const h=hc((l=(i=(o=t.inst)==null?void 0:o._zod.def)==null?void 0:i.error)==null?void 0:l.call(i,t))??hc((u=e==null?void 0:e.error)==null?void 0:u.call(e,t))??hc((c=n.customError)==null?void 0:c.call(n,t))??hc((f=n.localeError)==null?void 0:f.call(n,t))??"Invalid input";r.message=h}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function sg(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Ma(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Ub=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,cm,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Wb=V("$ZodError",Ub),Hb=V("$ZodError",Ub,{Parent:Error});function ND(t,e=n=>n.message){const n={},r=[];for(const o of t.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}function DD(t,e=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let l=n,u=0;for(;u<i.path.length;){const c=i.path[u];u===i.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(e(i))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return r(t),n}const lg=t=>(e,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new $s;if(l.issues.length){const u=new((o==null?void 0:o.Err)??t)(l.issues.map(c=>Xo(c,i,to())));throw Bb(u,o==null?void 0:o.callee),u}return l.value},ag=t=>async(e,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((o==null?void 0:o.Err)??t)(l.issues.map(c=>Xo(c,i,to())));throw Bb(u,o==null?void 0:o.callee),u}return l.value},Xd=t=>(e,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new $s;return i.issues.length?{success:!1,error:new(t??Wb)(i.issues.map(l=>Xo(l,o,to())))}:{success:!0,data:i.value}},AD=Xd(Hb),ef=t=>async(e,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(l=>Xo(l,o,to())))}:{success:!0,data:i.value}},ID=ef(Hb),PD=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return lg(t)(e,n,o)},RD=t=>(e,n,r)=>lg(t)(e,n,r),_D=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ag(t)(e,n,o)},zD=t=>async(e,n,r)=>ag(t)(e,n,r),LD=t=>(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xd(t)(e,n,o)},$D=t=>(e,n,r)=>Xd(t)(e,n,r),FD=t=>async(e,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ef(t)(e,n,o)},jD=t=>async(e,n,r)=>ef(t)(e,n,r),BD=/^[cC][^\s-]{8,}$/,VD=/^[0-9a-z]+$/,UD=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WD=/^[0-9a-vA-V]{20}$/,HD=/^[A-Za-z0-9]{27}$/,qD=/^[a-zA-Z0-9_-]{21}$/,ZD=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,KD=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bw=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,YD=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,JD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function GD(){return new RegExp(JD,"u")}const QD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,XD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,eA=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tA=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qb=/^[A-Za-z0-9_-]*$/,rA=/^\+(?:[0-9]){6,14}[0-9]$/,Zb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oA=new RegExp(`^${Zb}$`);function Kb(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function iA(t){return new RegExp(`^${Kb(t)}$`)}function sA(t){const e=Kb({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Zb}T(?:${r})$`)}const lA=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},aA=/^-?\d+$/,uA=/^-?\d+(?:\.\d+)?/,cA=/^(?:true|false)$/i,dA=/^null$/i,fA=/^undefined$/i,hA=/^[^A-Z]*$/,pA=/^[^a-z]*$/,Sn=V("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Yb={number:"number",bigint:"bigint",object:"date"},Jb=V("$ZodCheckLessThan",(t,e)=>{Sn.init(t,e);const n=Yb[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,i=(e.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?o.maximum=e.value:o.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Gb=V("$ZodCheckGreaterThan",(t,e)=>{Sn.init(t,e);const n=Yb[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,i=(e.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?o.minimum=e.value:o.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),mA=V("$ZodCheckMultipleOf",(t,e)=>{Sn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):gD(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),gA=V("$ZodCheckNumberFormat",(t,e)=>{var l;Sn.init(t,e),e.format=e.format||"float64";const n=(l=e.format)==null?void 0:l.includes("int"),r=n?"int":"number",[o,i]=bD[e.format];t._zod.onattach.push(u=>{const c=u._zod.bag;c.format=e.format,c.minimum=o,c.maximum=i,n&&(c.pattern=aA)}),t._zod.check=u=>{const c=u.value;if(n){if(!Number.isInteger(c)){u.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?u.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):u.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}c<o&&u.issues.push({origin:"number",input:c,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!e.abort}),c>i&&u.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:t})}}),yA=V("$ZodCheckMaxLength",(t,e)=>{var n;Sn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!og(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const o=r.value;if(o.length<=e.maximum)return;const l=sg(o);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),vA=V("$ZodCheckMinLength",(t,e)=>{var n;Sn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!og(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const o=r.value;if(o.length>=e.minimum)return;const l=sg(o);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),wA=V("$ZodCheckLengthEquals",(t,e)=>{var n;Sn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const o=r.value;return!og(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{const o=r.value,i=o.length;if(i===e.length)return;const l=sg(o),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),tf=V("$ZodCheckStringFormat",(t,e)=>{var n,r;Sn.init(t,e),t._zod.onattach.push(o=>{const i=o._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),kA=V("$ZodCheckRegex",(t,e)=>{tf.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),bA=V("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=hA),tf.init(t,e)}),SA=V("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=pA),tf.init(t,e)}),xA=V("$ZodCheckIncludes",(t,e)=>{Sn.init(t,e);const n=Qd(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),CA=V("$ZodCheckStartsWith",(t,e)=>{Sn.init(t,e);const n=new RegExp(`^${Qd(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),EA=V("$ZodCheckEndsWith",(t,e)=>{Sn.init(t,e);const n=new RegExp(`.*${Qd(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),TA=V("$ZodCheckOverwrite",(t,e)=>{Sn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class MA{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),o=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(o)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...n,o.join(`
`))}}const OA={major:4,minor:2,patch:1},Ye=V("$ZodType",(t,e)=>{var o;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=OA;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const l of i._zod.onattach)l(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(o=t._zod.deferred)==null||o.push(()=>{t._zod.run=t._zod.parse});else{const i=(u,c,f)=>{let h=Rs(u),m;for(const y of c){if(y._zod.def.when){if(!y._zod.def.when(u))continue}else if(h)continue;const v=u.issues.length,k=y._zod.check(u);if(k instanceof Promise&&(f==null?void 0:f.async)===!1)throw new $s;if(m||k instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await k,u.issues.length!==v&&(h||(h=Rs(u,v)))});else{if(u.issues.length===v)continue;h||(h=Rs(u,v))}}return m?m.then(()=>u):u},l=(u,c,f)=>{if(Rs(u))return u.aborted=!0,u;const h=i(c,r,f);if(h instanceof Promise){if(f.async===!1)throw new $s;return h.then(m=>t._zod.parse(m,f))}return t._zod.parse(h,f)};t._zod.run=(u,c)=>{if(c.skipChecks)return t._zod.parse(u,c);if(c.direction==="backward"){const h=t._zod.parse({value:u.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(m=>l(m,u,c)):l(h,u,c)}const f=t._zod.parse(u,c);if(f instanceof Promise){if(c.async===!1)throw new $s;return f.then(h=>i(h,r,c))}return i(f,r,c)}}t["~standard"]={validate:i=>{var l;try{const u=AD(t,i);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return ID(t,i).then(c=>{var f;return c.success?{value:c.data}:{issues:(f=c.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}}),ug=V("$ZodString",(t,e)=>{var n;Ye.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??lA(t._zod.bag),t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Ge=V("$ZodStringFormat",(t,e)=>{tf.init(t,e),ug.init(t,e)}),NA=V("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=KD),Ge.init(t,e)}),DA=V("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=bw(r))}else e.pattern??(e.pattern=bw());Ge.init(t,e)}),AA=V("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=YD),Ge.init(t,e)}),IA=V("$ZodURL",(t,e)=>{Ge.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),PA=V("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=GD()),Ge.init(t,e)}),RA=V("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=qD),Ge.init(t,e)}),_A=V("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=BD),Ge.init(t,e)}),zA=V("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=VD),Ge.init(t,e)}),LA=V("$ZodULID",(t,e)=>{e.pattern??(e.pattern=UD),Ge.init(t,e)}),$A=V("$ZodXID",(t,e)=>{e.pattern??(e.pattern=WD),Ge.init(t,e)}),FA=V("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=HD),Ge.init(t,e)}),jA=V("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=sA(e)),Ge.init(t,e)}),BA=V("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=oA),Ge.init(t,e)}),VA=V("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=iA(e)),Ge.init(t,e)}),UA=V("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=ZD),Ge.init(t,e)}),WA=V("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=QD),Ge.init(t,e),t._zod.bag.format="ipv4"}),HA=V("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=XD),Ge.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),qA=V("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=eA),Ge.init(t,e)}),ZA=V("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=tA),Ge.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Qb(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const KA=V("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=nA),Ge.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{Qb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function YA(t){if(!qb.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Qb(n)}const JA=V("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=qb),Ge.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{YA(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),GA=V("$ZodE164",(t,e)=>{e.pattern??(e.pattern=rA),Ge.init(t,e)});function QA(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const XA=V("$ZodJWT",(t,e)=>{Ge.init(t,e),t._zod.check=n=>{QA(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Xb=V("$ZodNumber",(t,e)=>{Ye.init(t,e),t._zod.pattern=t._zod.bag.pattern??uA,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...i?{received:i}:{}}),n}}),eI=V("$ZodNumberFormat",(t,e)=>{gA.init(t,e),Xb.init(t,e)}),tI=V("$ZodBoolean",(t,e)=>{Ye.init(t,e),t._zod.pattern=cA,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:t}),n}}),nI=V("$ZodUndefined",(t,e)=>{Ye.init(t,e),t._zod.pattern=fA,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,r)=>{const o=n.value;return typeof o>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:o,inst:t}),n}}),rI=V("$ZodNull",(t,e)=>{Ye.init(t,e),t._zod.pattern=dA,t._zod.values=new Set([null]),t._zod.parse=(n,r)=>{const o=n.value;return o===null||n.issues.push({expected:"null",code:"invalid_type",input:o,inst:t}),n}}),oI=V("$ZodUnknown",(t,e)=>{Ye.init(t,e),t._zod.parse=n=>n}),iI=V("$ZodNever",(t,e)=>{Ye.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),sI=V("$ZodDate",(t,e)=>{Ye.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const o=n.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:t}),n}});function Sw(t,e,n){t.issues.length&&e.issues.push(..._s(n,t.issues)),e.value[n]=t.value}const lI=V("$ZodArray",(t,e)=>{Ye.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),n;n.value=Array(o.length);const i=[];for(let l=0;l<o.length;l++){const u=o[l],c=e.element._zod.run({value:u,issues:[]},r);c instanceof Promise?i.push(c.then(f=>Sw(f,n,l))):Sw(c,n,l)}return i.length?Promise.all(i).then(()=>n):n}});function Zc(t,e,n,r){t.issues.length&&e.issues.push(..._s(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function eS(t){var r,o,i,l;const e=Object.keys(t.shape);for(const u of e)if(!((l=(i=(o=(r=t.shape)==null?void 0:r[u])==null?void 0:o._zod)==null?void 0:i.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=kD(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function tS(t,e,n,r,o,i){const l=[],u=o.keySet,c=o.catchall._zod,f=c.def.type;for(const h in e){if(u.has(h))continue;if(f==="never"){l.push(h);continue}const m=c.run({value:e[h],issues:[]},r);m instanceof Promise?t.push(m.then(y=>Zc(y,n,h,e))):Zc(m,n,h,e)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const aI=V("$ZodObject",(t,e)=>{Ye.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...u};return Object.defineProperty(e,"shape",{value:c}),c}})}const r=rg(()=>eS(e));He(t._zod,"propValues",()=>{const u=e.shape,c={};for(const f in u){const h=u[f]._zod;if(h.values){c[f]??(c[f]=new Set);for(const m of h.values)c[f].add(m)}}return c});const o=qc,i=e.catchall;let l;t._zod.parse=(u,c)=>{l??(l=r.value);const f=u.value;if(!o(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),u;u.value={};const h=[],m=l.shape;for(const y of l.keys){const k=m[y]._zod.run({value:f[y],issues:[]},c);k instanceof Promise?h.push(k.then(b=>Zc(b,u,y,f))):Zc(k,u,y,f)}return i?tS(h,f,u,c,r.value,t):h.length?Promise.all(h).then(()=>u):u}}),uI=V("$ZodObjectJIT",(t,e)=>{aI.init(t,e);const n=t._zod.parse,r=rg(()=>eS(e)),o=y=>{const v=new MA(["shape","payload","ctx"]),k=r.value,b=N=>{const D=kw(N);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};v.write("const input = payload.value;");const S=Object.create(null);let C=0;for(const N of k.keys)S[N]=`key_${C++}`;v.write("const newResult = {};");for(const N of k.keys){const D=S[N],P=kw(N);v.write(`const ${D} = ${b(N)};`),v.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${P}, ...iss.path] : [${P}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${D}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const T=v.compile();return(N,D)=>T(y,N,D)};let i;const l=qc,u=!um.jitless,f=u&&vD.value,h=e.catchall;let m;t._zod.parse=(y,v)=>{m??(m=r.value);const k=y.value;return l(k)?u&&f&&(v==null?void 0:v.async)===!1&&v.jitless!==!0?(i||(i=o(e.shape)),y=i(y,v),h?tS([],k,y,v,m,t):y):n(y,v):(y.issues.push({expected:"object",code:"invalid_type",input:k,inst:t}),y)}});function xw(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const o=t.filter(i=>!Rs(i));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(l=>Xo(l,r,to())))}),e)}const cI=V("$ZodUnion",(t,e)=>{Ye.init(t,e),He(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),He(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),He(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),He(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>ig(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,i)=>{if(n)return r(o,i);let l=!1;const u=[];for(const c of e.options){const f=c._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(c=>xw(c,o,t,i)):xw(u,o,t,i)}}),dI=V("$ZodIntersection",(t,e)=>{Ye.init(t,e),t._zod.parse=(n,r)=>{const o=n.value,i=e.left._zod.run({value:o,issues:[]},r),l=e.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([c,f])=>Cw(n,c,f)):Cw(n,i,l)}});function dm(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Js(t)&&Js(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),o={...t,...e};for(const i of r){const l=dm(t[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};o[i]=l.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const o=t[r],i=e[r],l=dm(o,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Cw(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Rs(t))return t;const r=dm(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const fI=V("$ZodRecord",(t,e)=>{Ye.init(t,e),t._zod.parse=(n,r)=>{const o=n.value;if(!Js(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:t}),n;const i=[],l=e.keyType._zod.values;if(l){n.value={};const u=new Set;for(const f of l)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){u.add(typeof f=="number"?f.toString():f);const h=e.valueType._zod.run({value:o[f],issues:[]},r);h instanceof Promise?i.push(h.then(m=>{m.issues.length&&n.issues.push(..._s(f,m.issues)),n.value[f]=m.value})):(h.issues.length&&n.issues.push(..._s(f,h.issues)),n.value[f]=h.value)}let c;for(const f in o)u.has(f)||(c=c??[],c.push(f));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:t,keys:c})}else{n.value={};for(const u of Reflect.ownKeys(o)){if(u==="__proto__")continue;const c=e.keyType._zod.run({value:u,issues:[]},r);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){e.mode==="loose"?n.value[u]=o[u]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(h=>Xo(h,r,to())),input:u,path:[u],inst:t});continue}const f=e.valueType._zod.run({value:o[u],issues:[]},r);f instanceof Promise?i.push(f.then(h=>{h.issues.length&&n.issues.push(..._s(u,h.issues)),n.value[c.value]=h.value})):(f.issues.length&&n.issues.push(..._s(u,f.issues)),n.value[c.value]=f.value)}}return i.length?Promise.all(i).then(()=>n):n}}),hI=V("$ZodEnum",(t,e)=>{Ye.init(t,e);const n=jb(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(o=>wD.has(typeof o)).map(o=>typeof o=="string"?Qd(o):o.toString()).join("|")})$`),t._zod.parse=(o,i)=>{const l=o.value;return r.has(l)||o.issues.push({code:"invalid_value",values:n,input:l,inst:t}),o}}),pI=V("$ZodTransform",(t,e)=>{Ye.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Fb(t.constructor.name);const o=e.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(l=>(n.value=l,n));if(o instanceof Promise)throw new $s;return n.value=o,n}});function Ew(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const mI=V("$ZodOptional",(t,e)=>{Ye.init(t,e),t._zod.optin="optional",t._zod.optout="optional",He(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),He(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${ig(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Ew(i,n.value)):Ew(o,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),gI=V("$ZodNullable",(t,e)=>{Ye.init(t,e),He(t._zod,"optin",()=>e.innerType._zod.optin),He(t._zod,"optout",()=>e.innerType._zod.optout),He(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${ig(n.source)}|null)$`):void 0}),He(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),yI=V("$ZodDefault",(t,e)=>{Ye.init(t,e),t._zod.optin="optional",He(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Tw(i,e)):Tw(o,e)}});function Tw(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const vI=V("$ZodPrefault",(t,e)=>{Ye.init(t,e),t._zod.optin="optional",He(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),wI=V("$ZodNonOptional",(t,e)=>{Ye.init(t,e),He(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Mw(i,t)):Mw(o,t)}});function Mw(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const kI=V("$ZodCatch",(t,e)=>{Ye.init(t,e),He(t._zod,"optin",()=>e.innerType._zod.optin),He(t._zod,"optout",()=>e.innerType._zod.optout),He(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(l=>Xo(l,r,to()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(i=>Xo(i,r,to()))},input:n.value}),n.issues=[]),n)}}),bI=V("$ZodPipe",(t,e)=>{Ye.init(t,e),He(t._zod,"values",()=>e.in._zod.values),He(t._zod,"optin",()=>e.in._zod.optin),He(t._zod,"optout",()=>e.out._zod.optout),He(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(l=>pc(l,e.in,r)):pc(i,e.in,r)}const o=e.in._zod.run(n,r);return o instanceof Promise?o.then(i=>pc(i,e.out,r)):pc(o,e.out,r)}});function pc(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const SI=V("$ZodReadonly",(t,e)=>{Ye.init(t,e),He(t._zod,"propValues",()=>e.innerType._zod.propValues),He(t._zod,"values",()=>e.innerType._zod.values),He(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),He(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const o=e.innerType._zod.run(n,r);return o instanceof Promise?o.then(Ow):Ow(o)}});function Ow(t){return t.value=Object.freeze(t.value),t}const xI=V("$ZodCustom",(t,e)=>{Sn.init(t,e),Ye.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,o=e.fn(r);if(o instanceof Promise)return o.then(i=>Nw(i,n,r,t));Nw(o,n,r,t)}});function Nw(t,e,n,r){if(!t){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(Ma(o))}}var Dw;class CI{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function EI(){return new CI}(Dw=globalThis).__zod_globalRegistry??(Dw.__zod_globalRegistry=EI());const oa=globalThis.__zod_globalRegistry;function TI(t,e){return new t({type:"string",...de(e)})}function MI(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...de(e)})}function Aw(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...de(e)})}function OI(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...de(e)})}function NI(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...de(e)})}function DI(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...de(e)})}function AI(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...de(e)})}function II(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...de(e)})}function PI(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...de(e)})}function RI(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...de(e)})}function _I(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...de(e)})}function zI(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...de(e)})}function LI(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...de(e)})}function $I(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...de(e)})}function FI(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...de(e)})}function jI(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...de(e)})}function BI(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...de(e)})}function VI(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...de(e)})}function UI(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...de(e)})}function WI(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...de(e)})}function HI(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...de(e)})}function qI(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...de(e)})}function ZI(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...de(e)})}function KI(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...de(e)})}function YI(t,e){return new t({type:"string",format:"date",check:"string_format",...de(e)})}function JI(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...de(e)})}function GI(t,e){return new t({type:"string",format:"duration",check:"string_format",...de(e)})}function QI(t,e){return new t({type:"number",checks:[],...de(e)})}function XI(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...de(e)})}function eP(t,e){return new t({type:"boolean",...de(e)})}function tP(t,e){return new t({type:"undefined",...de(e)})}function nP(t,e){return new t({type:"null",...de(e)})}function rP(t){return new t({type:"unknown"})}function oP(t,e){return new t({type:"never",...de(e)})}function iP(t,e){return new t({type:"date",...de(e)})}function Iw(t,e){return new Jb({check:"less_than",...de(e),value:t,inclusive:!1})}function Ic(t,e){return new Jb({check:"less_than",...de(e),value:t,inclusive:!0})}function Pw(t,e){return new Gb({check:"greater_than",...de(e),value:t,inclusive:!1})}function Pc(t,e){return new Gb({check:"greater_than",...de(e),value:t,inclusive:!0})}function Rw(t,e){return new mA({check:"multiple_of",...de(e),value:t})}function nS(t,e){return new yA({check:"max_length",...de(e),maximum:t})}function Kc(t,e){return new vA({check:"min_length",...de(e),minimum:t})}function rS(t,e){return new wA({check:"length_equals",...de(e),length:t})}function sP(t,e){return new kA({check:"string_format",format:"regex",...de(e),pattern:t})}function lP(t){return new bA({check:"string_format",format:"lowercase",...de(t)})}function aP(t){return new SA({check:"string_format",format:"uppercase",...de(t)})}function uP(t,e){return new xA({check:"string_format",format:"includes",...de(e),includes:t})}function cP(t,e){return new CA({check:"string_format",format:"starts_with",...de(e),prefix:t})}function dP(t,e){return new EA({check:"string_format",format:"ends_with",...de(e),suffix:t})}function ul(t){return new TA({check:"overwrite",tx:t})}function fP(t){return ul(e=>e.normalize(t))}function hP(){return ul(t=>t.trim())}function pP(){return ul(t=>t.toLowerCase())}function mP(){return ul(t=>t.toUpperCase())}function gP(){return ul(t=>yD(t))}function yP(t,e,n){return new t({type:"array",element:e,...de(n)})}function vP(t,e,n){return new t({type:"custom",check:"custom",fn:e,...de(n)})}function wP(t){const e=kP(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ma(r,n.value,e._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),n.issues.push(Ma(o))}},t(n.value,n)));return e}function kP(t,e){const n=new Sn({check:"custom",...de(e)});return n._zod.check=t,n}function oS(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??oa,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function bt(t,e,n={path:[],schemaPath:[]}){var h,m;var r;const o=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const u=(m=(h=t._zod).toJSONSchema)==null?void 0:m.call(h);if(u)l.schema=u;else{const y={...n,schemaPath:[...n.schemaPath,t],path:n.path},v=t._zod.parent;if(v)l.ref=v,bt(v,e,y),e.seen.get(v).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,y);else{const k=l.schema,b=e.processors[o.type];if(!b)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);b(t,e,k,y)}}const c=e.metadataRegistry.get(t);return c&&Object.assign(l.schema,c),e.io==="input"&&en(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function iS(t,e){var i,l,u;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{var v;const f=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const k=(v=t.external.registry.get(c[0]))==null?void 0:v.id,b=t.external.uri??(C=>C);if(k)return{ref:b(k)};const S=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=S,{defId:S,ref:`${b("__shared")}#/${f}/${S}`}}if(c[1]===n)return{ref:"#"};const m=`#/${f}/`,y=c[1].schema.id??`__schema${t.counter++}`;return{defId:y,ref:m+y}},o=c=>{if(c[1].schema.$ref)return;const f=c[1],{ref:h,defId:m}=r(c);f.def={...f.schema},m&&(f.defId=m);const y=f.schema;for(const v in y)delete y[v];y.$ref=h};if(t.cycles==="throw")for(const c of t.seen.entries()){const f=c[1];if(f.cycle)throw new Error(`Cycle detected: #/${(i=f.cycle)==null?void 0:i.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const f=c[1];if(e===c[0]){o(c);continue}if(t.external){const m=(l=t.external.registry.get(c[0]))==null?void 0:l.id;if(e!==c[0]&&m){o(c);continue}}if((u=t.metadataRegistry.get(c[0]))==null?void 0:u.id){o(c);continue}if(f.cycle){o(c);continue}if(f.count>1&&t.reused==="ref"){o(c);continue}}}function sS(t,e){var l,u,c;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=f=>{const h=t.seen.get(f),m=h.def??h.schema,y={...m};if(h.ref===null)return;const v=h.ref;if(h.ref=null,v){r(v);const k=t.seen.get(v).schema;k.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(k)):(Object.assign(m,k),Object.assign(m,y))}h.isParent||t.override({zodSchema:f,jsonSchema:m,path:h.path??[]})};for(const f of[...t.seen.entries()].reverse())r(f[0]);const o={};if(t.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":t.target,(l=t.external)!=null&&l.uri){const f=(u=t.external.registry.get(e))==null?void 0:u.id;if(!f)throw new Error("Schema is missing an `id` property");o.$id=t.external.uri(f)}Object.assign(o,n.def??n.schema);const i=((c=t.external)==null?void 0:c.defs)??{};for(const f of t.seen.entries()){const h=f[1];h.def&&h.defId&&(i[h.defId]=h.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{const f=JSON.parse(JSON.stringify(o));return Object.defineProperty(f,"~standard",{value:{...e["~standard"],jsonSchema:{input:Yc(e,"input"),output:Yc(e,"output")}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function en(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return en(r.element,n);if(r.type==="set")return en(r.valueType,n);if(r.type==="lazy")return en(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return en(r.innerType,n);if(r.type==="intersection")return en(r.left,n)||en(r.right,n);if(r.type==="record"||r.type==="map")return en(r.keyType,n)||en(r.valueType,n);if(r.type==="pipe")return en(r.in,n)||en(r.out,n);if(r.type==="object"){for(const o in r.shape)if(en(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(en(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(en(o,n))return!0;return!!(r.rest&&en(r.rest,n))}return!1}const bP=(t,e={})=>n=>{const r=oS({...n,processors:e});return bt(t,r),iS(r,t),sS(r,t)},Yc=(t,e)=>n=>{const{libraryOptions:r,target:o}=n??{},i=oS({...r??{},target:o,io:e,processors:{}});return bt(t,i),iS(i,t),sS(i,t)},SP={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},xP=(t,e,n,r)=>{const o=n;o.type="string";const{minimum:i,maximum:l,format:u,patterns:c,contentEncoding:f}=t._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof l=="number"&&(o.maxLength=l),u&&(o.format=SP[u]??u,o.format===""&&delete o.format),f&&(o.contentEncoding=f),c&&c.size>0){const h=[...c];h.length===1?o.pattern=h[0].source:h.length>1&&(o.allOf=[...h.map(m=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},CP=(t,e,n,r)=>{const o=n,{minimum:i,maximum:l,format:u,multipleOf:c,exclusiveMaximum:f,exclusiveMinimum:h}=t._zod.bag;typeof u=="string"&&u.includes("int")?o.type="integer":o.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.minimum=h,o.exclusiveMinimum=!0):o.exclusiveMinimum=h),typeof i=="number"&&(o.minimum=i,typeof h=="number"&&e.target!=="draft-04"&&(h>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof l=="number"&&(o.maximum=l,typeof f=="number"&&e.target!=="draft-04"&&(f<=l?delete o.maximum:delete o.exclusiveMaximum)),typeof c=="number"&&(o.multipleOf=c)},EP=(t,e,n,r)=>{n.type="boolean"},TP=(t,e,n,r)=>{e.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},MP=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},OP=(t,e,n,r)=>{n.not={}},NP=(t,e,n,r)=>{},DP=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},AP=(t,e,n,r)=>{const o=t._zod.def,i=jb(o.entries);i.every(l=>typeof l=="number")&&(n.type="number"),i.every(l=>typeof l=="string")&&(n.type="string"),n.enum=i},IP=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},PP=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},RP=(t,e,n,r)=>{const o=n,i=t._zod.def,{minimum:l,maximum:u}=t._zod.bag;typeof l=="number"&&(o.minItems=l),typeof u=="number"&&(o.maxItems=u),o.type="array",o.items=bt(i.element,e,{...r,path:[...r.path,"items"]})},_P=(t,e,n,r)=>{var f;const o=n,i=t._zod.def;o.type="object",o.properties={};const l=i.shape;for(const h in l)o.properties[h]=bt(l[h],e,{...r,path:[...r.path,"properties",h]});const u=new Set(Object.keys(l)),c=new Set([...u].filter(h=>{const m=i.shape[h]._zod;return e.io==="input"?m.optin===void 0:m.optout===void 0}));c.size>0&&(o.required=Array.from(c)),((f=i.catchall)==null?void 0:f._zod.def.type)==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=bt(i.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(o.additionalProperties=!1)},zP=(t,e,n,r)=>{const o=t._zod.def,i=o.inclusive===!1,l=o.options.map((u,c)=>bt(u,e,{...r,path:[...r.path,i?"oneOf":"anyOf",c]}));i?n.oneOf=l:n.anyOf=l},LP=(t,e,n,r)=>{const o=t._zod.def,i=bt(o.left,e,{...r,path:[...r.path,"allOf",0]}),l=bt(o.right,e,{...r,path:[...r.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,c=[...u(i)?i.allOf:[i],...u(l)?l.allOf:[l]];n.allOf=c},$P=(t,e,n,r)=>{const o=n,i=t._zod.def;o.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(o.propertyNames=bt(i.keyType,e,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=bt(i.valueType,e,{...r,path:[...r.path,"additionalProperties"]})},FP=(t,e,n,r)=>{const o=t._zod.def,i=bt(o.innerType,e,r),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},jP=(t,e,n,r)=>{const o=t._zod.def;bt(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType},BP=(t,e,n,r)=>{const o=t._zod.def;bt(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},VP=(t,e,n,r)=>{const o=t._zod.def;bt(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},UP=(t,e,n,r)=>{const o=t._zod.def;bt(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType;let l;try{l=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},WP=(t,e,n,r)=>{const o=t._zod.def,i=e.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;bt(i,e,r);const l=e.seen.get(t);l.ref=i},HP=(t,e,n,r)=>{const o=t._zod.def;bt(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType,n.readOnly=!0},qP=(t,e,n,r)=>{const o=t._zod.def;bt(o.innerType,e,r);const i=e.seen.get(t);i.ref=o.innerType},ZP=V("ZodISODateTime",(t,e)=>{jA.init(t,e),ot.init(t,e)});function KP(t){return KI(ZP,t)}const YP=V("ZodISODate",(t,e)=>{BA.init(t,e),ot.init(t,e)});function JP(t){return YI(YP,t)}const GP=V("ZodISOTime",(t,e)=>{VA.init(t,e),ot.init(t,e)});function QP(t){return JI(GP,t)}const XP=V("ZodISODuration",(t,e)=>{UA.init(t,e),ot.init(t,e)});function eR(t){return GI(XP,t)}const tR=(t,e)=>{Wb.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>DD(t,n)},flatten:{value:n=>ND(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,cm,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,cm,2)}},isEmpty:{get(){return t.issues.length===0}}})},Zn=V("ZodError",tR,{Parent:Error}),nR=lg(Zn),rR=ag(Zn),oR=Xd(Zn),iR=ef(Zn),sR=PD(Zn),lR=RD(Zn),aR=_D(Zn),uR=zD(Zn),cR=LD(Zn),dR=$D(Zn),fR=FD(Zn),hR=jD(Zn),Qe=V("ZodType",(t,e)=>(Ye.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Yc(t,"input"),output:Yc(t,"output")}}),t.toJSONSchema=bP(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Zi(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>ni(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>nR(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>oR(t,n,r),t.parseAsync=async(n,r)=>rR(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>iR(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>sR(t,n,r),t.decode=(n,r)=>lR(t,n,r),t.encodeAsync=async(n,r)=>aR(t,n,r),t.decodeAsync=async(n,r)=>uR(t,n,r),t.safeEncode=(n,r)=>cR(t,n,r),t.safeDecode=(n,r)=>dR(t,n,r),t.safeEncodeAsync=async(n,r)=>fR(t,n,r),t.safeDecodeAsync=async(n,r)=>hR(t,n,r),t.refine=(n,r)=>t.check(a_(n,r)),t.superRefine=n=>t.check(u_(n)),t.overwrite=n=>t.check(ul(n)),t.optional=()=>$w(t),t.nullable=()=>Fw(t),t.nullish=()=>$w(Fw(t)),t.nonoptional=n=>n_(t,n),t.array=()=>BR(t),t.or=n=>WR([t,n]),t.and=n=>qR(t,n),t.transform=n=>jw(t,JR(n)),t.default=n=>XR(t,n),t.prefault=n=>t_(t,n),t.catch=n=>o_(t,n),t.pipe=n=>jw(t,n),t.readonly=()=>l_(t),t.describe=n=>{const r=t.clone();return oa.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=oa.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return oa.get(t);const r=t.clone();return oa.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),lS=V("_ZodString",(t,e)=>{ug.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(r,o,i)=>xP(t,r,o);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(sP(...r)),t.includes=(...r)=>t.check(uP(...r)),t.startsWith=(...r)=>t.check(cP(...r)),t.endsWith=(...r)=>t.check(dP(...r)),t.min=(...r)=>t.check(Kc(...r)),t.max=(...r)=>t.check(nS(...r)),t.length=(...r)=>t.check(rS(...r)),t.nonempty=(...r)=>t.check(Kc(1,...r)),t.lowercase=r=>t.check(lP(r)),t.uppercase=r=>t.check(aP(r)),t.trim=()=>t.check(hP()),t.normalize=(...r)=>t.check(fP(...r)),t.toLowerCase=()=>t.check(pP()),t.toUpperCase=()=>t.check(mP()),t.slugify=()=>t.check(gP())}),pR=V("ZodString",(t,e)=>{ug.init(t,e),lS.init(t,e),t.email=n=>t.check(MI(mR,n)),t.url=n=>t.check(II(gR,n)),t.jwt=n=>t.check(ZI(AR,n)),t.emoji=n=>t.check(PI(yR,n)),t.guid=n=>t.check(Aw(_w,n)),t.uuid=n=>t.check(OI(mc,n)),t.uuidv4=n=>t.check(NI(mc,n)),t.uuidv6=n=>t.check(DI(mc,n)),t.uuidv7=n=>t.check(AI(mc,n)),t.nanoid=n=>t.check(RI(vR,n)),t.guid=n=>t.check(Aw(_w,n)),t.cuid=n=>t.check(_I(wR,n)),t.cuid2=n=>t.check(zI(kR,n)),t.ulid=n=>t.check(LI(bR,n)),t.base64=n=>t.check(WI(OR,n)),t.base64url=n=>t.check(HI(NR,n)),t.xid=n=>t.check($I(SR,n)),t.ksuid=n=>t.check(FI(xR,n)),t.ipv4=n=>t.check(jI(CR,n)),t.ipv6=n=>t.check(BI(ER,n)),t.cidrv4=n=>t.check(VI(TR,n)),t.cidrv6=n=>t.check(UI(MR,n)),t.e164=n=>t.check(qI(DR,n)),t.datetime=n=>t.check(KP(n)),t.date=n=>t.check(JP(n)),t.time=n=>t.check(QP(n)),t.duration=n=>t.check(eR(n))});function lU(t){return TI(pR,t)}const ot=V("ZodStringFormat",(t,e)=>{Ge.init(t,e),lS.init(t,e)}),mR=V("ZodEmail",(t,e)=>{AA.init(t,e),ot.init(t,e)}),_w=V("ZodGUID",(t,e)=>{NA.init(t,e),ot.init(t,e)}),mc=V("ZodUUID",(t,e)=>{DA.init(t,e),ot.init(t,e)}),gR=V("ZodURL",(t,e)=>{IA.init(t,e),ot.init(t,e)}),yR=V("ZodEmoji",(t,e)=>{PA.init(t,e),ot.init(t,e)}),vR=V("ZodNanoID",(t,e)=>{RA.init(t,e),ot.init(t,e)}),wR=V("ZodCUID",(t,e)=>{_A.init(t,e),ot.init(t,e)}),kR=V("ZodCUID2",(t,e)=>{zA.init(t,e),ot.init(t,e)}),bR=V("ZodULID",(t,e)=>{LA.init(t,e),ot.init(t,e)}),SR=V("ZodXID",(t,e)=>{$A.init(t,e),ot.init(t,e)}),xR=V("ZodKSUID",(t,e)=>{FA.init(t,e),ot.init(t,e)}),CR=V("ZodIPv4",(t,e)=>{WA.init(t,e),ot.init(t,e)}),ER=V("ZodIPv6",(t,e)=>{HA.init(t,e),ot.init(t,e)}),TR=V("ZodCIDRv4",(t,e)=>{qA.init(t,e),ot.init(t,e)}),MR=V("ZodCIDRv6",(t,e)=>{ZA.init(t,e),ot.init(t,e)}),OR=V("ZodBase64",(t,e)=>{KA.init(t,e),ot.init(t,e)}),NR=V("ZodBase64URL",(t,e)=>{JA.init(t,e),ot.init(t,e)}),DR=V("ZodE164",(t,e)=>{GA.init(t,e),ot.init(t,e)}),AR=V("ZodJWT",(t,e)=>{XA.init(t,e),ot.init(t,e)}),aS=V("ZodNumber",(t,e)=>{Xb.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(r,o,i)=>CP(t,r,o),t.gt=(r,o)=>t.check(Pw(r,o)),t.gte=(r,o)=>t.check(Pc(r,o)),t.min=(r,o)=>t.check(Pc(r,o)),t.lt=(r,o)=>t.check(Iw(r,o)),t.lte=(r,o)=>t.check(Ic(r,o)),t.max=(r,o)=>t.check(Ic(r,o)),t.int=r=>t.check(zw(r)),t.safe=r=>t.check(zw(r)),t.positive=r=>t.check(Pw(0,r)),t.nonnegative=r=>t.check(Pc(0,r)),t.negative=r=>t.check(Iw(0,r)),t.nonpositive=r=>t.check(Ic(0,r)),t.multipleOf=(r,o)=>t.check(Rw(r,o)),t.step=(r,o)=>t.check(Rw(r,o)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function aU(t){return QI(aS,t)}const IR=V("ZodNumberFormat",(t,e)=>{eI.init(t,e),aS.init(t,e)});function zw(t){return XI(IR,t)}const PR=V("ZodBoolean",(t,e)=>{tI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>EP(t,n,r)});function uU(t){return eP(PR,t)}const RR=V("ZodUndefined",(t,e)=>{nI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>MP(t,n)});function cU(t){return tP(RR,t)}const _R=V("ZodNull",(t,e)=>{rI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>TP(t,n,r)});function dU(t){return nP(_R,t)}const zR=V("ZodUnknown",(t,e)=>{oI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>NP()});function Lw(){return rP(zR)}const LR=V("ZodNever",(t,e)=>{iI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>OP(t,n,r)});function $R(t){return oP(LR,t)}const FR=V("ZodDate",(t,e)=>{sI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(r,o,i)=>DP(t,r),t.min=(r,o)=>t.check(Pc(r,o)),t.max=(r,o)=>t.check(Ic(r,o));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function fU(t){return iP(FR,t)}const jR=V("ZodArray",(t,e)=>{lI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>RP(t,n,r,o),t.element=e.element,t.min=(n,r)=>t.check(Kc(n,r)),t.nonempty=n=>t.check(Kc(1,n)),t.max=(n,r)=>t.check(nS(n,r)),t.length=(n,r)=>t.check(rS(n,r)),t.unwrap=()=>t.element});function BR(t,e){return yP(jR,t,e)}const VR=V("ZodObject",(t,e)=>{uI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>_P(t,n,r,o),He(t,"shape",()=>e.shape),t.keyof=()=>KR(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Lw()}),t.loose=()=>t.clone({...t._zod.def,catchall:Lw()}),t.strict=()=>t.clone({...t._zod.def,catchall:$R()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>CD(t,n),t.safeExtend=n=>ED(t,n),t.merge=n=>TD(t,n),t.pick=n=>SD(t,n),t.omit=n=>xD(t,n),t.partial=(...n)=>MD(uS,t,n[0]),t.required=(...n)=>OD(cS,t,n[0])});function hU(t,e){const n={type:"object",shape:t??{},...de(e)};return new VR(n)}const UR=V("ZodUnion",(t,e)=>{cI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>zP(t,n,r,o),t.options=e.options});function WR(t,e){return new UR({type:"union",options:t,...de(e)})}const HR=V("ZodIntersection",(t,e)=>{dI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>LP(t,n,r,o)});function qR(t,e){return new HR({type:"intersection",left:t,right:e})}const ZR=V("ZodRecord",(t,e)=>{fI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>$P(t,n,r,o),t.keyType=e.keyType,t.valueType=e.valueType});function pU(t,e,n){return new ZR({type:"record",keyType:t,valueType:e,...de(n)})}const fm=V("ZodEnum",(t,e)=>{hI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(r,o,i)=>AP(t,r,o),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,o)=>{const i={};for(const l of r)if(n.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new fm({...e,checks:[],...de(o),entries:i})},t.exclude=(r,o)=>{const i={...e.entries};for(const l of r)if(n.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new fm({...e,checks:[],...de(o),entries:i})}});function KR(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new fm({type:"enum",entries:n,...de(e)})}const YR=V("ZodTransform",(t,e)=>{pI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>PP(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Fb(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Ma(i,n.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(Ma(l))}};const o=e.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function JR(t){return new YR({type:"transform",transform:t})}const uS=V("ZodOptional",(t,e)=>{mI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>qP(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function $w(t){return new uS({type:"optional",innerType:t})}const GR=V("ZodNullable",(t,e)=>{gI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>FP(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function Fw(t){return new GR({type:"nullable",innerType:t})}const QR=V("ZodDefault",(t,e)=>{yI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>BP(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function XR(t,e){return new QR({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Vb(e)}})}const e_=V("ZodPrefault",(t,e)=>{vI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>VP(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function t_(t,e){return new e_({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Vb(e)}})}const cS=V("ZodNonOptional",(t,e)=>{wI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>jP(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function n_(t,e){return new cS({type:"nonoptional",innerType:t,...de(e)})}const r_=V("ZodCatch",(t,e)=>{kI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>UP(t,n,r,o),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function o_(t,e){return new r_({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const i_=V("ZodPipe",(t,e)=>{bI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>WP(t,n,r,o),t.in=e.in,t.out=e.out});function jw(t,e){return new i_({type:"pipe",in:t,out:e})}const s_=V("ZodReadonly",(t,e)=>{SI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>HP(t,n,r,o),t.unwrap=()=>t._zod.def.innerType});function l_(t){return new s_({type:"readonly",innerType:t})}const dS=V("ZodCustom",(t,e)=>{xI.init(t,e),Qe.init(t,e),t._zod.processJSONSchema=(n,r,o)=>IP(t,n)});function a_(t,e={}){return vP(dS,t,e)}function u_(t){return wP(t)}function mU(t,e={error:`Input not instance of ${t.name}`}){const n=new dS({type:"custom",check:"custom",fn:r=>r instanceof t,abort:!0,...de(e)});return n._zod.bag.Class=t,n}const gU={invalid_type:"invalid_type",custom:"custom"};function yU(t){to({customError:t})}function fS(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function c_(t,e){return t.reduce((n,r,o)=>{const i=e.get(r);return i&&(n[o]=i),n},Array(t.length))}function gc(t){return t!==null&&t>=0}function d_(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function f_(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const hS=t=>{let{rects:e,activeIndex:n,overIndex:r,index:o}=t;const i=fS(e,r,n),l=e[o],u=i[o];return!u||!l?null:{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}},yc={scaleX:1,scaleY:1},vU=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:l}=t;const u=(e=i[n])!=null?e:r;if(!u)return null;if(o===n){const f=i[l];return f?{x:0,y:n<l?f.top+f.height-(u.top+u.height):f.top-u.top,...yc}:null}const c=h_(i,o,n);return o>n&&o<=l?{x:0,y:-u.height-c,...yc}:o<n&&o>=l?{x:0,y:u.height+c,...yc}:{x:0,y:0,...yc}};function h_(t,e,n){const r=t[e],o=t[e-1],i=t[e+1];return r?n<e?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const pS="Sortable",mS=Le.createContext({activeIndex:-1,containerId:pS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:hS,disabled:{draggable:!1,droppable:!1}});function wU(t){let{children:e,id:n,items:r,strategy:o=hS,disabled:i=!1}=t;const{active:l,dragOverlay:u,droppableRects:c,over:f,measureDroppableContainers:h}=xb(),m=Ha(pS,n),y=u.rect!==null,v=z.useMemo(()=>r.map(F=>typeof F=="object"&&"id"in F?F.id:F),[r]),k=l!=null,b=l?v.indexOf(l.id):-1,S=f?v.indexOf(f.id):-1,C=z.useRef(v),T=!d_(v,C.current),N=S!==-1&&b===-1||T,D=f_(i);hr(()=>{T&&k&&h(v)},[T,v,k,h]),z.useEffect(()=>{C.current=v},[v]);const P=z.useMemo(()=>({activeIndex:b,containerId:m,disabled:D,disableTransforms:N,items:v,overIndex:S,useDragOverlay:y,sortedRects:c_(v,c),strategy:o}),[b,m,D.draggable,D.droppable,N,v,S,c,y,o]);return Le.createElement(mS.Provider,{value:P},e)}const p_=t=>{let{id:e,items:n,activeIndex:r,overIndex:o}=t;return fS(n,r,o).indexOf(e)},m_=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:o,items:i,newIndex:l,previousItems:u,previousContainerId:c,transition:f}=t;return!f||!r||u!==i&&o===l?!1:n?!0:l!==o&&e===c},g_={duration:200,easing:"ease"},gS="transform",y_=ji.Transition.toString({property:gS,duration:0,easing:"linear"}),v_={roleDescription:"sortable"};function w_(t){let{disabled:e,index:n,node:r,rect:o}=t;const[i,l]=z.useState(null),u=z.useRef(n);return hr(()=>{if(!e&&n!==u.current&&r.current){const c=o.current;if(c){const f=sl(r.current,{ignoreTransform:!0}),h={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(h.x||h.y)&&l(h)}}n!==u.current&&(u.current=n)},[e,n,r,o]),z.useEffect(()=>{i&&l(null)},[i]),i}function kU(t){let{animateLayoutChanges:e=m_,attributes:n,disabled:r,data:o,getNewIndex:i=p_,id:l,strategy:u,resizeObserverConfig:c,transition:f=g_}=t;const{items:h,containerId:m,activeIndex:y,disabled:v,disableTransforms:k,sortedRects:b,overIndex:S,useDragOverlay:C,strategy:T}=z.useContext(mS),N=k_(r,v),D=h.indexOf(l),P=z.useMemo(()=>({sortable:{containerId:m,index:D,items:h},...o}),[m,o,D,h]),F=z.useMemo(()=>h.slice(h.indexOf(l)),[h,l]),{rect:$,node:L,isOver:J,setNodeRef:ee}=tN({id:l,data:P,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...c}}),{active:ae,activatorEvent:Ie,activeNodeRect:Re,attributes:Me,setNodeRef:De,listeners:Pe,isDragging:ge,over:j,setActivatorNodeRef:se,transform:G}=QO({id:l,data:P,attributes:{...v_,...n},disabled:N.draggable}),A=FM(ee,De),U=!!ae,ne=U&&!k&&gc(y)&&gc(S),ce=!C&&ge,xe=ce&&ne?G:null,ye=ne?xe??(u??T)({rects:b,activeNodeRect:Re,activeIndex:y,overIndex:S,index:D}):null,Ce=gc(y)&&gc(S)?i({id:l,items:h,activeIndex:y,overIndex:S}):D,Oe=ae==null?void 0:ae.id,we=z.useRef({activeId:Oe,items:h,newIndex:Ce,containerId:m}),un=h!==we.current.items,Ct=e({active:ae,containerId:m,isDragging:ge,isSorting:U,id:l,index:D,items:h,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:f,wasDragging:we.current.activeId!=null}),Kn=w_({disabled:!Ct,index:D,node:L,rect:$});return z.useEffect(()=>{U&&we.current.newIndex!==Ce&&(we.current.newIndex=Ce),m!==we.current.containerId&&(we.current.containerId=m),h!==we.current.items&&(we.current.items=h)},[U,Ce,m,h]),z.useEffect(()=>{if(Oe===we.current.activeId)return;if(Oe!=null&&we.current.activeId==null){we.current.activeId=Oe;return}const Ir=setTimeout(()=>{we.current.activeId=Oe},50);return()=>clearTimeout(Ir)},[Oe]),{active:ae,activeIndex:y,attributes:Me,data:P,rect:$,index:D,newIndex:Ce,items:h,isOver:J,isSorting:U,isDragging:ge,listeners:Pe,node:L,overIndex:S,over:j,setNodeRef:A,setActivatorNodeRef:se,setDroppableNodeRef:ee,setDraggableNodeRef:De,transform:Kn??ye,transition:xn()};function xn(){if(Kn||un&&we.current.newIndex===D)return y_;if(!(ce&&!Kd(Ie)||!f)&&(U||Ct))return ji.Transition.toString({...f,property:gS})}}function k_(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Jc(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const b_=[ze.Down,ze.Right,ze.Up,ze.Left],bU=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:l,scrollableAncestors:u}}=e;if(b_.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const y=o.get(m.id);if(y)switch(t.code){case ze.Down:r.top<y.top&&c.push(m);break;case ze.Up:r.top>y.top&&c.push(m);break;case ze.Left:r.left>y.left&&c.push(m);break;case ze.Right:r.left<y.left&&c.push(m);break}});const f=tO({collisionRect:r,droppableRects:o,droppableContainers:c});let h=ib(f,"id");if(h===(l==null?void 0:l.id)&&f.length>1&&(h=f[1].id),h!=null){const m=i.get(n.id),y=i.get(h),v=y?o.get(y.id):null,k=y==null?void 0:y.node.current;if(k&&v&&m&&y){const S=Yd(k).some((F,$)=>u[$]!==F),C=yS(m,y),T=S_(m,y),N=S||!C?{x:0,y:0}:{x:T?r.width-v.width:0,y:T?r.height-v.height:0},D={x:v.left,y:v.top};return N.x&&N.y?D:Ea(D,N)}}}};function yS(t,e){return!Jc(t)||!Jc(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function S_(t,e){return!Jc(t)||!Jc(e)||!yS(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const vS=6048e5,x_=864e5,Bw=Symbol.for("constructDateFrom");function bn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Bw in t?t[Bw](e):t instanceof Date?new t.constructor(e):new Date(e)}function St(t,e){return bn(e||t,t)}function cg(t,e,n){const r=St(t,n==null?void 0:n.in);return isNaN(e)?bn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function wS(t,e,n){const r=St(t,n==null?void 0:n.in);if(isNaN(e))return bn(t,NaN);if(!e)return r;const o=r.getDate(),i=bn(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const l=i.getDate();return o>=l?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}let C_={};function Za(){return C_}function Oa(t,e){var u,c,f,h;const n=Za(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,o=St(t,e==null?void 0:e.in),i=o.getDay(),l=(i<r?7:0)+i-r;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Gc(t,e){return Oa(t,{...e,weekStartsOn:1})}function kS(t,e){const n=St(t,e==null?void 0:e.in),r=n.getFullYear(),o=bn(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=Gc(o),l=bn(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Gc(l);return n.getTime()>=i.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Vw(t){const e=St(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bS(t,...e){const n=bn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Qc(t,e){const n=St(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function E_(t,e,n){const[r,o]=bS(n==null?void 0:n.in,t,e),i=Qc(r),l=Qc(o),u=+i-Vw(i),c=+l-Vw(l);return Math.round((u-c)/x_)}function T_(t,e){const n=kS(t,e),r=bn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Gc(r)}function M_(t,e,n){return wS(t,e*3,n)}function O_(t,e,n){return cg(t,e*7,n)}function dg(t){return bn(t,Date.now())}function fg(t,e,n){const[r,o]=bS(n==null?void 0:n.in,t,e);return+Qc(r)==+Qc(o)}function N_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function D_(t){return!(!N_(t)&&typeof t!="number"||isNaN(+St(t)))}function SU(t,e){const n=St(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function xU(t,e){const n=St(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function CU(t,e){const n=St(t,e==null?void 0:e.in),r=n.getMonth(),o=r-r%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function EU(t,e){const n=St(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function A_(t,e){const n=St(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function TU(t,e){const n=e==null?void 0:e.weekStartsOn,r=St(t,e==null?void 0:e.in),o=r.getDay(),i=(o<n?-7:0)+6-(o-n);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function MU(t,e){const n=St(t,e==null?void 0:e.in),r=n.getMonth(),o=r-r%3+3;return n.setMonth(o,0),n.setHours(23,59,59,999),n}const I_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P_=(t,e,n)=>{let r;const o=I_[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Fs(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const R_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},__={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L_={date:Fs({formats:R_,defaultWidth:"full"}),time:Fs({formats:__,defaultWidth:"full"}),dateTime:Fs({formats:z_,defaultWidth:"full"})},$_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F_=(t,e,n,r)=>$_[t];function Or(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):l;o=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[u]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}const j_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q_=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Z_={ordinalNumber:q_,era:Or({values:j_,defaultWidth:"wide"}),quarter:Or({values:B_,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Or({values:V_,defaultWidth:"wide"}),day:Or({values:U_,defaultWidth:"wide"}),dayPeriod:Or({values:W_,defaultWidth:"wide",formattingValues:H_,defaultFormattingWidth:"wide"})};function Nr(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;const l=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Y_(u,m=>m.test(l)):K_(u,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(l.length);return{value:f,rest:h}}}function K_(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Y_(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function SS(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],i=e.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}const J_=/^(\d+)(th|st|nd|rd)?/i,G_=/\d+/i,Q_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X_={any:[/^b/i,/^(a|c)/i]},ez={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tz={any:[/1/i,/2/i,/3/i,/4/i]},nz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},az={ordinalNumber:SS({matchPattern:J_,parsePattern:G_,valueCallback:t=>parseInt(t,10)}),era:Nr({matchPatterns:Q_,defaultMatchWidth:"wide",parsePatterns:X_,defaultParseWidth:"any"}),quarter:Nr({matchPatterns:ez,defaultMatchWidth:"wide",parsePatterns:tz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nr({matchPatterns:nz,defaultMatchWidth:"wide",parsePatterns:rz,defaultParseWidth:"any"}),day:Nr({matchPatterns:oz,defaultMatchWidth:"wide",parsePatterns:iz,defaultParseWidth:"any"}),dayPeriod:Nr({matchPatterns:sz,defaultMatchWidth:"any",parsePatterns:lz,defaultParseWidth:"any"})},uz={code:"en-US",formatDistance:P_,formatLong:L_,formatRelative:F_,localize:Z_,match:az,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cz(t,e){const n=St(t,e==null?void 0:e.in);return E_(n,A_(n))+1}function dz(t,e){const n=St(t,e==null?void 0:e.in),r=+Gc(n)-+T_(n);return Math.round(r/vS)+1}function xS(t,e){var h,m,y,v;const n=St(t,e==null?void 0:e.in),r=n.getFullYear(),o=Za(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((v=(y=o.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,l=bn((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,i),l.setHours(0,0,0,0);const u=Oa(l,e),c=bn((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const f=Oa(c,e);return+n>=+u?r+1:+n>=+f?r:r-1}function fz(t,e){var u,c,f,h;const n=Za(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=xS(t,e),i=bn((e==null?void 0:e.in)||t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),Oa(i,e)}function hz(t,e){const n=St(t,e==null?void 0:e.in),r=+Oa(n,e)-+fz(n,e);return Math.round(r/vS)+1}function Ve(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Oo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ve(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ve(n+1,2)},d(t,e){return Ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ve(t.getHours()%12||12,e.length)},H(t,e){return Ve(t.getHours(),e.length)},m(t,e){return Ve(t.getMinutes(),e.length)},s(t,e){return Ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Ve(o,e.length)}},Es={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Uw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Oo.y(t,e)},Y:function(t,e,n,r){const o=xS(t,r),i=o>0?o:1-o;if(e==="YY"){const l=i%100;return Ve(l,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ve(i,e.length)},R:function(t,e){const n=kS(t);return Ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ve(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Oo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=hz(t,r);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ve(o,e.length)},I:function(t,e,n){const r=dz(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ve(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Oo.d(t,e)},D:function(t,e,n){const r=cz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ve(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ve(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ve(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Ve(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(r===12?o=Es.noon:r===0?o=Es.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(r>=17?o=Es.evening:r>=12?o=Es.afternoon:r>=4?o=Es.morning:o=Es.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Oo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Oo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Oo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Oo.s(t,e)},S:function(t,e){return Oo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Hw(r);case"XXXX":case"XX":return xi(r);case"XXXXX":case"XXX":default:return xi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Hw(r);case"xxxx":case"xx":return xi(r);case"xxxxx":case"xxx":default:return xi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ww(r,":");case"OOOO":default:return"GMT"+xi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ww(r,":");case"zzzz":default:return"GMT"+xi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ve(r,e.length)},T:function(t,e,n){return Ve(+t,e.length)}};function Ww(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+Ve(i,2)}function Hw(t,e){return t%60===0?(t>0?"-":"+")+Ve(Math.abs(t)/60,2):xi(t,e)}function xi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Ve(Math.trunc(r/60),2),i=Ve(r%60,2);return n+o+e+i}const qw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},CS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return qw(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",qw(r,e)).replace("{{time}}",CS(o,e))},mz={p:CS,P:pz},gz=/^D+$/,yz=/^Y+$/,vz=["D","DD","YY","YYYY"];function wz(t){return gz.test(t)}function kz(t){return yz.test(t)}function bz(t,e,n){const r=Sz(t,e,n);if(console.warn(r),vz.includes(t))throw new RangeError(r)}function Sz(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ez=/^'([^]*?)'?$/,Tz=/''/g,Mz=/[a-zA-Z]/;function Oz(t,e,n){var h,m,y,v,k,b,S,C;const r=Za(),o=(n==null?void 0:n.locale)??r.locale??uz,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((b=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((C=(S=r.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,u=St(t,n==null?void 0:n.in);if(!D_(u))throw new RangeError("Invalid time value");let c=e.match(Cz).map(T=>{const N=T[0];if(N==="p"||N==="P"){const D=mz[N];return D(T,o.formatLong)}return T}).join("").match(xz).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const N=T[0];if(N==="'")return{isToken:!1,value:Nz(T)};if(Uw[N])return{isToken:!0,value:T};if(N.match(Mz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:T}});o.localize.preprocessor&&(c=o.localize.preprocessor(u,c));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:o};return c.map(T=>{if(!T.isToken)return T.value;const N=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&kz(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&wz(N))&&bz(N,e,String(t));const D=Uw[N[0]];return D(u,N,o.localize,f)}).join("")}function Nz(t){const e=t.match(Ez);return e?e[1].replace(Tz,"'"):t}function Dz(){return Object.assign({},Za())}function OU(t,e){return fg(bn(t,t),dg(t))}function NU(t,e){return fg(t,cg(dg(t),1),e)}function Az(t,e,n){return cg(t,-e,n)}function DU(t,e){return fg(bn(t,t),Az(dg(t),1))}function AU(t,e,n){return wS(t,-e,n)}function IU(t,e,n){return M_(t,-e,n)}function PU(t,e,n){return O_(t,-e,n)}function Zw(t,e,n){const r=Dz(),o=Rz(t,n.timeZone,n.locale??r.locale);return"formatToParts"in o?Iz(o,e):Pz(o,e)}function Iz(t,e){const n=t.formatToParts(e);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function Pz(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function Rz(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function _z(t,e){const n=jz(e);return"formatToParts"in n?Lz(n,t):$z(n,t)}const zz={year:0,month:1,day:2,hour:3,minute:4,second:5};function Lz(t,e){try{const n=t.formatToParts(e),r=[];for(let o=0;o<n.length;o++){const i=zz[n[o].type];i!==void 0&&(r[i]=parseInt(n[o].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function $z(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const hp={},Kw=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Fz=Kw==="06/25/2014, 00:00:00"||Kw==="06/25/2014 00:00:00";function jz(t){return hp[t]||(hp[t]=Fz?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),hp[t]}function ES(t,e,n,r,o,i,l){const u=new Date(0);return u.setUTCFullYear(t,e,n),u.setUTCHours(r,o,i,l),u}const Yw=36e5,Bz=6e4,pp={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function hg(t,e,n){if(!t)return 0;let r=pp.timezoneZ.exec(t);if(r)return 0;let o,i;if(r=pp.timezoneHH.exec(t),r)return o=parseInt(r[1],10),Jw(o)?-(o*Yw):NaN;if(r=pp.timezoneHHMM.exec(t),r){o=parseInt(r[2],10);const l=parseInt(r[3],10);return Jw(o,l)?(i=Math.abs(o)*Yw+l*Bz,r[1]==="+"?-i:i):NaN}if(Wz(t)){e=new Date(e||Date.now());const l=n?e:Vz(e),u=hm(l,t);return-(n?u:Uz(e,u,t))}return NaN}function Vz(t){return ES(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function hm(t,e){const n=_z(t,e),r=ES(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let o=t.getTime();const i=o%1e3;return o-=i>=0?i:1e3+i,r-o}function Uz(t,e,n){let o=t.getTime()-e;const i=hm(new Date(o),n);if(e===i)return e;o-=i-e;const l=hm(new Date(o),n);return i===l?i:Math.max(i,l)}function Jw(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const Gw={};function Wz(t){if(Gw[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Gw[t]=!0,!0}catch{return!1}}const Hz=60*1e3,qz={X:function(t,e,n){const r=mp(n.timeZone,t);if(r===0)return"Z";switch(e){case"X":return Qw(r);case"XXXX":case"XX":return Os(r);case"XXXXX":case"XXX":default:return Os(r,":")}},x:function(t,e,n){const r=mp(n.timeZone,t);switch(e){case"x":return Qw(r);case"xxxx":case"xx":return Os(r);case"xxxxx":case"xxx":default:return Os(r,":")}},O:function(t,e,n){const r=mp(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+Zz(r,":");case"OOOO":default:return"GMT"+Os(r,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return Zw("short",t,n);case"zzzz":default:return Zw("long",t,n)}}};function mp(t,e){const n=t?hg(t,e,!0)/Hz:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function Xc(t,e){const n=t<0?"-":"";let r=Math.abs(t).toString();for(;r.length<e;)r="0"+r;return n+r}function Os(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Xc(Math.floor(r/60),2),i=Xc(Math.floor(r%60),2);return n+o+e+i}function Qw(t,e){return t%60===0?(t>0?"-":"+")+Xc(Math.abs(t)/60,2):Os(t,e)}function Zz(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+Xc(i,2)}function Xw(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Kz=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,gp=36e5,ek=6e4,Yz=2,rn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Kz};function TS(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?Yz:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=Jz(t),{year:o,restDateString:i}=Gz(r.date,n),l=Qz(i,o);if(l===null||isNaN(l.getTime()))return new Date(NaN);if(l){const u=l.getTime();let c=0,f;if(r.time&&(c=Xz(r.time),c===null||isNaN(c)))return new Date(NaN);if(r.timeZone||e.timeZone){if(f=hg(r.timeZone||e.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=Xw(new Date(u+c)),f=Xw(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function Jz(t){const e={};let n=rn.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=rn.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const o=rn.timeZone.exec(r);o?(e.time=r.replace(o[1],""),e.timeZone=o[1].trim()):e.time=r}return e}function Gz(t,e){if(t){const n=rn.YYY[e],r=rn.YYYYY[e];let o=rn.YYYY.exec(t)||r.exec(t);if(o){const i=o[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(o=rn.YY.exec(t)||n.exec(t),o){const i=o[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function Qz(t,e){if(e===null)return null;let n,r,o;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=rn.MM.exec(t);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,nk(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(i=rn.DDD.exec(t),i){n=new Date(0);const l=parseInt(i[1],10);return n2(e,l)?(n.setUTCFullYear(e,0,l),n):new Date(NaN)}if(i=rn.MMDD.exec(t),i){n=new Date(0),r=parseInt(i[1],10)-1;const l=parseInt(i[2],10);return nk(e,r,l)?(n.setUTCFullYear(e,r,l),n):new Date(NaN)}if(i=rn.Www.exec(t),i)return o=parseInt(i[1],10)-1,rk(o)?tk(e,o):new Date(NaN);if(i=rn.WwwD.exec(t),i){o=parseInt(i[1],10)-1;const l=parseInt(i[2],10)-1;return rk(o,l)?tk(e,o,l):new Date(NaN)}return null}function Xz(t){let e,n,r=rn.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),yp(e)?e%24*gp:NaN;if(r=rn.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),yp(e,n)?e%24*gp+n*ek:NaN;if(r=rn.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const o=parseFloat(r[3].replace(",","."));return yp(e,n,o)?e%24*gp+n*ek+o*1e3:NaN}return null}function tk(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const o=r.getUTCDay()||7,i=e*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}const e2=[31,28,31,30,31,30,31,31,30,31,30,31],t2=[31,29,31,30,31,30,31,31,30,31,30,31];function MS(t){return t%400===0||t%4===0&&t%100!==0}function nk(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=MS(t);if(r&&n>t2[e]||!r&&n>e2[e])return!1}return!0}function n2(t,e){if(e<1)return!1;const n=MS(t);return!(n&&e>366||!n&&e>365)}function rk(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function yp(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const r2=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function o2(t,e,n={}){e=String(e);const r=e.match(r2);if(r){const o=TS(n.originalDate||t,n);e=r.reduce(function(i,l){if(l[0]==="'")return i;const u=i.indexOf(l),c=i[u-1]==="'",f=i.replace(l,"'"+qz[l[0]](o,l,n)+"'");return c?f.substring(0,u-1)+f.substring(u+1):f},e)}return Oz(t,e,n)}function i2(t,e,n){t=TS(t,n);const r=hg(e,t,!0),o=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}function RU(t,e,n,r){return r={...r,timeZone:e,originalDate:t},o2(i2(t,e,{timeZone:r.timeZone}),n,r)}const s2={lessThanXSeconds:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:"1",other:"{{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:"1",other:"{{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:"1",other:"{{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:"1",other:"{{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1",other:"{{count}}"},almostXYears:{one:"1",other:"{{count}}"}},l2=(t,e,n)=>{n=n||{};let r;const o=s2[t];return typeof o=="string"?r=o:e===1?n.addSuffix&&o.oneWithSuffix?r=o.oneWithSuffix:r=o.one:n.addSuffix&&o.otherWithSuffix?r=o.otherWithSuffix.replace("{{count}}",String(e)):r=o.other.replace("{{count}}",String(e)),n.addSuffix?n.comparison&&n.comparison>0?r+"":r+"":r},a2={full:"yMdEEEE",long:"yMd",medium:"y/MM/dd",short:"y/MM/dd"},u2={full:"Hmmss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},c2={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},d2={date:Fs({formats:a2,defaultWidth:"full"}),time:Fs({formats:u2,defaultWidth:"full"}),dateTime:Fs({formats:c2,defaultWidth:"full"})},f2={lastWeek:"eeeep",yesterday:"p",today:"p",tomorrow:"p",nextWeek:"eeeep",other:"P"},h2=(t,e,n,r)=>f2[t],p2={narrow:["BC","AC"],abbreviated:["",""],wide:["",""]},m2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},g2={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},y2={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},v2={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},w2={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},k2=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"year":return`${n}`;case"quarter":return`${n}`;case"month":return`${n}`;case"week":return`${n}`;case"date":return`${n}`;case"hour":return`${n}`;case"minute":return`${n}`;case"second":return`${n}`;default:return`${n}`}},b2={ordinalNumber:k2,era:Or({values:p2,defaultWidth:"wide"}),quarter:Or({values:m2,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Or({values:g2,defaultWidth:"wide"}),day:Or({values:y2,defaultWidth:"wide"}),dayPeriod:Or({values:v2,defaultWidth:"wide",formattingValues:w2,defaultFormattingWidth:"wide"})},S2=/^?\d+(|||||||)?/i,x2=/\d+/i,C2={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^([]|)/i,wide:/^([]|)/i},E2={narrow:[/^B/i,/^A/i],any:[/^()/i,/^(|)/i]},T2={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^[1234]/i},M2={any:[/(1||)/i,/(2||)/i,/(3||)/i,/(4||)/i]},O2={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])/i,wide:/^([123456789]|1[012])/i},N2={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},D2={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},A2={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},I2={any:/^(AM|PM|||||||)/i},P2={any:{am:/^(A|)/i,pm:/^(P|)/i,midnight:/^|/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},R2={ordinalNumber:SS({matchPattern:S2,parsePattern:x2,valueCallback:function(t){return parseInt(t,10)}}),era:Nr({matchPatterns:C2,defaultMatchWidth:"wide",parsePatterns:E2,defaultParseWidth:"any"}),quarter:Nr({matchPatterns:T2,defaultMatchWidth:"wide",parsePatterns:M2,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nr({matchPatterns:O2,defaultMatchWidth:"wide",parsePatterns:N2,defaultParseWidth:"any"}),day:Nr({matchPatterns:D2,defaultMatchWidth:"wide",parsePatterns:A2,defaultParseWidth:"any"}),dayPeriod:Nr({matchPatterns:I2,defaultMatchWidth:"any",parsePatterns:P2,defaultParseWidth:"any"})},_U={code:"ja",formatDistance:l2,formatLong:d2,formatRelative:h2,localize:b2,match:R2,options:{weekStartsOn:0,firstWeekContainsDate:1}},{getOwnPropertyNames:_2,getOwnPropertySymbols:z2}=Object,{hasOwnProperty:L2}=Object.prototype;function vp(t,e){return function(r,o,i){return t(r,o,i)&&e(r,o,i)}}function vc(t){return function(n,r,o){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,o);const{cache:i}=o,l=i.get(n),u=i.get(r);if(l&&u)return l===r&&u===n;i.set(n,r),i.set(r,n);const c=t(n,r,o);return i.delete(n),i.delete(r),c}}function ok(t){return _2(t).concat(z2(t))}const $2=Object.hasOwn||((t,e)=>L2.call(t,e)),F2="__v",j2="__o",B2="_owner",{getOwnPropertyDescriptor:ik,keys:sk}=Object,Ki=Object.is||function(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n};function V2(t,e){return t===e}function U2(t,e){return t.byteLength===e.byteLength&&ed(new Uint8Array(t),new Uint8Array(e))}function W2(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function H2(t,e){return t.byteLength===e.byteLength&&ed(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function q2(t,e){return Ki(t.getTime(),e.getTime())}function Z2(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),i=t.entries();let l,u,c=0;for(;(l=i.next())&&!l.done;){const f=e.entries();let h=!1,m=0;for(;(u=f.next())&&!u.done;){if(o[m]){m++;continue}const y=l.value,v=u.value;if(n.equals(y[0],v[0],c,m,t,e,n)&&n.equals(y[1],v[1],y[0],v[0],t,e,n)){h=o[m]=!0;break}m++}if(!h)return!1;c++}return!0}function K2(t,e,n){const r=sk(t);let o=r.length;if(sk(e).length!==o)return!1;for(;o-- >0;)if(!OS(t,e,n,r[o]))return!1;return!0}function ea(t,e,n){const r=ok(t);let o=r.length;if(ok(e).length!==o)return!1;let i,l,u;for(;o-- >0;)if(i=r[o],!OS(t,e,n,i)||(l=ik(t,i),u=ik(e,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function Y2(t,e){return Ki(t.valueOf(),e.valueOf())}function J2(t,e){return t.source===e.source&&t.flags===e.flags}function ak(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),i=t.values();let l,u;for(;(l=i.next())&&!l.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!o[h]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){f=o[h]=!0;break}h++}if(!f)return!1}return!0}function ed(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function G2(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function OS(t,e,n,r){return(r===B2||r===j2||r===F2)&&(t.$$typeof||e.$$typeof)?!0:$2(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Q2=Object.prototype.toString;function X2(t){const e=rL(t),{areArraysEqual:n,areDatesEqual:r,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:l,areObjectsEqual:u,areRegExpsEqual:c,areSetsEqual:f,getUnsupportedCustomComparator:h}=t;return function(y,v,k){if(y===v)return!0;if(y==null||v==null)return!1;const b=typeof y;if(b!==typeof v)return!1;if(b!=="object")return b==="number"||b==="bigint"?l(y,v,k):b==="function"?o(y,v,k):!1;const S=y.constructor;if(S!==v.constructor)return!1;if(S===Object)return u(y,v,k);if(S===Array)return n(y,v,k);if(S===Date)return r(y,v,k);if(S===RegExp)return c(y,v,k);if(S===Map)return i(y,v,k);if(S===Set)return f(y,v,k);if(S===Promise)return!1;if(Array.isArray(y))return n(y,v,k);const C=Q2.call(y),T=e[C];if(T)return T(y,v,k);const N=h&&h(y,v,k,C);return N?N(y,v,k):!1}}function eL({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:U2,areArraysEqual:n?ea:W2,areDataViewsEqual:H2,areDatesEqual:q2,areErrorsEqual:Z2,areFunctionsEqual:V2,areMapsEqual:n?vp(lk,ea):lk,areNumbersEqual:Ki,areObjectsEqual:n?ea:K2,arePrimitiveWrappersEqual:Y2,areRegExpsEqual:J2,areSetsEqual:n?vp(ak,ea):ak,areTypedArraysEqual:n?vp(ed,ea):ed,areUrlsEqual:G2,getUnsupportedCustomComparator:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const o=vc(r.areArraysEqual),i=vc(r.areMapsEqual),l=vc(r.areObjectsEqual),u=vc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:u})}return r}function tL(t){return function(e,n,r,o,i,l,u){return t(e,n,u)}}function nL({circular:t,comparator:e,createState:n,equals:r,strict:o}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(u,c,{cache:f,equals:r,meta:h,strict:o})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:o})};const i={cache:void 0,equals:r,meta:void 0,strict:o};return function(u,c){return e(u,c,i)}}function rL({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:o,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:v}){return{"[object Arguments]":c,"[object Array]":e,"[object ArrayBuffer]":t,"[object AsyncGeneratorFunction]":i,"[object BigInt]":u,"[object BigInt64Array]":y,"[object BigUint64Array]":y,"[object Boolean]":f,"[object DataView]":n,"[object Date]":r,"[object Error]":o,"[object Float16Array]":y,"[object Float32Array]":y,"[object Float64Array]":y,"[object Function]":i,"[object GeneratorFunction]":i,"[object Int8Array]":y,"[object Int16Array]":y,"[object Int32Array]":y,"[object Map]":l,"[object Number]":f,"[object Object]":(k,b,S)=>typeof k.then!="function"&&typeof b.then!="function"&&c(k,b,S),"[object RegExp]":h,"[object Set]":m,"[object String]":f,"[object URL]":v,"[object Uint8Array]":y,"[object Uint8ClampedArray]":y,"[object Uint16Array]":y,"[object Uint32Array]":y}}const zU=ri();ri({strict:!0});ri({circular:!0});ri({circular:!0,strict:!0});ri({createInternalComparator:()=>Ki});ri({strict:!0,createInternalComparator:()=>Ki});ri({circular:!0,createInternalComparator:()=>Ki});ri({circular:!0,createInternalComparator:()=>Ki,strict:!0});function ri(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:o=!1}=t,i=eL(t),l=X2(i),u=n?n(l):tL(l);return nL({circular:e,comparator:l,createState:r,equals:u,strict:o})}function zt(t){this.content=t}zt.prototype={constructor:zt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new zt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new zt(n)},addToStart:function(t,e){return new zt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new zt(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new zt(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=zt.from(t),t.size?new zt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=zt.from(t),t.size?new zt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=zt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};zt.from=function(t){if(t instanceof zt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new zt(e)};function NS(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let l=0;o.text[l]==i.text[l];l++)n++;return n}if(o.content.size||i.content.size){let l=NS(o.content,i.content,n+1);if(l!=null)return l}n+=o.nodeSize}}function DS(t,e,n,r){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let l=t.child(--o),u=e.child(--i),c=l.nodeSize;if(l==u){n-=c,r-=c;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let f=0,h=Math.min(l.text.length,u.text.length);for(;f<h&&l.text[l.text.length-f-1]==u.text[u.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let f=DS(l.content,u.content,n-1,r-1);if(f)return f}n-=c,r-=c}}class q{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,i){for(let l=0,u=0;u<n;l++){let c=this.content[l],f=u+c.nodeSize;if(f>e&&r(c,o+u,i||null,l)!==!1&&c.content.size){let h=u+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,n-h),r,o+h)}u=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let i="",l=!0;return this.nodesBetween(e,n,(u,c)=>{let f=u.isText?u.text.slice(Math.max(e,c)-c,n-c):u.isLeaf?o?typeof o=="function"?o(u):o:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&r&&(l?l=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new q(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let i=0,l=0;l<n;i++){let u=this.content[i],c=l+u.nodeSize;c>e&&((l<e||c>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),o+=u.nodeSize),l=c}return new q(r,o)}cutByIndex(e,n){return e==n?q.empty:e==0&&n==this.content.length?this:new q(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new q(o,i)}addToStart(e){return new q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return NS(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return DS(this,e,n,r)}findIndex(e){if(e==0)return wc(0,e);if(e==this.size)return wc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),i=r+o.nodeSize;if(i>=e)return i==e?wc(n+1,i):wc(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return q.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new q(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return q.empty;let n,r=0;for(let o=0;o<e.length;o++){let i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new q(n||e,r)}static from(e){if(!e)return q.empty;if(e instanceof q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}q.empty=new q([],0);const wp={index:0,offset:0};function wc(t,e){return wp.index=t,wp.offset=e,wp}function td(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!td(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!td(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ue=class pm{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&td(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pm.none;if(e instanceof pm)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Ue.none=[];class nd extends Error{}class X{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=IS(this.content,e+this.openStart,n);return r&&new X(r,this.openStart,this.openEnd)}removeBetween(e,n){return new X(AS(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return X.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new X(q.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new X(e,r,o)}}X.empty=new X(q.empty,0,0);function AS(t,e,n){let{index:r,offset:o}=t.findIndex(e),i=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(o==e||i.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(AS(i.content,e-o-1,n-o-1)))}function IS(t,e,n,r){let{index:o,offset:i}=t.findIndex(e),l=t.maybeChild(o);if(i==e||l.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=IS(l.content,e-i-1,n,l);return u&&t.replaceChild(o,l.copy(u))}function oL(t,e,n){if(n.openStart>t.depth)throw new nd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new nd("Inconsistent open depths");return PS(t,e,n,0)}function PS(t,e,n,r){let o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let l=PS(t,e,n,r+1);return i.copy(i.content.replaceChild(o,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,u=l.content;return zi(l,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=iL(n,t);return zi(i,_S(t,l,u,e,r))}else return zi(i,rd(t,e,r))}function RS(t,e){if(!e.type.compatibleContent(t.type))throw new nd("Cannot join "+e.type.name+" onto "+t.type.name)}function mm(t,e,n){let r=t.node(n);return RS(r,e.node(n)),r}function _i(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function fa(t,e,n,r){let o=(e||t).node(n),i=0,l=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(_i(t.nodeAfter,r),i++));for(let u=i;u<l;u++)_i(o.child(u),r);e&&e.depth==n&&e.textOffset&&_i(e.nodeBefore,r)}function zi(t,e){return t.type.checkContent(e),t.copy(e)}function _S(t,e,n,r,o){let i=t.depth>o&&mm(t,e,o+1),l=r.depth>o&&mm(n,r,o+1),u=[];return fa(null,t,o,u),i&&l&&e.index(o)==n.index(o)?(RS(i,l),_i(zi(i,_S(t,e,n,r,o+1)),u)):(i&&_i(zi(i,rd(t,e,o+1)),u),fa(e,n,o,u),l&&_i(zi(l,rd(n,r,o+1)),u)),fa(r,null,o,u),new q(u)}function rd(t,e,n){let r=[];if(fa(null,t,n,r),t.depth>n){let o=mm(t,e,n+1);_i(zi(o,rd(t,e,n+1)),r)}return fa(e,null,n,r),new q(r)}function iL(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)o=e.node(i).copy(q.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class Na{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)o+=r.child(i).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ue.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let u=r;r=o,o=u}let i=r.marks;for(var l=0;l<i.length;l++)i[l].type.spec.inclusive===!1&&(!o||!i[l].isInSet(o.marks))&&(i=i[l--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new od(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let l=e;;){let{index:u,offset:c}=l.content.findIndex(i),f=i-c;if(r.push(l,u,o+c),!f||(l=l.child(u),l.isText))break;i=f-1,o+=c+1}return new Na(n,r,i)}static resolveCached(e,n){let r=uk.get(e);if(r)for(let i=0;i<r.elts.length;i++){let l=r.elts[i];if(l.pos==n)return l}else uk.set(e,r=new sL);let o=r.elts[r.i]=Na.resolve(e,n);return r.i=(r.i+1)%lL,o}}class sL{constructor(){this.elts=[],this.i=0}}const lL=12,uk=new WeakMap;class od{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const aL=Object.create(null);class fr{constructor(e,n,r,o=Ue.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||q.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&td(this.attrs,n||e.defaultAttrs||aL)&&Ue.sameSet(this.marks,r||Ue.none)}copy(e=null){return e==this.content?this:new fr(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new fr(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return X.empty;let o=this.resolve(e),i=this.resolve(n),l=r?0:o.sharedDepth(n),u=o.start(l),f=o.node(l).content.cut(o.pos-u,i.pos-u);return new X(f,o.depth-l,i.depth-l)}replace(e,n,r){return oL(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return Na.resolveCached(this,e)}resolveNoCache(e){return Na.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),zS(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=q.empty,o=0,i=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,o,i),u=l&&l.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let c=o;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(r),l=i&&i.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ue.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ue.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=q.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}}fr.prototype.text=void 0;class id extends fr{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):zS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new id(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new id(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function zS(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Bi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new uL(e,n);if(r.next==null)return Bi.empty;let o=LS(r);r.next&&r.err("Unexpected trailing text");let i=gL(mL(o));return yL(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function i(l,u){let c=l.matchFragment(e,r);if(c&&(!n||c.validEnd))return q.from(u.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:h,next:m}=l.next[f];if(!(h.isText||h.hasRequiredAttrs())&&o.indexOf(m)==-1){o.push(m);let y=i(m,u.concat(h));if(y)return y}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(e)){let l=[];for(let u=o;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<i.next.length;l++){let{type:u,next:c}=i.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!o.type||c.validEnd)&&(r.push({match:u.contentMatch,type:u,via:o}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)i+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return i}).join(`
`)}}Bi.empty=new Bi(!0);class uL{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function LS(t){let e=[];do e.push(cL(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function cL(t){let e=[];do e.push(dL(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dL(t){let e=pL(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=fL(t,e);else break;return e}function ck(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function fL(t,e){let n=ck(t),r=n;return t.eat(",")&&(t.next!="}"?r=ck(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function hL(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let i in n){let l=n[i];l.isInGroup(e)&&o.push(l)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function pL(t){if(t.eat("(")){let e=LS(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=hL(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mL(t){let e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(l,u,c){let f={term:c,to:u};return e[l].push(f),f}function o(l,u){l.forEach(c=>c.to=u)}function i(l,u){if(l.type=="choice")return l.exprs.reduce((c,f)=>c.concat(i(f,u)),[]);if(l.type=="seq")for(let c=0;;c++){let f=i(l.exprs[c],u);if(c==l.exprs.length-1)return f;o(f,u=n())}else if(l.type=="star"){let c=n();return r(u,c),o(i(l.expr,c),c),[r(c)]}else if(l.type=="plus"){let c=n();return o(i(l.expr,u),c),o(i(l.expr,c),c),[r(c)]}else{if(l.type=="opt")return[r(u)].concat(i(l.expr,u));if(l.type=="range"){let c=u;for(let f=0;f<l.min;f++){let h=n();o(i(l.expr,c),h),c=h}if(l.max==-1)o(i(l.expr,c),c);else for(let f=l.min;f<l.max;f++){let h=n();r(c,h),o(i(l.expr,c),h),c=h}return[r(c)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function $S(t,e){return e-t}function dk(t,e){let n=[];return r(e),n.sort($S);function r(o){let i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let l=0;l<i.length;l++){let{term:u,to:c}=i[l];!u&&n.indexOf(c)==-1&&r(c)}}}function gL(t){let e=Object.create(null);return n(dk(t,0));function n(r){let o=[];r.forEach(l=>{t[l].forEach(({term:u,to:c})=>{if(!u)return;let f;for(let h=0;h<o.length;h++)o[h][0]==u&&(f=o[h][1]);dk(t,c).forEach(h=>{f||o.push([u,f=[]]),f.indexOf(h)==-1&&f.push(h)})})});let i=e[r.join(",")]=new Bi(r.indexOf(t.length-1)>-1);for(let l=0;l<o.length;l++){let u=o[l][1].sort($S);i.next.push({type:o[l][0],next:e[u.join(",")]||n(u)})}return i}}function yL(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],i=!o.validEnd,l=[];for(let u=0;u<o.next.length;u++){let{type:c,next:f}=o.next[u];l.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function FS(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function jS(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function BS(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let i=t[o];i.validate&&i.validate(e[o])}}function VS(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new wL(t,r,e[r]);return n}let fk=class US{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=VS(e,r.attrs),this.defaultAttrs=FS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Bi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:jS(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new fr(this,this.computeAttrs(e),q.from(n),Ue.setFrom(r))}createChecked(e=null,n,r){return n=q.from(n),this.checkContent(n),new fr(this,this.computeAttrs(e),n,Ue.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=q.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(q.empty,!0);return i?new fr(this,e,n.append(i),Ue.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){BS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ue.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,l)=>r[i]=new US(i,n,l));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function vL(t,e,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class wL{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?vL(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class nf{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=VS(e,o.attrs),this.excluded=null;let i=FS(this.attrs);this.instance=i?new Ue(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ue(this,jS(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((i,l)=>r[i]=new nf(i,o++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){BS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class WS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=zt.from(e.nodes),n.marks=zt.from(e.marks||{}),this.nodes=fk.compile(this.spec.nodes,this),this.marks=nf.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],l=i.spec.content||"",u=i.spec.marks;if(i.contentMatch=r[l]||(r[l]=Bi.parse(l,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=u=="_"?null:u?hk(this,u.split(" ")):u==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],l=i.spec.excludes;i.excluded=l==null?[i]:l==""?[]:hk(this,l.split(" "))}this.nodeFromJSON=o=>fr.fromJSON(this,o),this.markFromJSON=o=>Ue.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof fk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new id(r,r.defaultAttrs,e,Ue.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function hk(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],i=t.marks[o],l=i;if(i)n.push(i);else for(let u in t.marks){let c=t.marks[u];(o=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(l=c)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function kL(t){return t.tag!=null}function bL(t){return t.style!=null}class Yo{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(kL(o))this.tags.push(o);else if(bL(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new mk(this,n,!1);return r.addAll(e,Ue.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new mk(this,n,!0);return r.addAll(e,Ue.none,n.from,n.to),X.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(CL(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let l=this.styles[i],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let c=l.getAttrs(n);if(c===!1)continue;l.attrs=c||void 0}return l}}}static schemaRules(e){let n=[];function r(o){let i=o.priority==null?50:o.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<i)break}n.splice(l,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(l=>{r(l=gk(l)),l.mark||l.ignore||l.clearMark||(l.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(l=>{r(l=gk(l)),l.node||l.ignore||l.mark||(l.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Yo(e,Yo.schemaRules(e)))}}const HS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},SL={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qS={ol:!0,ul:!0},Da=1,gm=2,ha=4;function pk(t,e,n){return e!=null?(e?Da:0)|(e==="full"?gm:0):t&&t.whitespace=="pre"?Da|gm:n&~ha}class kc{constructor(e,n,r,o,i,l){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=l,this.content=[],this.activeMarks=Ue.none,this.match=i||(l&ha?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(q.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Da)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=q.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(q.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!HS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class mk{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,l=pk(null,n.preserveWhitespace,0)|(r?ha:0);o?i=new kc(o.type,o.attrs,Ue.none,!0,n.topMatch||o.type.contentMatch,l):r?i=new kc(null,null,Ue.none,!0,null,l):i=new kc(e.schema.topNodeType,null,Ue.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,i=o.options&gm?"full":this.localPreserveWS||(o.options&Da)>0,{schema:l}=this.parser;if(i==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let c=0;c<u.length;c++)c&&this.insertNode(l.linebreakReplacement.create(),n,!0),u[c]&&this.insertNode(l.text(u[c]),n,!/\S/.test(u[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=o.content[o.content.length-1],c=e.previousSibling;(!u||c&&c.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),u;qS.hasOwnProperty(l)&&this.parser.normalizeLists&&xL(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(c?c.ignore:SL.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let f,h=this.needsBlock;if(HS.hasOwnProperty(l))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=c&&c.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(i),this.needsBlock=h}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,c,f,c.consuming===!1?u:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],l=r.getPropertyValue(i);if(l)for(let u=void 0;;){let c=this.parser.matchStyle(i,l,this,u);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(f=>!c.clearMark(f)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)u=c;else break}}return n}addElementByRule(e,n,r,o){let i,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(l,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let u=this.top;if(l&&l.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}i&&this.sync(u)&&this.open--}addAll(e,n,r,o){let i=r||0;for(let l=r?e.childNodes[r]:e.firstChild,u=o==null?null:e.childNodes[o];l!=u;l=l.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(l,n);this.findAtPoint(e,i)}findPlace(e,n,r){let o,i;for(let l=this.open,u=0;l>=0;l--){let c=this.nodes[l],f=c.findWrapping(e);if(f&&(!o||o.length>f.length+u)&&(o=f,i=c,!f.length))break;if(c.solid){if(r)break;u+=2}}if(!o)return null;this.sync(i);for(let l=0;l<o.length;l++)n=this.enterInner(o[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(e,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let l=Ue.none;for(let u of o.concat(e.marks))(i.type?i.type.allowsMarkType(u.type):yk(u.type,e.type))&&(l=u.addToSet(l));return i.content.push(e.mark(l)),!0}return!1}enter(e,n,r,o){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,o)),i}enterInner(e,n,r,o=!1,i){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let u=pk(e,i,l.options);l.options&ha&&l.content.length==0&&(u|=ha);let c=Ue.none;return r=r.filter(f=>(l.type?l.type.allowsMarkType(f.type):yk(f.type,e))?(c=f.addToSet(c),!1):!0),this.nodes.push(new kc(e,n,c,o,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Da)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),l=(u,c)=>{for(;u>=0;u--){let f=n[u];if(f==""){if(u==n.length-1||u==0)continue;for(;c>=i;c--)if(l(u-1,c))return!0;return!1}else{let h=c>0||c==0&&o?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!h||h.name!=f&&!h.isInGroup(f))return!1;c--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function xL(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&qS.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function CL(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gk(t){let e={};for(let n in t)e[n]=t[n];return e}function yk(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let i=[],l=u=>{i.push(u);for(let c=0;c<u.edgeCount;c++){let{type:f,next:h}=u.edge(c);if(f==e||i.indexOf(h)<0&&l(h))return!0}};if(l(o.contentMatch))return!0}}class Yi{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=kp(n).createDocumentFragment());let o=r,i=[];return e.forEach(l=>{if(i.length||l.marks.length){let u=0,c=0;for(;u<i.length&&c<l.marks.length;){let f=l.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(i[u][0])||f.type.spec.spanning===!1)break;u++,c++}for(;u<i.length;)o=i.pop()[1];for(;c<l.marks.length;){let f=l.marks[c++],h=this.serializeMark(f,l.isInline,n);h&&(i.push([f,o]),o.appendChild(h.dom),o=h.contentDOM||h.dom)}}o.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=Rc(kp(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&Rc(kp(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return Rc(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Yi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=vk(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return vk(e.marks)}}function vk(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function kp(t){return t.document||window.document}const wk=new WeakMap;function EL(t){let e=wk.get(t);return e===void 0&&wk.set(t,e=TL(t)),e}function TL(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function Rc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=EL(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=o.indexOf(" ");l>0&&(n=o.slice(0,l),o=o.slice(l+1));let u,c=n?t.createElementNS(n,o):t.createElement(o),f=e[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let m in f)if(f[m]!=null){let y=m.indexOf(" ");y>0?c.setAttributeNS(m.slice(0,y),m.slice(y+1),f[m]):m=="style"&&c.style?c.style.cssText=f[m]:c.setAttribute(m,f[m])}}for(let m=h;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:v,contentDOM:k}=Rc(t,y,n,r);if(c.appendChild(v),k){if(u)throw new RangeError("Multiple content holes");u=k}}}return{dom:c,contentDOM:u}}const ZS=65535,KS=Math.pow(2,16);function ML(t,e){return t+e*KS}function kk(t){return t&ZS}function OL(t){return(t-(t&ZS))/KS}const YS=1,JS=2,_c=4,GS=8;class ym{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&GS)>0}get deletedBefore(){return(this.delInfo&(YS|_c))>0}get deletedAfter(){return(this.delInfo&(JS|_c))>0}get deletedAcross(){return(this.delInfo&_c)>0}}class Nn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Nn.empty)return Nn.empty}recover(e){let n=0,r=kk(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+OL(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?o:0);if(c>e)break;let f=this.ranges[u+i],h=this.ranges[u+l],m=c+f;if(e<=m){let y=f?e==c?-1:e==m?1:n:n,v=c+o+(y<0?0:h);if(r)return v;let k=e==(n<0?c:m)?null:ML(u/3,e-c),b=e==c?JS:e==m?YS:_c;return(n<0?e!=c:e!=m)&&(b|=GS),new ym(v,b,k)}o+=h-f}return r?e+o:new ym(e+o,0,null)}touches(e,n){let r=0,o=kk(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?r:0);if(c>e)break;let f=this.ranges[u+i],h=c+f;if(e<=h&&u==o*3)return!0;r+=this.ranges[u+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let l=this.ranges[o],u=l-(this.inverted?i:0),c=l+(this.inverted?0:i),f=this.ranges[o+n],h=this.ranges[o+r];e(u,u+f,c,c+h),i+=h-f}}invert(){return new Nn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Nn.empty:new Nn(e<0?[0,-e,0]:[0,0,e])}}Nn.empty=new Nn([]);class Aa{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Aa(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new Aa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let i=this.from;i<this.to;i++){let l=this._maps[i],u=l.mapResult(e,n);if(u.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(u.recover);continue}}o|=u.delInfo,e=u.pos}return r?e:new ym(e,o,null)}}const bp=Object.create(null);class Jt{getMap(){return Nn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=bp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in bp)throw new RangeError("Duplicate use of step JSON ID "+e);return bp[e]=n,n.prototype.jsonID=e,n}}class pt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new pt(e,null)}static fail(e){return new pt(null,e)}static fromReplace(e,n,r,o){try{return pt.ok(e.replace(n,r,o))}catch(i){if(i instanceof nd)return pt.fail(i.message);throw i}}}function pg(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(pg(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return q.fromArray(r)}class Ho extends Jt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new X(pg(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),o),n.openStart,n.openEnd);return pt.fromReplace(e,this.from,this.to,i)}invert(){return new dr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ho(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ho&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ho(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ho(n.from,n.to,e.markFromJSON(n.mark))}}Jt.jsonID("addMark",Ho);class dr extends Jt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new X(pg(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return pt.fromReplace(e,this.from,this.to,r)}invert(){return new Ho(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new dr(n.pos,r.pos,this.mark)}merge(e){return e instanceof dr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new dr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new dr(n.from,n.to,e.markFromJSON(n.mark))}}Jt.jsonID("removeMark",dr);class qo extends Jt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return pt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return pt.fromReplace(e,this.pos,this.pos+1,new X(q.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new qo(this.pos,n.marks[o]);return new qo(this.pos,this.mark)}}return new Vi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qo(n.pos,e.markFromJSON(n.mark))}}Jt.jsonID("addNodeMark",qo);class Vi extends Jt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return pt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return pt.fromReplace(e,this.pos,this.pos+1,new X(q.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Vi(n.pos,e.markFromJSON(n.mark))}}Jt.jsonID("removeNodeMark",Vi);class Dt extends Jt{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&vm(e,this.from,this.to)?pt.fail("Structure replace would overwrite content"):pt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Nn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Dt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Dt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Dt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?X.empty:new X(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Dt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?X.empty:new X(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Dt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Dt(n.from,n.to,X.fromJSON(e,n.slice),!!n.structure)}}Jt.jsonID("replace",Dt);class It extends Jt{constructor(e,n,r,o,i,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=l,this.structure=u}apply(e){if(this.structure&&(vm(e,this.from,this.gapFrom)||vm(e,this.gapTo,this.to)))return pt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return pt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?pt.fromReplace(e,this.from,this.to,r):pt.fail("Content does not fit in gap")}getMap(){return new Nn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new It(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new It(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new It(n.from,n.to,n.gapFrom,n.gapTo,X.fromJSON(e,n.slice),n.insert,!!n.structure)}}Jt.jsonID("replaceAround",It);function vm(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let l=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,o--}}return!1}function NL(t,e,n,r){let o=[],i=[],l,u;t.doc.nodesBetween(e,n,(c,f,h)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&h.type.allowsMarkType(r.type)){let y=Math.max(f,e),v=Math.min(f+c.nodeSize,n),k=r.addToSet(m);for(let b=0;b<m.length;b++)m[b].isInSet(k)||(l&&l.to==y&&l.mark.eq(m[b])?l.to=v:o.push(l=new dr(y,v,m[b])));u&&u.to==y?u.to=v:i.push(u=new Ho(y,v,r))}}),o.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function DL(t,e,n,r){let o=[],i=0;t.doc.nodesBetween(e,n,(l,u)=>{if(!l.isInline)return;i++;let c=null;if(r instanceof nf){let f=l.marks,h;for(;h=r.isInSet(f);)(c||(c=[])).push(h),f=h.removeFromSet(f)}else r?r.isInSet(l.marks)&&(c=[r]):c=l.marks;if(c&&c.length){let f=Math.min(u+l.nodeSize,n);for(let h=0;h<c.length;h++){let m=c[h],y;for(let v=0;v<o.length;v++){let k=o[v];k.step==i-1&&m.eq(o[v].style)&&(y=k)}y?(y.to=f,y.step=i):o.push({style:m,from:Math.max(u,e),to:f,step:i})}}}),o.forEach(l=>t.step(new dr(l.from,l.to,l.style)))}function mg(t,e,n,r=n.contentMatch,o=!0){let i=t.doc.nodeAt(e),l=[],u=e+1;for(let c=0;c<i.childCount;c++){let f=i.child(c),h=u+f.nodeSize,m=r.matchType(f.type);if(!m)l.push(new Dt(u,h,X.empty));else{r=m;for(let y=0;y<f.marks.length;y++)n.allowsMarkType(f.marks[y].type)||t.step(new dr(u,h,f.marks[y]));if(o&&f.isText&&n.whitespace!="pre"){let y,v=/\r?\n|\r/g,k;for(;y=v.exec(f.text);)k||(k=new X(q.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),l.push(new Dt(u+y.index,u+y.index+y[0].length,k))}}u=h}if(!r.validEnd){let c=r.fillBefore(q.empty,!0);t.replace(u,u,new X(c,0,0))}for(let c=l.length-1;c>=0;c--)t.step(l[c])}function AL(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function cl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,o=0,i=0;;--r){let l=t.$from.node(r),u=t.$from.index(r)+o,c=t.$to.indexAfter(r)-i;if(r<t.depth&&l.canReplace(u,c,n))return r;if(r==0||l.type.spec.isolating||!AL(l,u,c))break;u&&(o=1),c<l.childCount&&(i=1)}return null}function IL(t,e,n){let{$from:r,$to:o,depth:i}=e,l=r.before(i+1),u=o.after(i+1),c=l,f=u,h=q.empty,m=0;for(let k=i,b=!1;k>n;k--)b||r.index(k)>0?(b=!0,h=q.from(r.node(k).copy(h)),m++):c--;let y=q.empty,v=0;for(let k=i,b=!1;k>n;k--)b||o.after(k+1)<o.end(k)?(b=!0,y=q.from(o.node(k).copy(y)),v++):f++;t.step(new It(c,f,l,u,new X(h.append(y),m,v),h.size-m,!0))}function gg(t,e,n=null,r=t){let o=PL(t,e),i=o&&RL(r,e);return i?o.map(bk).concat({type:e,attrs:n}).concat(i.map(bk)):null}function bk(t){return{type:t,attrs:null}}function PL(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(r,o,l)?i:null}function RL(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let c=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;c&&f<o;f++)c=c.matchType(n.child(f).type);return!c||!c.validEnd?null:l}function _L(t,e,n){let r=q.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let u=n[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=q.from(n[l].type.create(n[l].attrs,r))}let o=e.start,i=e.end;t.step(new It(o,i,o,i,new X(r,0,0),n.length,!0))}function zL(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(l,u)=>{let c=typeof o=="function"?o(l):o;if(l.isTextblock&&!l.hasMarkup(r,c)&&LL(t.doc,t.mapping.slice(i).map(u),r)){let f=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",k=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!k?f=!1:!v&&k&&(f=!0)}f===!1&&XS(t,l,u,i),mg(t,t.mapping.slice(i).map(u,1),r,void 0,f===null);let h=t.mapping.slice(i),m=h.map(u,1),y=h.map(u+l.nodeSize,1);return t.step(new It(m,y,m+1,y-1,new X(q.from(r.create(c,null,l.marks)),0,0),1,!0)),f===!0&&QS(t,l,u,i),!1}})}function QS(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let l,u=/\r?\n|\r/g;for(;l=u.exec(o.text);){let c=t.mapping.slice(r).map(n+1+i+l.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function XS(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+i);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function LL(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function $L(t,e,n,r,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let l=n.create(r,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,l);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new It(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new X(q.from(l),0,0),1,!0))}function Xr(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,l=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!l.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let f=o.depth-1,h=n-2;f>i;f--,h--){let m=o.node(f),y=o.index(f);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(y,m.childCount),k=r&&r[h+1];k&&(v=v.replaceChild(0,k.type.create(k.attrs)));let b=r&&r[h]||m;if(!m.canReplace(y+1,m.childCount)||!b.type.validContent(v))return!1}let u=o.indexAfter(i),c=r&&r[0];return o.node(i).canReplaceWith(u,u,c?c.type:o.node(i+1).type)}function FL(t,e,n=1,r){let o=t.doc.resolve(e),i=q.empty,l=q.empty;for(let u=o.depth,c=o.depth-n,f=n-1;u>c;u--,f--){i=q.from(o.node(u).copy(i));let h=r&&r[f];l=q.from(h?h.type.create(h.attrs,l):o.node(u).copy(l))}t.step(new Dt(e,e,new X(i.append(l),n,n),!0))}function oi(t,e){let n=t.resolve(e),r=n.index();return ex(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function jL(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),l=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function ex(t,e){return!!(t&&e&&!t.isLeaf&&jL(t,e))}function rf(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let i,l,u=r.index(o);if(o==r.depth?(i=r.nodeBefore,l=r.nodeAfter):n>0?(i=r.node(o+1),u++,l=r.node(o).maybeChild(u)):(i=r.node(o).maybeChild(u-1),l=r.node(o+1)),i&&!i.isTextblock&&ex(i,l)&&r.node(o).canReplace(u,u+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function BL(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,i=t.doc.resolve(e-n),l=i.node().type;if(o&&l.inlineContent){let h=l.whitespace=="pre",m=!!l.contentMatch.matchType(o);h&&!m?r=!1:!h&&m&&(r=!0)}let u=t.steps.length;if(r===!1){let h=t.doc.resolve(e+n);XS(t,h.node(),h.before(),u)}l.inlineContent&&mg(t,e+n-1,l,i.node().contentMatchAt(i.index()),r==null);let c=t.mapping.slice(u),f=c.map(e-n);if(t.step(new Dt(f,c.map(e+n,-1),X.empty,!0)),r===!0){let h=t.doc.resolve(f);QS(t,h.node(),h.before(),t.steps.length)}return t}function VL(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function tx(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,c=r.index(l)+(u>0?1:0),f=r.node(l),h=!1;if(i==1)h=f.canReplace(c,c,o);else{let m=f.contentMatchAt(c).findWrapping(o.firstChild.type);h=m&&f.canReplaceWith(c,c,m[0])}if(h)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function of(t,e,n=e,r=X.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return nx(o,i,r)?new Dt(e,n,r):new UL(o,i,r).fit()}function nx(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class UL{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=q.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=q.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,l=r.depth,u=o.depth;for(;l&&u&&i.childCount==1;)i=i.firstChild.content,l--,u--;let c=new X(i,l,u);return e>-1?new It(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Dt(r.pos,o.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=Sp(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let l=o.firstChild;for(let u=this.depth;u>=0;u--){let{type:c,match:f}=this.frontier[u],h,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(q.from(l),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:u,parent:i,inject:m};if(n==2&&l&&(h=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:i,wrap:h};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Sp(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new X(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=Sp(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new X(ia(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new X(ia(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let l=this.unplaced,u=r?r.content:l.content,c=l.openStart-e,f=0,h=[],{match:m,type:y}=this.frontier[n];if(o){for(let b=0;b<o.childCount;b++)h.push(o.child(b));m=m.matchFragment(o)}let v=u.size+e-(l.content.size-l.openEnd);for(;f<u.childCount;){let b=u.child(f),S=m.matchType(b.type);if(!S)break;f++,(f>1||c==0||b.content.size)&&(m=S,h.push(rx(b.mark(y.allowedMarks(b.marks)),f==1?c:0,f==u.childCount?v:-1)))}let k=f==u.childCount;k||(v=-1),this.placed=sa(this.placed,n,q.from(h)),this.frontier[n].match=m,k&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,S=u;b<v;b++){let C=S.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),S=C.content}this.unplaced=k?e==0?X.empty:new X(ia(l.content,e-1,1),e-1,v<0?l.openEnd:e-1):new X(ia(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!xp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=xp(e,n,o,r,i);if(l){for(let u=n-1;u>=0;u--){let{match:c,type:f}=this.frontier[u],h=xp(e,u,f,c,!0);if(!h||h.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sa(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=sa(this.placed,this.depth,q.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(q.empty,!0);n.childCount&&(this.placed=sa(this.placed,this.frontier.length,n))}}function ia(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ia(t.firstChild.content,e-1,n)))}function sa(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(sa(t.lastChild.content,e-1,n)))}function Sp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function rx(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,rx(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(q.empty,!0)))),t.copy(r)}function xp(t,e,n,r,o){let i=t.node(e),l=o?t.indexAfter(e):t.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let u=r.fillBefore(i.content,!0,l);return u&&!WL(n,i.content,l)?u:null}function WL(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function HL(t){return t.spec.defining||t.spec.definingForContent}function qL(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),i=t.doc.resolve(n);if(nx(o,i,r))return t.step(new Dt(e,n,r));let l=ix(o,i);l[l.length-1]==0&&l.pop();let u=-(o.depth+1);l.unshift(u);for(let y=o.depth,v=o.pos-1;y>0;y--,v--){let k=o.node(y).type.spec;if(k.defining||k.definingAsContext||k.isolating)break;l.indexOf(y)>-1?u=y:o.before(y)==v&&l.splice(1,0,-y)}let c=l.indexOf(u),f=[],h=r.openStart;for(let y=r.content,v=0;;v++){let k=y.firstChild;if(f.push(k),v==r.openStart)break;y=k.content}for(let y=h-1;y>=0;y--){let v=f[y],k=HL(v.type);if(k&&!v.sameMarkup(o.node(Math.abs(u)-1)))h=y;else if(k||!v.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let v=(y+h+1)%(r.openStart+1),k=f[v];if(k)for(let b=0;b<l.length;b++){let S=l[(b+c)%l.length],C=!0;S<0&&(C=!1,S=-S);let T=o.node(S-1),N=o.index(S-1);if(T.canReplaceWith(N,N,k.type,k.marks))return t.replace(o.before(S),C?i.after(S):n,new X(ox(r.content,0,r.openStart,v),v,r.openEnd))}}let m=t.steps.length;for(let y=l.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let v=l[y];v<0||(e=o.before(v),n=i.after(v))}}function ox(t,e,n,r,o){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(ox(i.content,e+1,n,r,i)))}if(e>r){let i=o.contentMatchAt(0),l=i.fillBefore(t).append(t);t=l.append(i.matchFragment(l).fillBefore(q.empty,!0))}return t}function ZL(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=VL(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new X(q.from(r),0,0))}function KL(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=ix(r,o);for(let l=0;l<i.length;l++){let u=i[l],c=l==i.length-1;if(c&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),o.end(u));if(u>0&&(c||r.node(u-1).canReplace(r.index(u-1),o.indexAfter(u-1))))return t.delete(r.before(u),o.after(u))}for(let l=1;l<=r.depth&&l<=o.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&o.end(l)-n!=o.depth-l&&r.start(l-1)==o.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),o.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function ix(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}class js extends Jt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return pt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return pt.fromReplace(e,this.pos,this.pos+1,new X(q.from(o),0,n.isLeaf?0:1))}getMap(){return Nn.empty}invert(e){return new js(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new js(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new js(n.pos,n.attr,n.value)}}Jt.jsonID("attr",js);class Ia extends Jt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return pt.ok(r)}getMap(){return Nn.empty}invert(e){return new Ia(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ia(n.attr,n.value)}}Jt.jsonID("docAttr",Ia);let Gs=class extends Error{};Gs=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Gs.prototype=Object.create(Error.prototype);Gs.prototype.constructor=Gs;Gs.prototype.name="TransformError";class sx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Aa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Gs(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=X.empty){let o=of(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new X(q.from(r),0,0))}delete(e,n){return this.replace(e,n,X.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return qL(this,e,n,r),this}replaceRangeWith(e,n,r){return ZL(this,e,n,r),this}deleteRange(e,n){return KL(this,e,n),this}lift(e,n){return IL(this,e,n),this}join(e,n=1){return BL(this,e,n),this}wrap(e,n){return _L(this,e,n),this}setBlockType(e,n=e,r,o=null){return zL(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return $L(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new js(e,n,r)),this}setDocAttribute(e,n){return this.step(new Ia(e,n)),this}addNodeMark(e,n){return this.step(new qo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Ue)n.isInSet(r.marks)&&this.step(new Vi(e,n));else{let o=r.marks,i,l=[];for(;i=n.isInSet(o);)l.push(new Vi(e,i)),o=i.removeFromSet(o);for(let u=l.length-1;u>=0;u--)this.step(l[u])}return this}split(e,n=1,r){return FL(this,e,n,r),this}addMark(e,n,r){return NL(this,e,n,r),this}removeMark(e,n,r){return DL(this,e,n,r),this}clearIncompatible(e,n,r){return mg(this,e,n,r),this}}const Cp=Object.create(null);class Te{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new YL(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=X.empty){let r=n.content.lastChild,o=null;for(let u=0;u<n.openEnd;u++)o=r,r=r.lastChild;let i=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:c,$to:f}=l[u],h=e.mapping.slice(i);e.replaceRange(h.map(c.pos),h.map(f.pos),u?X.empty:n),u==0&&Ck(e,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:l,$to:u}=o[i],c=e.mapping.slice(r),f=c.map(l.pos),h=c.map(u.pos);i?e.deleteRange(f,h):(e.replaceRangeWith(f,h,n),Ck(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new Se(e):Ns(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let i=e.depth-1;i>=0;i--){let l=n<0?Ns(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Ns(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Dn(e.node(0))}static atStart(e){return Ns(e,e,0,0,1)||new Dn(e)}static atEnd(e){return Ns(e,e,e.content.size,e.childCount,-1)||new Dn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Cp[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Cp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Cp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Se.between(this.$anchor,this.$head).getBookmark()}}Te.prototype.visible=!0;class YL{constructor(e,n){this.$from=e,this.$to=n}}let Sk=!1;function xk(t){!Sk&&!t.parent.inlineContent&&(Sk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Se extends Te{constructor(e,n=e){xk(e),xk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Te.near(r);let o=e.resolve(n.map(this.anchor));return new Se(o.parent.inlineContent?o:r,r)}replace(e,n=X.empty){if(super.replace(e,n),n==X.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Se&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new sf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Se(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=Te.findFrom(n,r,!0)||Te.findFrom(n,-r,!0);if(i)n=i.$head;else return Te.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(Te.findFrom(e,-r,!0)||Te.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new Se(e,n)}}Te.jsonID("text",Se);class sf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new sf(e.map(this.anchor),e.map(this.head))}resolve(e){return Se.between(e.resolve(this.anchor),e.resolve(this.head))}}class he extends Te{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=e.resolve(o);return r?Te.near(i):new he(i)}content(){return new X(q.from(this.node),0,0)}eq(e){return e instanceof he&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new yg(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new he(e.resolve(n.anchor))}static create(e,n){return new he(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}he.prototype.visible=!1;Te.jsonID("node",he);class yg{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new sf(r,r):new yg(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&he.isSelectable(r)?new he(n):Te.near(n)}}class Dn extends Te{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=X.empty){if(n==X.empty){e.delete(0,e.doc.content.size);let r=Te.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Dn(e)}map(e){return new Dn(e)}eq(e){return e instanceof Dn}getBookmark(){return JL}}Te.jsonID("all",Dn);const JL={map(){return this},resolve(t){return new Dn(t)}};function Ns(t,e,n,r,o,i=!1){if(e.inlineContent)return Se.create(t,n);for(let l=r-(o>0?0:1);o>0?l<e.childCount:l>=0;l+=o){let u=e.child(l);if(u.isAtom){if(!i&&he.isSelectable(u))return he.create(t,n-(o<0?u.nodeSize:0))}else{let c=Ns(t,u,n+o,o<0?u.childCount:0,o,i);if(c)return c}n+=u.nodeSize*o}return null}function Ck(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof Dt||o instanceof It))return;let i=t.mapping.maps[r],l;i.forEach((u,c,f,h)=>{l==null&&(l=h)}),t.setSelection(Te.near(t.doc.resolve(l),n))}const Ek=1,bc=2,Tk=4;class GL extends sx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ek)&~bc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ek)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bc,this}ensureMarks(e){return Ue.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~bc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ue.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let l=this.doc.resolve(n);i=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Te.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Tk,this}get scrolledIntoView(){return(this.updated&Tk)>0}}function Mk(t,e){return!e||!t?t:t.bind(e)}class la{constructor(e,n,r){this.name=e,this.init=Mk(n.init,r),this.apply=Mk(n.apply,r)}}const QL=[new la("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new la("selection",{init(t,e){return t.selection||Te.atStart(e.doc)},apply(t){return t.selection}}),new la("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new la("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ep{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=QL.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new la(r.key,r.spec.state,r))})}}class zs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let i=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let c=o?o[l].n:0,f=o?o[l].state:this,h=c<n.length&&u.spec.appendTransaction.call(u,c?n.slice(c):n,f,r);if(h&&r.filterTransaction(h,l)){if(h.setMeta("appendedTransaction",e),!o){o=[];for(let m=0;m<this.config.plugins.length;m++)o.push(m<l?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),i=!0}o&&(o[l]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new zs(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new GL(this)}static create(e){let n=new Ep(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zs(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new Ep(this.schema,e.plugins),r=n.fields,o=new zs(n);for(let i=0;i<r.length;i++){let l=r[i].name;o[l]=this.hasOwnProperty(l)?this[l]:r[i].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new Ep(e.schema,e.plugins),i=new zs(o);return o.fields.forEach(l=>{if(l.name=="doc")i.doc=fr.fromJSON(e.schema,n.doc);else if(l.name=="selection")i.selection=Te.fromJSON(i.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let c=r[u],f=c.spec.state;if(c.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){i[l.name]=f.fromJSON.call(c,e,n[u],i);return}}i[l.name]=l.init(e,i)}}),i}}function lx(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=lx(o,e,{})),n[r]=o}return n}class it{constructor(e){this.spec=e,this.props={},e.props&&lx(e.props,this,this.props),this.key=e.key?e.key.key:ax("plugin")}getState(e){return e[this.key]}}const Tp=Object.create(null);function ax(t){return t in Tp?t+"$"+ ++Tp[t]:(Tp[t]=0,t+"$")}class xt{constructor(e="key"){this.key=ax(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const vg=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ux(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const cx=(t,e,n)=>{let r=ux(t,n);if(!r)return!1;let o=wg(r);if(!o){let l=r.blockRange(),u=l&&cl(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let i=o.nodeBefore;if(wx(t,o,e,-1))return!0;if(r.parent.content.size==0&&(Qs(i,"end")||he.isSelectable(i)))for(let l=r.depth;;l--){let u=of(t.doc,r.before(l),r.after(l),X.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=t.tr.step(u);c.setSelection(Qs(i,"end")?Te.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):he.create(c.doc,o.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},XL=(t,e,n)=>{let r=ux(t,n);if(!r)return!1;let o=wg(r);return o?dx(t,o,e):!1},e$=(t,e,n)=>{let r=hx(t,n);if(!r)return!1;let o=kg(r);return o?dx(t,o,e):!1};function dx(t,e,n){let r=e.nodeBefore,o=r,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let h=o.lastChild;if(!h)return!1;o=h}let l=e.nodeAfter,u=l,c=e.pos+1;for(;!u.isTextblock;c++){if(u.type.spec.isolating)return!1;let h=u.firstChild;if(!h)return!1;u=h}let f=of(t.doc,i,c,X.empty);if(!f||f.from!=i||f instanceof Dt&&f.slice.size>=c-i)return!1;if(n){let h=t.tr.step(f);h.setSelection(Se.create(h.doc,i)),n(h.scrollIntoView())}return!0}function Qs(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const fx=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=wg(r)}let l=i&&i.nodeBefore;return!l||!he.isSelectable(l)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function wg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function hx(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const px=(t,e,n)=>{let r=hx(t,n);if(!r)return!1;let o=kg(r);if(!o)return!1;let i=o.nodeAfter;if(wx(t,o,e,1))return!0;if(r.parent.content.size==0&&(Qs(i,"start")||he.isSelectable(i))){let l=of(t.doc,r.before(),r.after(),X.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Qs(i,"start")?Te.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):he.create(u.doc,u.mapping.map(o.pos))),e(u.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},mx=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=kg(r)}let l=i&&i.nodeAfter;return!l||!he.isSelectable(l)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,i.pos)).scrollIntoView()),!0)};function kg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const t$=(t,e)=>{let n=t.selection,r=n instanceof he,o;if(r){if(n.node.isTextblock||!oi(t.doc,n.from))return!1;o=n.from}else if(o=rf(t.doc,n.from,-1),o==null)return!1;if(e){let i=t.tr.join(o);r&&i.setSelection(he.create(i.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},n$=(t,e)=>{let n=t.selection,r;if(n instanceof he){if(n.node.isTextblock||!oi(t.doc,n.to))return!1;r=n.to}else if(r=rf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},r$=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),i=o&&cl(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)},gx=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function bg(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const o$=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),l=bg(o.contentMatchAt(i));if(!l||!o.canReplaceWith(i,i,l))return!1;if(e){let u=n.after(),c=t.tr.replaceWith(u,u,l.createAndFill());c.setSelection(Te.near(c.doc.resolve(u),1)),e(c.scrollIntoView())}return!0},yx=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof Dn||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=bg(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,u=t.tr.insert(l,i.createAndFill());u.setSelection(Se.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},vx=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Xr(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&cl(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function i$(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof he&&e.selection.node.isBlock)return!r.parentOffset||!Xr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],l,u,c=!1,f=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){c=r.end(v)==r.pos+(r.depth-v),f=r.start(v)==r.pos-(r.depth-v),u=bg(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),i.unshift(c&&u?{type:u}:null),l=v;break}else{if(v==1)return!1;i.unshift(null)}let h=e.tr;(e.selection instanceof Se||e.selection instanceof Dn)&&h.deleteSelection();let m=h.mapping.map(r.pos),y=Xr(h.doc,m,i.length,i);if(y||(i[0]=u?{type:u}:null,y=Xr(h.doc,m,i.length,i)),!y)return!1;if(h.split(m,i.length,i),!c&&f&&r.node(l).type!=u){let v=h.mapping.map(r.before(l)),k=h.doc.resolve(v);u&&r.node(l-1).canReplaceWith(k.index(),k.index()+1,u)&&h.setNodeMarkup(h.mapping.map(r.before(l)),u)}return n&&n(h.scrollIntoView()),!0}}const s$=i$(),l$=(t,e)=>{let{$from:n,to:r}=t.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),e&&e(t.tr.setSelection(he.create(t.doc,o))),!0)};function a$(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||oi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function wx(t,e,n,r){let o=e.nodeBefore,i=e.nodeAfter,l,u,c=o.type.spec.isolating||i.type.spec.isolating;if(!c&&a$(t,e,n))return!0;let f=!c&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(l=(u=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&u.matchType(l[0]||i.type).validEnd){if(n){let v=e.pos+i.nodeSize,k=q.empty;for(let C=l.length-1;C>=0;C--)k=q.from(l[C].create(null,k));k=q.from(o.copy(k));let b=t.tr.step(new It(e.pos-1,v,e.pos,v,new X(k,1,0),l.length,!0)),S=b.doc.resolve(v+2*l.length);S.nodeAfter&&S.nodeAfter.type==o.type&&oi(b.doc,S.pos)&&b.join(S.pos),n(b.scrollIntoView())}return!0}let h=i.type.spec.isolating||r>0&&c?null:Te.findFrom(e,1),m=h&&h.$from.blockRange(h.$to),y=m&&cl(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(f&&Qs(i,"start",!0)&&Qs(o,"end")){let v=o,k=[];for(;k.push(v),!v.isTextblock;)v=v.lastChild;let b=i,S=1;for(;!b.isTextblock;b=b.firstChild)S++;if(v.canReplace(v.childCount,v.childCount,b.content)){if(n){let C=q.empty;for(let N=k.length-1;N>=0;N--)C=q.from(k[N].copy(C));let T=t.tr.step(new It(e.pos-k.length,e.pos+i.nodeSize,e.pos+S,e.pos+i.nodeSize-S,new X(C,k.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function kx(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(Se.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const u$=kx(-1),c$=kx(1);function d$(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,l=o.blockRange(i),u=l&&gg(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function Ok(t,e=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[i];n.doc.nodesBetween(l,u,(c,f)=>{if(o)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)o=!0;else{let h=n.doc.resolve(f),m=h.index();o=h.parent.canReplaceWith(m,m+1,t)}})}if(!o)return!1;if(r){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:c}}=n.selection.ranges[l];i.setBlockType(u,c,t,e)}r(i.scrollIntoView())}return!0}}function Sg(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}Sg(vg,cx,fx);Sg(vg,px,mx);Sg(gx,yx,vx,s$);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function f$(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,l=o.blockRange(i);if(!l)return!1;let u=r?n.tr:null;return h$(u,l,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function h$(t,e,n,r=null){let o=!1,i=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=l.resolve(e.start-2);i=new od(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new od(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let u=gg(i,n,r,e);return u?(t&&p$(t,e,u,o,n),!0):!1}function p$(t,e,n,r,o){let i=q.empty;for(let h=n.length-1;h>=0;h--)i=q.from(n[h].type.create(n[h].attrs,i));t.step(new It(e.start-(r?2:0),e.end,e.start,e.end,new X(i,0,0),n.length,!0));let l=0;for(let h=0;h<n.length;h++)n[h].type==o&&(l=h+1);let u=n.length-l,c=e.start+n.length-(r?2:0),f=e.parent;for(let h=e.startIndex,m=e.endIndex,y=!0;h<m;h++,y=!1)!y&&Xr(t.doc,c,u)&&(t.split(c,u),c+=2*u),c+=f.child(h).nodeSize;return t}function m$(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,l=>l.childCount>0&&l.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?g$(e,n,t,i):y$(e,n,i):!0:!1}}function g$(t,e,n,r){let o=t.tr,i=r.end,l=r.$to.end(r.depth);i<l&&(o.step(new It(i-1,l,i,l,new X(q.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new od(o.doc.resolve(r.$from.pos),o.doc.resolve(l),r.depth));const u=cl(r);if(u==null)return!1;o.lift(r,u);let c=o.doc.resolve(o.mapping.map(i,-1)-1);return oi(o.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&o.join(c.pos),e(o.scrollIntoView()),!0}function y$(t,e,n){let r=t.tr,o=n.parent;for(let v=n.end,k=n.endIndex-1,b=n.startIndex;k>b;k--)v-=o.child(k).nodeSize,r.delete(v-1,v+1);let i=r.doc.resolve(n.start),l=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,c=n.endIndex==o.childCount,f=i.node(-1),h=i.index(-1);if(!f.canReplace(h+(u?0:1),h+1,l.content.append(c?q.empty:q.from(o))))return!1;let m=i.pos,y=m+l.nodeSize;return r.step(new It(m-(u?1:0),y+(c?1:0),m+1,y-1,new X((u?q.empty:q.from(o.copy(q.empty))).append(c?q.empty:q.from(o.copy(q.empty))),u?0:1,c?0:1),u?0:1)),e(r.scrollIntoView()),!0}function v$(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let u=i.parent,c=u.child(l-1);if(c.type!=t)return!1;if(n){let f=c.lastChild&&c.lastChild.type==u.type,h=q.from(f?t.create():null),m=new X(q.from(t.create(null,q.from(u.type.create(null,h)))),f?3:1,0),y=i.start,v=i.end;n(e.tr.step(new It(y-(f?3:1),v,y,v,m,1,!0)).scrollIntoView())}return!0}}const Lt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Xs=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let wm=null;const Jr=function(t,e,n){let r=wm||(wm=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},w$=function(){wm=null},Ui=function(t,e,n,r){return n&&(Nk(t,e,n,r,-1)||Nk(t,e,n,r,1))},k$=/^(img|br|input|textarea|hr)$/i;function Nk(t,e,n,r,o){for(var i;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Wn(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Ka(t)||k$.test(t.nodeName)||t.contentEditable=="false")return!1;e=Lt(t)+(o<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(o<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((i=l.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=o;else return!1;else t=l,e=o<0?Wn(t):0}else return!1}}function Wn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function b$(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Wn(t)}else if(t.parentNode&&!Ka(t))e=Lt(t),t=t.parentNode;else return null}}function S$(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ka(t))e=Lt(t)+1,t=t.parentNode;else return null}}function x$(t,e,n){for(let r=e==0,o=e==Wn(t);r||o;){if(t==n)return!0;let i=Lt(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,o=o&&i==Wn(t)}}function Ka(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const lf=function(t){return t.focusNode&&Ui(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ci(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function C$(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function E$(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Wn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Wn(r.startContainer),r.startOffset)}}}const Dr=typeof navigator<"u"?navigator:null,Dk=typeof document<"u"?document:null,ii=Dr&&Dr.userAgent||"",km=/Edge\/(\d+)/.exec(ii),bx=/MSIE \d/.exec(ii),bm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ii),kn=!!(bx||bm||km),Jo=bx?document.documentMode:bm?+bm[1]:km?+km[1]:0,Hn=!kn&&/gecko\/(\d+)/i.test(ii);Hn&&+(/Firefox\/(\d+)/.exec(ii)||[0,0])[1];const Sm=!kn&&/Chrome\/(\d+)/.exec(ii),At=!!Sm,Sx=Sm?+Sm[1]:0,Yt=!kn&&!!Dr&&/Apple Computer/.test(Dr.vendor),el=Yt&&(/Mobile\/\w+/.test(ii)||!!Dr&&Dr.maxTouchPoints>2),Un=el||(Dr?/Mac/.test(Dr.platform):!1),xx=Dr?/Win/.test(Dr.platform):!1,Qr=/Android \d/.test(ii),Ya=!!Dk&&"webkitFontSmoothing"in Dk.documentElement.style,T$=Ya?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function M$(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Hr(t,e){return typeof t=="number"?t:t[e]}function O$(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Ak(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Xs(l);continue}let u=l,c=u==i.body,f=c?M$(i):O$(u),h=0,m=0;if(e.top<f.top+Hr(r,"top")?m=-(f.top-e.top+Hr(o,"top")):e.bottom>f.bottom-Hr(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+Hr(o,"top")-f.top:e.bottom-f.bottom+Hr(o,"bottom")),e.left<f.left+Hr(r,"left")?h=-(f.left-e.left+Hr(o,"left")):e.right>f.right-Hr(r,"right")&&(h=e.right-f.right+Hr(o,"right")),h||m)if(c)i.defaultView.scrollBy(h,m);else{let v=u.scrollLeft,k=u.scrollTop;m&&(u.scrollTop+=m),h&&(u.scrollLeft+=h);let b=u.scrollLeft-v,S=u.scrollTop-k;e={left:e.left-b,top:e.top-S,right:e.right-b,bottom:e.bottom-S}}let y=c?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(y))break;l=y=="absolute"?l.offsetParent:Xs(l)}}function N$(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let i=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=t.root.elementFromPoint(i,l);if(!u||u==t.dom||!t.dom.contains(u))continue;let c=u.getBoundingClientRect();if(c.top>=n-20){r=u,o=c.top;break}}return{refDOM:r,refTop:o,stack:Cx(t.dom)}}function Cx(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Xs(r));return e}function D$({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Ex(n,r==0?0:r-e)}function Ex(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:i}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Ts=null;function A$(t){if(t.setActive)return t.setActive();if(Ts)return t.focus(Ts);let e=Cx(t);t.focus(Ts==null?{get preventScroll(){return Ts={preventScroll:!0},!0}}:void 0),Ts||(Ts=!1,Ex(e,0))}function Tx(t,e){let n,r=2e8,o,i=0,l=e.top,u=e.top,c,f;for(let h=t.firstChild,m=0;h;h=h.nextSibling,m++){let y;if(h.nodeType==1)y=h.getClientRects();else if(h.nodeType==3)y=Jr(h).getClientRects();else continue;for(let v=0;v<y.length;v++){let k=y[v];if(k.top<=l&&k.bottom>=u){l=Math.max(k.bottom,l),u=Math.min(k.top,u);let b=k.left>e.left?k.left-e.left:k.right<e.left?e.left-k.right:0;if(b<r){n=h,r=b,o=b&&n.nodeType==3?{left:k.right<e.left?k.right:k.left,top:e.top}:e,h.nodeType==1&&b&&(i=m+(e.left>=(k.left+k.right)/2?1:0));continue}}else k.top>e.top&&!c&&k.left<=e.left&&k.right>=e.left&&(c=h,f={left:Math.max(k.left,Math.min(k.right,e.left)),top:k.top});!n&&(e.left>=k.right&&e.top>=k.top||e.left>=k.left&&e.top>=k.bottom)&&(i=m+1)}}return!n&&c&&(n=c,o=f,r=0),n&&n.nodeType==3?I$(n,o):!n||r&&n.nodeType==1?{node:t,offset:i}:Tx(n,o)}function I$(t,e){let n=t.nodeValue.length,r=document.createRange(),o;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let l=Ao(r,1);if(l.top!=l.bottom&&xg(e,l)){o={node:t,offset:i+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),o||{node:t,offset:0}}function xg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function P$(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function R$(t,e,n){let{node:r,offset:o}=Tx(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();i=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,o,i)}function _$(t,e,n,r){let o=-1;for(let i=e,l=!1;i!=t.dom;){let u=t.docView.nearestDesc(i,!0),c;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((c=u.dom.getBoundingClientRect()).width||c.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!l&&c.left>r.left||c.top>r.top?o=u.posBefore:(!l&&c.right<r.left||c.bottom<r.top)&&(o=u.posAfter),l=!0),!u.contentDOM&&o<0&&!u.node.isText))return(u.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?u.posBefore:u.posAfter;i=u.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function Mx(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let l=t.childNodes[i];if(l.nodeType==1){let u=l.getClientRects();for(let c=0;c<u.length;c++){let f=u[c];if(xg(e,f))return Mx(l,e,f)}}if((i=(i+1)%r)==o)break}return t}function z$(t,e){let n=t.dom.ownerDocument,r,o=0,i=E$(n,e.left,e.top);i&&({node:r,offset:o}=i);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=t.dom.getBoundingClientRect();if(!xg(e,f)||(l=Mx(t.dom,e,f),!l))return null}if(Yt)for(let f=l;r&&f;f=Xs(f))f.draggable&&(r=void 0);if(l=P$(l,e),r){if(Hn&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let h=r.childNodes[o],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&o++}let f;Ya&&o&&r.nodeType==1&&(f=r.childNodes[o-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(u=_$(t,r,o,e))}u==null&&(u=R$(t,l,e));let c=t.docView.nearestDesc(l,!0);return{pos:u,inside:c?c.posAtStart-c.border:-1}}function Ik(t){return t.top<t.bottom||t.left<t.right}function Ao(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Ik(r))return r}return Array.prototype.find.call(n,Ik)||t.getBoundingClientRect()}const L$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ox(t,e,n){let{node:r,offset:o,atom:i}=t.docView.domFromPos(e,n<0?-1:1),l=Ya||Hn;if(r.nodeType==3)if(l&&(L$.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let c=Ao(Jr(r,o,o),n);if(Hn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let f=Ao(Jr(r,o-1,o-1),-1);if(f.top==c.top){let h=Ao(Jr(r,o,o+1),-1);if(h.top!=c.top)return ta(h,h.left<f.left)}}return c}else{let c=o,f=o,h=n<0?1:-1;return n<0&&!o?(f++,h=-1):n>=0&&o==r.nodeValue.length?(c--,h=1):n<0?c--:f++,ta(Ao(Jr(r,c,f),h),h<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==Wn(r))){let c=r.childNodes[o-1];if(c.nodeType==1)return Mp(c.getBoundingClientRect(),!1)}if(i==null&&o<Wn(r)){let c=r.childNodes[o];if(c.nodeType==1)return Mp(c.getBoundingClientRect(),!0)}return Mp(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==Wn(r))){let c=r.childNodes[o-1],f=c.nodeType==3?Jr(c,Wn(c)-(l?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return ta(Ao(f,1),!1)}if(i==null&&o<Wn(r)){let c=r.childNodes[o];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Jr(c,0,l?0:1):c.nodeType==1?c:null:null;if(f)return ta(Ao(f,-1),!0)}return ta(Ao(r.nodeType==3?Jr(r):r,-n),n>=0)}function ta(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Mp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Nx(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function $$(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return Nx(t,e,()=>{let{node:i}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(i,!0);if(!u)break;if(u.node.isBlock){i=u.contentDOM||u.dom;break}i=u.dom.parentNode}let l=Ox(t,o.pos,1);for(let u=i.firstChild;u;u=u.nextSibling){let c;if(u.nodeType==1)c=u.getClientRects();else if(u.nodeType==3)c=Jr(u,0,u.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let h=c[f];if(h.bottom>h.top+1&&(n=="up"?l.top-h.top>(h.bottom-l.top)*2:h.bottom-l.bottom>(l.bottom-h.top)*2))return!1}}return!0})}const F$=/[\u0590-\u08ac]/;function j$(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,l=o==r.parent.content.size,u=t.domSelection();return u?!F$.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?i:l:Nx(t,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:h,anchorOffset:m}=t.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:k,focusOffset:b}=t.domSelectionRange(),S=k&&!v.contains(k.nodeType==1?k:k.parentNode)||c==k&&f==b;try{u.collapse(h,m),c&&(c!=h||f!=m)&&u.extend&&u.extend(c,f)}catch{}return y!=null&&(u.caretBidiLevel=y),S}):r.pos==r.start()||r.pos==r.end()}let Pk=null,Rk=null,_k=!1;function B$(t,e,n){return Pk==e&&Rk==n?_k:(Pk=e,Rk=n,_k=n=="up"||n=="down"?$$(t,e,n):j$(t,e,n))}const qn=0,zk=1,Ei=2,Ar=3;class Ja{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=qn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,l;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(l)+l.size:this.posAtStart}else{let i,l;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(l):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Lt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),l;if(i&&(!n||i.node))if(r&&(l=i.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==e&&i!=r){for(;!o.border&&o.children.length;)for(let l=0;l<o.children.length;l++){let u=o.children[l];if(u.size){o=u;break}}return o}if(e<i)return o.descAt(e-r-o.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let l=this.children[r],u=i+l.size;if(u>e||l instanceof Ax){o=e-i;break}i=u}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof Dx&&i.side>=0;r--);if(n<=0){let i,l=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,l=!1);return i&&n&&l&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Lt(i.dom)+1:0}}else{let i,l=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,l=!1);return i&&l&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Lt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let l=r,u=0;;u++){let c=this.children[u],f=l+c.size;if(o==-1&&e<=f){let h=l+c.border;if(e>=h&&n<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,h);e=l;for(let m=u;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){o=Lt(y.dom)+1;break}e-=y.size}o==-1&&(o=0)}if(o>-1&&(f>n||u==this.children.length-1)){n=f;for(let h=u+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Lt(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let i=Math.min(e,n),l=Math.max(e,n);for(let v=0,k=0;v<this.children.length;v++){let b=this.children[v],S=k+b.size;if(i>k&&l<S)return b.setSelection(e-k-b.border,n-k-b.border,r,o);k=S}let u=this.domFromPos(e,e?-1:1),c=n==e?u:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),h=r.domSelectionRange(),m=!1;if((Hn||Yt)&&e==n){let{node:v,offset:k}=u;if(v.nodeType==3){if(m=!!(k&&v.nodeValue[k-1]==`
`),m&&k==v.nodeValue.length)for(let b=v,S;b;b=b.parentNode){if(S=b.nextSibling){S.nodeName=="BR"&&(u=c={node:S.parentNode,offset:Lt(S)+1});break}let C=b.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let b=v.childNodes[k-1];m=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(Hn&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let v=h.focusNode.childNodes[h.focusOffset];v&&v.contentEditable=="false"&&(o=!0)}if(!(o||m&&Yt)&&Ui(u.node,u.offset,h.anchorNode,h.anchorOffset)&&Ui(c.node,c.offset,h.focusNode,h.focusOffset))return;let y=!1;if((f.extend||e==n)&&!(m&&Hn)){f.collapse(u.node,u.offset);try{e!=n&&f.extend(c.node,c.offset),y=!0}catch{}}if(!y){if(e>n){let k=u;u=c,c=k}let v=document.createRange();v.setEnd(c.node,c.offset),v.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],l=r+i.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let u=r+i.border,c=l-i.border;if(e>=u&&n<=c){this.dirty=e==r||n==l?Ei:zk,e==u&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ar:i.markDirty(e-u,n-u);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Ei:Ar}r=l}this.dirty=Ei}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ei:zk;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Dx extends Ja{constructor(e,n,r,o){let i,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==qn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class V$ extends Ja{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wi extends Ja{constructor(e,n,r,o,i){super(e,[],r,o),this.mark=n,this.spec=i}static create(e,n,r,o){let i=o.nodeViews[n.type.name],l=i&&i(n,o,r);return(!l||!l.dom)&&(l=Yi.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wi(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Ar||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ar&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qn}}slice(e,n,r){let o=Wi.create(this.parent,this.mark,!0,r),i=this.children,l=this.size;n<l&&(i=Cm(i,n,l,r)),e>0&&(i=Cm(i,0,e,r));for(let u=0;u<i.length;u++)i[u].parent=o;return o.children=i,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Go extends Ja{constructor(e,n,r,o,i,l,u,c,f){super(e,[],i,l),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=u}static create(e,n,r,o,i,l){let u=i.nodeViews[n.type.name],c,f=u&&u(n,i,()=>{if(!c)return l;if(c.parent)return c.parent.posBeforeChild(c)},r,o),h=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=Yi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let y=h;return h=Rx(h,r,n),f?c=new U$(e,n,r,o,h,m||null,y,f,i,l+1):n.isText?new af(e,n,r,o,h,y,i):new Go(e,n,r,o,h,m||null,y,i,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>q.empty)}return e}matchesNode(e,n,r){return this.dirty==qn&&e.eq(this.node)&&sd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,i=e.composing?this.localCompositionInfo(e,n):null,l=i&&i.pos>-1?i:null,u=i&&i.pos<0,c=new H$(this,l&&l.node,e);K$(this.node,this.innerDeco,(f,h,m)=>{f.spec.marks?c.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&c.syncToMarks(h==this.node.childCount?Ue.none:this.node.child(h).marks,r,e),c.placeWidget(f,e,o)},(f,h,m,y)=>{c.syncToMarks(f.marks,r,e);let v;c.findNodeMatch(f,h,m,y)||u&&e.state.selection.from>o&&e.state.selection.to<o+f.nodeSize&&(v=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(f,h,m,v,e)||c.updateNextNode(f,h,m,e,y,o)||c.addNode(f,h,m,e,o),o+=f.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Ei)&&(l&&this.protectLocalComposition(e,l),Ix(this.contentDOM,this.children,e),el&&Y$(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof Se)||r<n||o>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let l=i.nodeValue,u=J$(this.node.content,l,r-n,o-n);return u<0?null:{node:i,pos:u,text:l}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let l=new V$(this,i,n,o);e.input.compositionNodes.push(l),this.children=Cm(this.children,r,r+o.length,e,l)}update(e,n,r,o){return this.dirty==Ar||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=qn}updateOuterDeco(e){if(sd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Px(this.dom,this.nodeDOM,xm(this.outerDeco,this.node,n),xm(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Lk(t,e,n,r,o){Rx(r,e,t);let i=new Go(void 0,t,e,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class af extends Go{constructor(e,n,r,o,i,l,u){super(e,n,r,o,i,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==Ar||this.dirty!=qn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=qn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),i=document.createTextNode(o.text);return new af(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ar)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Ax extends Ja{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class U$ extends Go{constructor(e,n,r,o,i,l,u,c,f,h){super(e,n,r,o,i,l,u,f,h),this.spec=c}update(e,n,r,o){if(this.dirty==Ar)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Ix(t,e,n){let r=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let l=e[i],u=l.dom;if(u.parentNode==t){for(;u!=r;)r=$k(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(u,r);if(l instanceof Wi){let c=r?r.previousSibling:t.lastChild;Ix(l.contentDOM,l.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=$k(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const pa=function(t){t&&(this.nodeName=t)};pa.prototype=Object.create(null);const Ti=[new pa];function xm(t,e,n){if(t.length==0)return Ti;let r=n?Ti[0]:new pa,o=[r];for(let i=0;i<t.length;i++){let l=t[i].type.attrs;if(l){l.nodeName&&o.push(r=new pa(l.nodeName));for(let u in l){let c=l[u];c!=null&&(n&&o.length==1&&o.push(r=new pa(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+c:u=="style"?r.style=(r.style?r.style+";":"")+c:u!="nodeName"&&(r[u]=c))}}}return o}function Px(t,e,n,r){if(n==Ti&&r==Ti)return e;let o=e;for(let i=0;i<r.length;i++){let l=r[i],u=n[i];if(i){let c;u&&u.nodeName==l.nodeName&&o!=t&&(c=o.parentNode)&&c.nodeName.toLowerCase()==l.nodeName||(c=document.createElement(l.nodeName),c.pmIsDeco=!0,c.appendChild(o),u=Ti[0]),o=c}W$(o,u||Ti[0],l)}return o}function W$(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.add(o[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function Rx(t,e,n){return Px(t,t,Ti,xm(e,n,t.nodeType!=1))}function sd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function $k(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class H${constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=q$(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,i=this.stack.length>>1,l=Math.min(i,e.length);for(;o<l&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=qn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let f=this.top.children[c];if(f.matchesMark(e[i])&&!this.isLocked(f.dom)){u=c;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let c=Wi.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,o){let i=-1,l;if(o>=this.preMatch.index&&(l=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))i=this.top.children.indexOf(l,this.index);else for(let u=this.index,c=Math.min(this.top.children.length,u+5);u<c;u++){let f=this.top.children[u];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){i=u;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,o,i){let l=this.top.children[o];return l.dirty==Ar&&l.dom==l.contentDOM&&(l.dirty=Ei),l.update(e,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,i,l){for(let u=this.index;u<this.top.children.length;u++){let c=this.top.children[u];if(c instanceof Go){let f=this.preMatch.matched.get(c);if(f!=null&&f!=i)return!1;let h=c.dom,m,y=this.isLocked(h)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Ar&&sd(n,c.outerDeco));if(!y&&c.update(e,n,r,o))return this.destroyBetween(this.index,u),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(c,e,n,r,o,l)))return this.destroyBetween(this.index,u),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ei,m.updateChildren(o,l+1),m.dirty=qn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,i,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!sd(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let u=Go.create(this.top,n,r,o,i,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let c of u.children)c.parent=u}return e.destroy(),u}addNode(e,n,r,o,i){let l=Go.create(this.top,e,n,r,o,i);l.contentDOM&&l.updateChildren(o,i+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new Dx(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof af)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Yt||At)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new Ax(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function q$(t,e){let n=e,r=n.children.length,o=t.childCount,i=new Map,l=[];e:for(;o>0;){let u;for(;;)if(r){let f=n.children[r-1];if(f instanceof Wi)n=f,r=f.children.length;else{u=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=u.node;if(c){if(c!=t.child(o-1))break;--o,i.set(u,o),l.push(u)}}return{index:o,matched:i,matches:l.reverse()}}function Z$(t,e){return t.type.side-e.type.side}function K$(t,e,n,r){let o=e.locals(t),i=0;if(o.length==0){for(let f=0;f<t.childCount;f++){let h=t.child(f);r(h,o,e.forChild(i,h),f),i+=h.nodeSize}return}let l=0,u=[],c=null;for(let f=0;;){let h,m;for(;l<o.length&&o[l].to==i;){let S=o[l++];S.widget&&(h?(m||(m=[h])).push(S):h=S)}if(h)if(m){m.sort(Z$);for(let S=0;S<m.length;S++)n(m[S],f,!!c)}else n(h,f,!!c);let y,v;if(c)v=-1,y=c,c=null;else if(f<t.childCount)v=f,y=t.child(f++);else break;for(let S=0;S<u.length;S++)u[S].to<=i&&u.splice(S--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)u.push(o[l++]);let k=i+y.nodeSize;if(y.isText){let S=k;l<o.length&&o[l].from<S&&(S=o[l].from);for(let C=0;C<u.length;C++)u[C].to<S&&(S=u[C].to);S<k&&(c=y.cut(S-i),y=y.cut(0,S-i),k=S,v=-1)}else for(;l<o.length&&o[l].to<k;)l++;let b=y.isInline&&!y.isLeaf?u.filter(S=>!S.inline):u.slice();r(y,b,e.forChild(i,y),v),i=k}}function Y$(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function J$(t,e,n,r){for(let o=0,i=0;o<t.childCount&&i<=r;){let l=t.child(o++),u=i;if(i+=l.nodeSize,!l.isText)continue;let c=l.text;for(;o<t.childCount;){let f=t.child(o++);if(i+=f.nodeSize,!f.isText)break;c+=f.text}if(i>=n){if(i>=r&&c.slice(r-e.length-u,r-u)==e)return r-e.length;let f=u<r?c.lastIndexOf(e,r-u-1):-1;if(f>=0&&f+e.length+u>=n)return u+f;if(n==r&&c.length>=r+e.length-u&&c.slice(r-u,r-u+e.length)==e)return r}}return-1}function Cm(t,e,n,r,o){let i=[];for(let l=0,u=0;l<t.length;l++){let c=t[l],f=u,h=u+=c.size;f>=n||h<=e?i.push(c):(f<e&&i.push(c.slice(0,e-f,r)),o&&(i.push(o),o=void 0),h>n&&i.push(c.slice(n-f,c.size,r)))}return i}function Cg(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),i=o&&o.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=r.resolve(l),c,f;if(lf(n)){for(c=l;o&&!o.node;)o=o.parent;let m=o.node;if(o&&m.isAtom&&he.isSelectable(m)&&o.parent&&!(m.isInline&&x$(n.focusNode,n.focusOffset,o.dom))){let y=o.posBefore;f=new he(l==y?u:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=l,y=l;for(let v=0;v<n.rangeCount;v++){let k=n.getRangeAt(v);m=Math.min(m,t.docView.posFromDOM(k.startContainer,k.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(k.endContainer,k.endOffset,-1))}if(m<0)return null;[c,l]=y==t.state.selection.anchor?[y,m]:[m,y],u=r.resolve(l)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let h=r.resolve(c);if(!f){let m=e=="pointer"||t.state.selection.head<u.pos&&!i?1:-1;f=Eg(t,h,u,m)}return f}function _x(t){return t.editable?t.hasFocus():Lx(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function eo(t,e=!1){let n=t.state.selection;if(zx(t,n),!!_x(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&At){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Ui(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Q$(t);else{let{anchor:r,head:o}=n,i,l;Fk&&!(n instanceof Se)&&(n.$from.parent.inlineContent||(i=jk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=jk(t,n.to))),t.docView.setSelection(r,o,t,e),Fk&&(i&&Bk(i),l&&Bk(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&G$(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Fk=Yt||At&&Sx<63;function jk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Yt&&o&&o.contentEditable=="false")return Op(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return Op(o);if(i)return Op(i)}}function Op(t){return t.contentEditable="true",Yt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Bk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function G$(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!_x(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Q$(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Lt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&kn&&Jo<=11&&(n.disabled=!0,n.disabled=!1)}function zx(t,e){if(e instanceof he){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Vk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Vk(t)}function Vk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Eg(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||Se.between(e,n,r)}function Uk(t){return t.editable&&!t.hasFocus()?!1:Lx(t)}function Lx(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function X$(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ui(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Em(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return i&&Te.findFrom(i,e)}function Po(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Wk(t,e,n){let r=t.state.selection;if(r instanceof Se)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let l=t.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return Po(t,new Se(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=Em(t.state,e);return o&&o instanceof he?Po(t,o):!1}else if(!(Un&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,l;if(!i||i.isText)return!1;let u=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(l=t.docView.descAt(u))&&!l.contentDOM?he.isSelectable(i)?Po(t,new he(e<0?t.state.doc.resolve(o.pos-i.nodeSize):o)):Ya?Po(t,new Se(t.state.doc.resolve(e<0?u:u+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof he&&r.node.isInline)return Po(t,new Se(e>0?r.$to:r.$from));{let o=Em(t.state,e);return o?Po(t,o):!1}}}function ld(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ma(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ms(t,e){return e<0?e3(t):t3(t)}function e3(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,i,l=!1;for(Hn&&n.nodeType==1&&r<ld(n)&&ma(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(ma(u,-1))o=n,i=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if($x(n))break;{let u=n.previousSibling;for(;u&&ma(u,-1);)o=n.parentNode,i=Lt(u),u=u.previousSibling;if(u)n=u,r=ld(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Tm(t,n,r):o&&Tm(t,o,i)}function t3(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=ld(n),i,l;for(;;)if(r<o){if(n.nodeType!=1)break;let u=n.childNodes[r];if(ma(u,1))i=n,l=++r;else break}else{if($x(n))break;{let u=n.nextSibling;for(;u&&ma(u,1);)i=u.parentNode,l=Lt(u)+1,u=u.nextSibling;if(u)n=u,r=0,o=ld(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}i&&Tm(t,i,l)}function $x(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function n3(t,e){for(;t&&e==t.childNodes.length&&!Ka(t);)e=Lt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function r3(t,e){for(;t&&!e&&!Ka(t);)e=Lt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Tm(t,e,n){if(e.nodeType!=3){let i,l;(l=n3(e,n))?(e=l,n=0):(i=r3(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(lf(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&eo(t)},50)}function Hk(t,e){let n=t.state.doc.resolve(e);if(!(At||xx)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),l=(i.top+i.bottom)/2;if(l>o.top&&l<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),l=(i.top+i.bottom)/2;if(l>o.top&&l<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function qk(t,e,n){let r=t.state.selection;if(r instanceof Se&&!r.empty||n.indexOf("s")>-1||Un&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Em(t.state,e);if(l&&l instanceof he)return Po(t,l)}if(!o.parent.inlineContent){let l=e<0?o:i,u=r instanceof Dn?Te.near(l,e):Te.findFrom(l,e);return u?Po(t,u):!1}return!1}function Zk(t,e){if(!(t.state.selection instanceof Se))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let l=t.state.tr;return e<0?l.delete(n.pos-i.nodeSize,n.pos):l.delete(n.pos,n.pos+i.nodeSize),t.dispatch(l),!0}return!1}function Kk(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function o3(t){if(!Yt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Kk(t,r,"true"),setTimeout(()=>Kk(t,r,"false"),20)}return!1}function i3(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function s3(t,e){let n=e.keyCode,r=i3(e);if(n==8||Un&&n==72&&r=="c")return Zk(t,-1)||Ms(t,-1);if(n==46&&!e.shiftKey||Un&&n==68&&r=="c")return Zk(t,1)||Ms(t,1);if(n==13||n==27)return!0;if(n==37||Un&&n==66&&r=="c"){let o=n==37?Hk(t,t.state.selection.from)=="ltr"?-1:1:-1;return Wk(t,o,r)||Ms(t,o)}else if(n==39||Un&&n==70&&r=="c"){let o=n==39?Hk(t,t.state.selection.from)=="ltr"?1:-1:1;return Wk(t,o,r)||Ms(t,o)}else{if(n==38||Un&&n==80&&r=="c")return qk(t,-1,r)||Ms(t,-1);if(n==40||Un&&n==78&&r=="c")return o3(t)||qk(t,1,r)||Ms(t,1);if(r==(Un?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Tg(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let l=t.someProp("clipboardSerializer")||Yi.fromSchema(t.state.schema),u=Wx(),c=u.createElement("div");c.appendChild(l.serializeFragment(r,{document:u}));let f=c.firstChild,h,m=0;for(;f&&f.nodeType==1&&(h=Ux[f.nodeName.toLowerCase()]);){for(let v=h.length-1;v>=0;v--){let k=u.createElement(h[v]);for(;c.firstChild;)k.appendChild(c.firstChild);c.appendChild(k),m++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${o} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:y,slice:e}}function Fx(t,e,n,r,o){let i=o.parent.type.spec.code,l,u;if(!n&&!e)return null;let c=!!e&&(r||i||!n);if(c){if(t.someProp("transformPastedText",y=>{e=y(e,i||r,t)}),i)return u=new X(q.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",y=>{u=y(u,t,!0)}),u;let m=t.someProp("clipboardTextParser",y=>y(e,o,r,t));if(m)u=m;else{let y=o.marks(),{schema:v}=t.state,k=Yi.fromSchema(v);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let S=l.appendChild(document.createElement("p"));b&&S.appendChild(k.serializeNode(v.text(b,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=c3(n),Ya&&d3(l);let f=l&&l.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let y=l.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;l=y}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Yo.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(c||h),context:o,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!l3.test(y.parentNode.nodeName)?{ignore:!0}:null}})),h)u=f3(Yk(u,+h[1],+h[2]),h[4]);else if(u=X.maxOpen(a3(u.content,o),!0),u.openStart||u.openEnd){let m=0,y=0;for(let v=u.content.firstChild;m<u.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=u.content.lastChild;y<u.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);u=Yk(u,m,y)}return t.someProp("transformPasted",m=>{u=m(u,t,c)}),u}const l3=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function a3(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),i,l=[];if(t.forEach(u=>{if(!l)return;let c=o.findWrapping(u.type),f;if(!c)return l=null;if(f=l.length&&i.length&&Bx(c,i,u,l[l.length-1],0))l[l.length-1]=f;else{l.length&&(l[l.length-1]=Vx(l[l.length-1],i.length));let h=jx(u,c);l.push(h),o=o.matchType(h.type),i=c}}),l)return q.from(l)}return t}function jx(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,q.from(t));return t}function Bx(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let i=Bx(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(q.from(jx(n,t,o+1))))}}function Vx(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Vx(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(q.empty,!0);return t.copy(n.append(r))}function Mm(t,e,n,r,o,i){let l=e<0?t.firstChild:t.lastChild,u=l.content;return t.childCount>1&&(i=0),o<r-1&&(u=Mm(u,e,n,r,o+1,i)),o>=n&&(u=e<0?l.contentMatchAt(0).fillBefore(u,i<=o).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(q.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(u))}function Yk(t,e,n){return e<t.openStart&&(t=new X(Mm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new X(Mm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Ux={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Jk=null;function Wx(){return Jk||(Jk=document.implementation.createHTMLDocument("title"))}let Np=null;function u3(t){let e=window.trustedTypes;return e?(Np||(Np=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Np.createHTML(t)):t}function c3(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Wx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&Ux[r[1].toLowerCase()])&&(t=o.map(i=>"<"+i+">").join("")+t+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=u3(t),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function d3(t){let e=t.querySelectorAll(At?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function f3(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:i,openEnd:l}=t;for(let u=r.length-2;u>=0;u-=2){let c=n.nodes[r[u]];if(!c||c.hasRequiredAttrs())break;o=q.from(c.create(r[u+1],o)),i++,l++}return new X(o,i,l)}const sn={},ln={},h3={touchstart:!0,touchmove:!0};class p3{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function m3(t){for(let e in sn){let n=sn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{y3(t,r)&&!Mg(t,r)&&(t.editable||!(r.type in ln))&&n(t,r)},h3[e]?{passive:!0}:void 0)}Yt&&t.dom.addEventListener("input",()=>null),Om(t)}function Zo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function g3(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Om(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Mg(t,r))})}function Mg(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function y3(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function v3(t,e){!Mg(t,e)&&sn[e.type]&&(t.editable||!(e.type in ln))&&sn[e.type](t,e)}ln.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!qx(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Qr&&At&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),el&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,Ci(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||s3(t,n)?n.preventDefault():Zo(t,"key")};ln.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ln.keypress=(t,e)=>{let n=e;if(qx(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Un&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Se)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,o,i))&&t.dispatch(i()),n.preventDefault()}};function uf(t){return{left:t.clientX,top:t.clientY}}function w3(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Og(t,e,n,r,o){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let l=i.depth+1;l>0;l--)if(t.someProp(e,u=>l>i.depth?u(t,n,i.nodeAfter,i.before(l),o,!0):u(t,n,i.node(l),i.before(l),o,!1)))return!0;return!1}function Bs(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function k3(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&he.isSelectable(r)?(Bs(t,new he(n)),!0):!1}function b3(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof he&&(r=n.node);let i=t.state.doc.resolve(e);for(let l=i.depth+1;l>0;l--){let u=l>i.depth?i.nodeAfter:i.node(l);if(he.isSelectable(u)){r&&n.$from.depth>0&&l>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(l);break}}return o!=null?(Bs(t,he.create(t.state.doc,o)),!0):!1}function S3(t,e,n,r,o){return Og(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(o?b3(t,n):k3(t,n))}function x3(t,e,n,r){return Og(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function C3(t,e,n,r){return Og(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||E3(t,n,r)}function E3(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Bs(t,Se.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let i=o.depth+1;i>0;i--){let l=i>o.depth?o.nodeAfter:o.node(i),u=o.before(i);if(l.inlineContent)Bs(t,Se.create(r,u+1,u+1+l.content.size));else if(he.isSelectable(l))Bs(t,he.create(r,u));else continue;return!0}}function Ng(t){return ad(t)}const Hx=Un?"metaKey":"ctrlKey";sn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Ng(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&w3(n,t.input.lastClick)&&!n[Hx]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let l=t.posAtCoords(uf(n));l&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new T3(t,l,n,!!r)):(i=="doubleClick"?x3:C3)(t,l.pos,l.inside,n)?n.preventDefault():Zo(t,"pointer"))};class T3{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Hx],this.allowDefault=r.shiftKey;let i,l;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),l=n.inside;else{let h=e.state.doc.resolve(n.pos);i=h.parent,l=h.depth?h.before():0}const u=o?null:r.target,c=u?e.docView.nearestDesc(u,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof he&&f.from<=l&&f.to>l)&&(this.mightDrag={node:i,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Zo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>eo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(uf(e))),this.updateAllowDefault(e),this.allowDefault||!n?Zo(this.view,"pointer"):S3(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Yt&&this.mightDrag&&!this.mightDrag.node.isAtom||At&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Bs(this.view,Te.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Zo(this.view,"pointer")}move(e){this.updateAllowDefault(e),Zo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}sn.touchstart=t=>{t.input.lastTouch=Date.now(),Ng(t),Zo(t,"pointer")};sn.touchmove=t=>{t.input.lastTouch=Date.now(),Zo(t,"pointer")};sn.contextmenu=t=>Ng(t);function qx(t,e){return t.composing?!0:Yt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const M3=Qr?5e3:-1;ln.compositionstart=ln.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Se&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||At&&xx&&O3(t)))t.markCursor=t.state.storedMarks||n.marks(),ad(t,!0),t.markCursor=null;else if(ad(t,!e.selection.empty),Hn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let l=i<0?o.lastChild:o.childNodes[i-1];if(!l)break;if(l.nodeType==3){let u=t.domSelection();u&&u.collapse(l,l.nodeValue.length);break}else o=l,i=-1}}t.input.composing=!0}Zx(t,M3)};function O3(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}ln.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Zx(t,20))};function Zx(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ad(t),e))}function Kx(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=D3());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function N3(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=b$(e.focusNode,e.focusOffset),r=S$(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function D3(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ad(t,e=!1){if(!(Qr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Kx(t),e||t.docView&&t.docView.dirty){let n=Cg(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function A3(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Pa=kn&&Jo<15||el&&T$<604;sn.copy=ln.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let i=Pa?null:n.clipboardData,l=r.content(),{dom:u,text:c}=Tg(t,l);i?(n.preventDefault(),i.clearData(),i.setData("text/html",u.innerHTML),i.setData("text/plain",c)):A3(t,u),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function I3(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function P3(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ra(t,r.value,null,o,e):Ra(t,r.textContent,r.innerHTML,o,e)},50)}function Ra(t,e,n,r,o){let i=Fx(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,o,i||X.empty)))return!0;if(!i)return!1;let l=I3(i),u=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(i);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Yx(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ln.paste=(t,e)=>{let n=e;if(t.composing&&!Qr)return;let r=Pa?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ra(t,Yx(r),r.getData("text/html"),o,n)?n.preventDefault():P3(t,n)};class Jx{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const R3=Un?"altKey":"ctrlKey";function Gx(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[R3]}sn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,i=o.empty?null:t.posAtCoords(uf(n)),l;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof he?o.to-1:o.to))){if(r&&r.mightDrag)l=he.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(l=he.create(t.state.doc,m.posBefore))}}let u=(l||t.state.selection).content(),{dom:c,text:f,slice:h}=Tg(t,u);(!n.dataTransfer.files.length||!At||Sx>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Pa?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Pa||n.dataTransfer.setData("text/plain",f),t.dragging=new Jx(h,Gx(t,n),l)};sn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ln.dragover=ln.dragenter=(t,e)=>e.preventDefault();ln.drop=(t,e)=>{try{_3(t,e,t.dragging)}finally{t.dragging=null}};function _3(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(uf(e));if(!r)return;let o=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",v=>{i=v(i,t,!1)}):i=Fx(t,Yx(e.dataTransfer),Pa?null:e.dataTransfer.getData("text/html"),!1,o);let l=!!(n&&Gx(t,e));if(t.someProp("handleDrop",v=>v(t,e,i||X.empty,l))){e.preventDefault();return}if(!i)return;e.preventDefault();let u=i?tx(t.state.doc,o.pos,i):o.pos;u==null&&(u=o.pos);let c=t.state.tr;if(l){let{node:v}=n;v?v.replace(c):c.deleteSelection()}let f=c.mapping.map(u),h=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,m=c.doc;if(h?c.replaceRangeWith(f,f,i.content.firstChild):c.replaceRange(f,f,i),c.doc.eq(m))return;let y=c.doc.resolve(f);if(h&&he.isSelectable(i.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new he(y));else{let v=c.mapping.map(u);c.mapping.maps[c.mapping.maps.length-1].forEach((k,b,S,C)=>v=C),c.setSelection(Eg(t,y,c.doc.resolve(v)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}sn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&eo(t)},20))};sn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};sn.beforeinput=(t,e)=>{if(At&&Qr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Ci(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in ln)sn[t]=ln[t];function _a(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ud{constructor(e,n){this.toDOM=e,this.spec=n||Li,this.side=this.spec.side||0}map(e,n,r,o){let{pos:i,deleted:l}=e.mapResult(n.from+o,this.side<0?-1:1);return l?null:new on(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ud&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_a(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qo{constructor(e,n){this.attrs=e,this.spec=n||Li}map(e,n,r,o){let i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=l?null:new on(i,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Qo&&_a(this.attrs,e.attrs)&&_a(this.spec,e.spec)}static is(e){return e.type instanceof Qo}destroy(){}}class Dg{constructor(e,n){this.attrs=e,this.spec=n||Li}map(e,n,r,o){let i=e.mapResult(n.from+o,1);if(i.deleted)return null;let l=e.mapResult(n.to+o,-1);return l.deleted||l.pos<=i.pos?null:new on(i.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),i;return o==n.from&&!(i=e.child(r)).isText&&o+i.nodeSize==n.to}eq(e){return this==e||e instanceof Dg&&_a(this.attrs,e.attrs)&&_a(this.spec,e.spec)}destroy(){}}class on{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new on(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new on(e,e,new ud(n,r))}static inline(e,n,r,o){return new on(e,n,new Qo(r,o))}static node(e,n,r,o){return new on(e,n,new Dg(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qo}get widget(){return this.type instanceof ud}}const Ds=[],Li={};class rt{constructor(e,n){this.local=e.length?e:Ds,this.children=n.length?n:Ds}static create(e,n){return n.length?cd(n,e,0,Li):Kt}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,i){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=n&&u.to>=e&&(!i||i(u.spec))&&r.push(u.copy(u.from+o,u.to+o))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,n-u,r,o+u,i)}}map(e,n,r){return this==Kt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Li)}mapInner(e,n,r,o,i){let l;for(let u=0;u<this.local.length;u++){let c=this.local[u].map(e,r,o);c&&c.type.valid(n,c)?(l||(l=[])).push(c):i.onRemove&&i.onRemove(this.local[u].spec)}return this.children.length?z3(this.children,l||[],e,n,r,o,i):l?new rt(l.sort($i),Ds):Kt}add(e,n){return n.length?this==Kt?rt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,i=0;e.forEach((u,c)=>{let f=c+r,h;if(h=Xx(n,u,f)){for(o||(o=this.children.slice());i<o.length&&o[i]<c;)i+=3;o[i]==c?o[i+2]=o[i+2].addInner(u,h,f+1):o.splice(i,0,c,c+u.nodeSize,cd(h,u,f+1,Li)),i+=3}});let l=Qx(i?eC(n):n,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new rt(l.length?this.local.concat(l).sort($i):this.local,o||this.children)}remove(e){return e.length==0||this==Kt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let l,u=r[i]+n,c=r[i+1]+n;for(let h=0,m;h<e.length;h++)(m=e[h])&&m.from>u&&m.to<c&&(e[h]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(l,u+1);f!=Kt?r[i+2]=f:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,l;i<e.length;i++)if(l=e[i])for(let u=0;u<o.length;u++)o[u].eq(l,n)&&(o==this.local&&(o=this.local.slice()),o.splice(u--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new rt(o,r):Kt}forChild(e,n){if(this==Kt)return this;if(n.isLeaf)return rt.empty;let r,o;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let i=e+1,l=i+n.content.size;for(let u=0;u<this.local.length;u++){let c=this.local[u];if(c.from<l&&c.to>i&&c.type instanceof Qo){let f=Math.max(i,c.from)-i,h=Math.min(l,c.to)-i;f<h&&(o||(o=[])).push(c.copy(f,h))}}if(o){let u=new rt(o.sort($i),Ds);return r?new zo([u,r]):u}return r||Kt}eq(e){if(this==e)return!0;if(!(e instanceof rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Ag(this.localsInner(e))}localsInner(e){if(this==Kt)return Ds;if(e.inlineContent||!this.local.some(Qo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Qo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}rt.empty=new rt([],[]);rt.removeOverlap=Ag;const Kt=rt.empty;class zo{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,Li));return zo.from(r)}forChild(e,n){if(n.isLeaf)return rt.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,n);i!=Kt&&(i instanceof zo?r=r.concat(i.members):r.push(i))}return zo.from(r)}eq(e){if(!(e instanceof zo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let l=0;l<i.length;l++)n.push(i[l])}}return n?Ag(r?n:n.sort($i)):Ds}static from(e){switch(e.length){case 0:return Kt;case 1:return e[0];default:return new zo(e.every(n=>n instanceof rt)?e:e.reduce((n,r)=>n.concat(r instanceof rt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function z3(t,e,n,r,o,i,l){let u=t.slice();for(let f=0,h=i;f<n.maps.length;f++){let m=0;n.maps[f].forEach((y,v,k,b)=>{let S=b-k-(v-y);for(let C=0;C<u.length;C+=3){let T=u[C+1];if(T<0||y>T+h-m)continue;let N=u[C]+h-m;v>=N?u[C+1]=y<=N?-2:-1:y>=h&&S&&(u[C]+=S,u[C+1]+=S)}m+=S}),h=n.maps[f].map(h,-1)}let c=!1;for(let f=0;f<u.length;f+=3)if(u[f+1]<0){if(u[f+1]==-2){c=!0,u[f+1]=-1;continue}let h=n.map(t[f]+i),m=h-o;if(m<0||m>=r.content.size){c=!0;continue}let y=n.map(t[f+1]+i,-1),v=y-o,{index:k,offset:b}=r.content.findIndex(m),S=r.maybeChild(k);if(S&&b==m&&b+S.nodeSize==v){let C=u[f+2].mapInner(n,S,h+1,t[f]+i+1,l);C!=Kt?(u[f]=m,u[f+1]=v,u[f+2]=C):(u[f+1]=-2,c=!0)}else c=!0}if(c){let f=L3(u,t,e,n,o,i,l),h=cd(f,r,0,l);e=h.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,y=0;m<h.children.length;m+=3){let v=h.children[m];for(;y<u.length&&u[y]<v;)y+=3;u.splice(y,0,h.children[m],h.children[m+1],h.children[m+2])}}return new rt(e.sort($i),u)}function Qx(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new on(o.from+e,o.to+e,o.type))}return n}function L3(t,e,n,r,o,i,l){function u(c,f){for(let h=0;h<c.local.length;h++){let m=c.local[h].map(r,o,f);m?n.push(m):l.onRemove&&l.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)u(c.children[h+2],c.children[h]+f+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&u(t[c+2],e[c]+i+1);return n}function Xx(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let i=0,l;i<t.length;i++)(l=t[i])&&l.from>n&&l.to<r&&((o||(o=[])).push(l),t[i]=null);return o}function eC(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function cd(t,e,n,r){let o=[],i=!1;e.forEach((u,c)=>{let f=Xx(t,u,c+n);if(f){i=!0;let h=cd(f,u,n+c+1,r);h!=Kt&&o.push(c,c+u.nodeSize,h)}});let l=Qx(i?eC(t):t,-n).sort($i);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||o.length?new rt(l,o):Kt}function $i(t,e){return t.from-e.from||t.to-e.to}function Ag(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let i=e[o];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),Gk(e,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),Gk(e,o,r.copy(i.from,r.to)));break}}}return e}function Gk(t,e,n){for(;e<t.length&&$i(n,t[e])>0;)e++;t.splice(e,0,n)}function Dp(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Kt&&e.push(r)}),t.cursorWrapper&&e.push(rt.create(t.state.doc,[t.cursorWrapper.deco])),zo.from(e)}const $3={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},F3=kn&&Jo<=11;class j3{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class B3{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new j3,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);kn&&Jo<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),F3&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,$3)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Uk(this.view)){if(this.suppressingSelectionUpdates)return eo(this.view);if(kn&&Jo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ui(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Xs(i))n.add(i);for(let i=e.anchorNode;i;i=Xs(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Uk(e)&&!this.ignoreSelectionChange(r),i=-1,l=-1,u=!1,c=[];if(e.editable)for(let h=0;h<n.length;h++){let m=this.registerMutation(n[h],c);m&&(i=i<0?m.from:Math.min(m.from,i),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(u=!0))}if(Hn&&c.length){let h=c.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,y]=h;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of h){let v=y.parentNode;v&&v.nodeName=="LI"&&(!m||W3(e,m)!=v)&&y.remove()}}}else if((At||Yt)&&c.some(h=>h.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let h of c)if(h.nodeName=="BR"&&h.parentNode){let m=h.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&h.parentNode.removeChild(h)}}let f=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&lf(r)&&(f=Cg(e))&&f.eq(Te.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,eo(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,l),V3(e)),this.handleDOMChange(i,l,u,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||eo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let m=e.addedNodes[h];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,i=e.nextSibling;if(kn&&Jo<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:m,nextSibling:y}=e.addedNodes[h];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(o=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y)}let l=o&&o.parentNode==e.target?Lt(o)+1:0,u=r.localPosFromDOM(e.target,l,-1),c=i&&i.parentNode==e.target?Lt(i):e.target.childNodes.length,f=r.localPosFromDOM(e.target,c,1);return{from:u,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Qk=new WeakMap,Xk=!1;function V3(t){if(!Qk.has(t)&&(Qk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Hn,Xk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Xk=!0}}function e1(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Ui(l.node,l.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function U3(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return e1(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?e1(t,n):null}function W3(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function H3(t,e,n){let{node:r,fromOffset:o,toOffset:i,from:l,to:u}=t.docView.parseRange(e,n),c=t.domSelectionRange(),f,h=c.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(f=[{node:h,offset:c.anchorOffset}],lf(c)||f.push({node:c.focusNode,offset:c.focusOffset})),At&&t.input.lastKeyCode===8)for(let S=i;S>o;S--){let C=r.childNodes[S-1],T=C.pmViewDesc;if(C.nodeName=="BR"&&!T){i=S;break}if(!T||T.size)break}let m=t.state.doc,y=t.someProp("domParser")||Yo.fromSchema(t.state.schema),v=m.resolve(l),k=null,b=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:i,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:q3,context:v});if(f&&f[0].pos!=null){let S=f[0].pos,C=f[1]&&f[1].pos;C==null&&(C=S),k={anchor:S+l,head:C+l}}return{doc:b,sel:k,from:l,to:u}}function q3(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Yt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Yt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Z3=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function K3(t,e,n,r,o){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let $=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=Cg(t,$);if(L&&!t.state.selection.eq(L)){if(At&&Qr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ee=>ee(t,Ci(13,"Enter"))))return;let J=t.state.tr.setSelection(L);$=="pointer"?J.setMeta("pointer",!0):$=="key"&&J.scrollIntoView(),i&&J.setMeta("composition",i),t.dispatch(J)}return}let l=t.state.doc.resolve(e),u=l.sharedDepth(n);e=l.before(u+1),n=t.state.doc.resolve(n).after(u+1);let c=t.state.selection,f=H3(t,e,n),h=t.state.doc,m=h.slice(f.from,f.to),y,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,v="end"):(y=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let k=G3(m.content,f.doc.content,f.from,y,v);if(k&&t.input.domChangeCount++,(el&&t.input.lastIOSEnter>Date.now()-225||Qr)&&o.some($=>$.nodeType==1&&!Z3.test($.nodeName))&&(!k||k.endA>=k.endB)&&t.someProp("handleKeyDown",$=>$(t,Ci(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!k)if(r&&c instanceof Se&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))k={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let $=t1(t,t.state.doc,f.sel);if($&&!$.eq(t.state.selection)){let L=t.state.tr.setSelection($);i&&L.setMeta("composition",i),t.dispatch(L)}}return}t.state.selection.from<t.state.selection.to&&k.start==k.endB&&t.state.selection instanceof Se&&(k.start>t.state.selection.from&&k.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?k.start=t.state.selection.from:k.endA<t.state.selection.to&&k.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(k.endB+=t.state.selection.to-k.endA,k.endA=t.state.selection.to)),kn&&Jo<=11&&k.endB==k.start+1&&k.endA==k.start&&k.start>f.from&&f.doc.textBetween(k.start-f.from-1,k.start-f.from+1)==" "&&(k.start--,k.endA--,k.endB--);let b=f.doc.resolveNoCache(k.start-f.from),S=f.doc.resolveNoCache(k.endB-f.from),C=h.resolve(k.start),T=b.sameParent(S)&&b.parent.inlineContent&&C.end()>=k.endA;if((el&&t.input.lastIOSEnter>Date.now()-225&&(!T||o.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!T&&b.pos<f.doc.content.size&&(!b.sameParent(S)||!b.parent.inlineContent)&&b.pos<S.pos&&!/\S/.test(f.doc.textBetween(b.pos,S.pos,"","")))&&t.someProp("handleKeyDown",$=>$(t,Ci(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>k.start&&J3(h,k.start,k.endA,b,S)&&t.someProp("handleKeyDown",$=>$(t,Ci(8,"Backspace")))){Qr&&At&&t.domObserver.suppressSelectionUpdates();return}At&&k.endB==k.start&&(t.input.lastChromeDelete=Date.now()),Qr&&!T&&b.start()!=S.start()&&S.parentOffset==0&&b.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==k.endA&&(k.endB-=2,S=f.doc.resolveNoCache(k.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function($){return $(t,Ci(13,"Enter"))})},20));let N=k.start,D=k.endA,P=$=>{let L=$||t.state.tr.replace(N,D,f.doc.slice(k.start-f.from,k.endB-f.from));if(f.sel){let J=t1(t,L.doc,f.sel);J&&!(At&&t.composing&&J.empty&&(k.start!=k.endB||t.input.lastChromeDelete<Date.now()-100)&&(J.head==N||J.head==L.mapping.map(D)-1)||kn&&J.empty&&J.head==N)&&L.setSelection(J)}return i&&L.setMeta("composition",i),L.scrollIntoView()},F;if(T)if(b.pos==S.pos){kn&&Jo<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>eo(t),20));let $=P(t.state.tr.delete(N,D)),L=h.resolve(k.start).marksAcross(h.resolve(k.endA));L&&$.ensureMarks(L),t.dispatch($)}else if(k.endA==k.endB&&(F=Y3(b.parent.content.cut(b.parentOffset,S.parentOffset),C.parent.content.cut(C.parentOffset,k.endA-C.start())))){let $=P(t.state.tr);F.type=="add"?$.addMark(N,D,F.mark):$.removeMark(N,D,F.mark),t.dispatch($)}else if(b.parent.child(b.index()).isText&&b.index()==S.index()-(S.textOffset?0:1)){let $=b.parent.textBetween(b.parentOffset,S.parentOffset),L=()=>P(t.state.tr.insertText($,N,D));t.someProp("handleTextInput",J=>J(t,N,D,$,L))||t.dispatch(L())}else t.dispatch(P());else t.dispatch(P())}function t1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Eg(t,e.resolve(n.anchor),e.resolve(n.head))}function Y3(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,i=r,l,u,c;for(let h=0;h<r.length;h++)o=r[h].removeFromSet(o);for(let h=0;h<n.length;h++)i=n[h].removeFromSet(i);if(o.length==1&&i.length==0)u=o[0],l="add",c=h=>h.mark(u.addToSet(h.marks));else if(o.length==0&&i.length==1)u=i[0],l="remove",c=h=>h.mark(u.removeFromSet(h.marks));else return null;let f=[];for(let h=0;h<e.childCount;h++)f.push(c(e.child(h)));if(q.from(f).eq(t))return{mark:u,type:l}}function J3(t,e,n,r,o){if(n-e<=o.pos-r.pos||Ap(r,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let u=i.nodeAfter;return u!=null&&n==e+u.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let l=t.resolve(Ap(i,!0,!0));return!l.parent.isTextblock||l.pos>n||Ap(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Ap(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function G3(t,e,n,r,o){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:l,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let c=Math.max(0,i-Math.min(l,u));r-=l+c-i}if(l<i&&t.size<e.size){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<e.size&&n1(e.textBetween(i-1,i+1))&&(i+=c?1:-1),u=i+(u-l),l=i}else if(u<i){let c=r<=i&&r>=u?i-r:0;i-=c,i&&i<t.size&&n1(t.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-u),u=i}return{start:i,endA:l,endB:u}}function n1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class tC{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new p3,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(l1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=i1(this),o1(this),this.nodeViews=s1(this),this.docView=Lk(this.state.doc,r1(this),Dp(this),this.dom,this),this.domObserver=new B3(this,(r,o,i,l)=>K3(this,r,o,i,l)),this.domObserver.start(),m3(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Om(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(l1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,i=!1,l=!1;e.storedMarks&&this.composing&&(Kx(this),l=!0),this.state=e;let u=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=s1(this);X3(v,this.nodeViews)&&(this.nodeViews=v,i=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Om(this),this.editable=i1(this),o1(this);let c=Dp(this),f=r1(this),h=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,f,c);(m||!e.selection.eq(o.selection))&&(l=!0);let y=h=="preserve"&&l&&this.dom.style.overflowAnchor==null&&N$(this);if(l){this.domObserver.stop();let v=m&&(kn||At)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&Q3(o.selection,e.selection);if(m){let k=At?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=N3(this)),(i||!this.docView.update(e.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Lk(e.doc,f,c,this.dom,this)),k&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&X$(this))?eo(this,v):(zx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():y&&D$(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof he){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Ak(this,n.getBoundingClientRect(),e)}else Ak(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new Jx(e.slice,e.move,o<0?void 0:he.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(o=n?n(u):u))return o}let i=this.state.plugins;if(i)for(let l=0;l<i.length;l++){let u=i[l].props[e];if(u!=null&&(o=n?n(u):u))return o}}hasFocus(){if(kn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&A$(this.dom),eo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return z$(this,e)}coordsAtPos(e,n=1){return Ox(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return B$(this,n||this.state,e)}pasteHTML(e,n){return Ra(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ra(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Tg(this,e)}destroy(){this.docView&&(g3(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Dp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,w$())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return v3(this,e)}domSelectionRange(){let e=this.domSelection();return e?Yt&&this.root.nodeType===11&&C$(this.dom.ownerDocument)==this.dom&&U3(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}tC.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function r1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[on.node(0,t.state.doc.content.size,e)]}function o1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:on.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function i1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Q3(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function s1(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function X3(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function l1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ei={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eF=typeof navigator<"u"&&/Mac/.test(navigator.platform),tF=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $t=0;$t<10;$t++)ei[48+$t]=ei[96+$t]=String($t);for(var $t=1;$t<=24;$t++)ei[$t+111]="F"+$t;for(var $t=65;$t<=90;$t++)ei[$t]=String.fromCharCode($t+32),dd[$t]=String.fromCharCode($t);for(var Ip in ei)dd.hasOwnProperty(Ip)||(dd[Ip]=ei[Ip]);function nF(t){var e=eF&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||tF&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?dd:ei)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const rF=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),oF=typeof navigator<"u"&&/Win/.test(navigator.platform);function iF(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,i,l;for(let u=0;u<e.length-1;u++){let c=e[u];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))rF?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),l&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function sF(t){let e=Object.create(null);for(let n in t)e[iF(n)]=t[n];return e}function Pp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function lF(t){return new it({props:{handleKeyDown:nC(t)}})}function nC(t){let e=sF(t);return function(n,r){let o=nF(r),i,l=e[Pp(o,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let u=e[Pp(o,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(oF&&r.ctrlKey&&r.altKey)&&(i=ei[r.keyCode])&&i!=o){let u=e[Pp(i,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var aF=Object.defineProperty,Ig=(t,e)=>{for(var n in e)aF(t,n,{get:e[n],enumerable:!0})};function cf(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var df=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...f)=>{const h=u(...f)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,l=[],u=!!t,c=t||o.tr,f=()=>(!u&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),l.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(n).map(([m,y])=>[m,(...k)=>{const b=this.buildProps(c,e),S=y(...k)(b);return l.push(S),h}])),run:f};return h}createCan(t){const{rawCommands:e,state:n}=this,r=!1,o=t||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(e).map(([u,c])=>[u,(...f)=>c(...f)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,l={tr:t,editor:r,view:i,state:cf({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,c])=>[u,(...f)=>c(...f)(l)]))}};return l}},rC={};Ig(rC,{blur:()=>uF,clearContent:()=>cF,clearNodes:()=>dF,command:()=>fF,createParagraphNear:()=>hF,cut:()=>pF,deleteCurrentNode:()=>mF,deleteNode:()=>gF,deleteRange:()=>yF,deleteSelection:()=>vF,enter:()=>wF,exitCode:()=>kF,extendMarkRange:()=>bF,first:()=>SF,focus:()=>CF,forEach:()=>EF,insertContent:()=>TF,insertContentAt:()=>NF,joinBackward:()=>IF,joinDown:()=>AF,joinForward:()=>PF,joinItemBackward:()=>RF,joinItemForward:()=>_F,joinTextblockBackward:()=>zF,joinTextblockForward:()=>LF,joinUp:()=>DF,keyboardShortcut:()=>FF,lift:()=>jF,liftEmptyBlock:()=>BF,liftListItem:()=>VF,newlineInCode:()=>UF,resetAttributes:()=>WF,scrollIntoView:()=>HF,selectAll:()=>qF,selectNodeBackward:()=>ZF,selectNodeForward:()=>KF,selectParentNode:()=>YF,selectTextblockEnd:()=>JF,selectTextblockStart:()=>GF,setContent:()=>QF,setMark:()=>vj,setMeta:()=>wj,setNode:()=>kj,setNodeSelection:()=>bj,setTextDirection:()=>Sj,setTextSelection:()=>xj,sinkListItem:()=>Cj,splitBlock:()=>Ej,splitListItem:()=>Tj,toggleList:()=>Mj,toggleMark:()=>Oj,toggleNode:()=>Nj,toggleWrap:()=>Dj,undoInputRule:()=>Aj,unsetAllMarks:()=>Ij,unsetMark:()=>Pj,unsetTextDirection:()=>Rj,updateAttributes:()=>_j,wrapIn:()=>zj,wrapInList:()=>Lj});var uF=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),cF=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),dF=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:l})=>{t.doc.nodesBetween(i.pos,l.pos,(u,c)=>{if(u.type.isText)return;const{doc:f,mapping:h}=e,m=f.resolve(h.map(c)),y=f.resolve(h.map(c+u.nodeSize)),v=m.blockRange(y);if(!v)return;const k=cl(v);if(u.type.isTextblock){const{defaultType:b}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(v.start,b)}(k||k===0)&&e.lift(v,k)})}),!0},fF=t=>e=>t(e),hF=()=>({state:t,dispatch:e})=>yx(t,e),pF=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,i.content),r.setSelection(new Se(r.doc.resolve(Math.max(l-1,0)))),!0},mF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(e){const u=o.before(i),c=o.after(i);t.delete(u,c).scrollIntoView()}return!0}return!1};function mt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var gF=t=>({tr:e,state:n,dispatch:r})=>{const o=mt(t,n.schema),i=e.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===o){if(r){const c=i.before(l),f=i.after(l);e.delete(c,f).scrollIntoView()}return!0}return!1},yF=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},vF=()=>({state:t,dispatch:e})=>vg(t,e),wF=()=>({commands:t})=>t.keyboardShortcut("Enter"),kF=()=>({state:t,dispatch:e})=>o$(t,e);function Pg(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function fd(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:Pg(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function oC(t,e,n={}){return t.find(r=>r.type===e&&fd(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function a1(t,e,n={}){return!!oC(t,e,n)}function Rg(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(h=>h.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(h=>h.type===e)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!oC([...o.node.marks],e,n)))return;let l=o.index,u=t.start()+o.offset,c=l+1,f=u+o.node.nodeSize;for(;l>0&&a1([...t.parent.child(l-1).marks],e,n);)l-=1,u-=t.parent.child(l).nodeSize;for(;c<t.parent.childCount&&a1([...t.parent.child(c).marks],e,n);)f+=t.parent.child(c).nodeSize,c+=1;return{from:u,to:f}}function no(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var bF=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=no(t,r.schema),{doc:l,selection:u}=n,{$from:c,from:f,to:h}=u;if(o){const m=Rg(c,i,e);if(m&&m.from<=f&&m.to>=h){const y=Se.create(l,m.from,m.to);n.setSelection(y)}}return!0},SF=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function iC(t){return t instanceof Se}function Mi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function sC(t,e=null){if(!e)return null;const n=Te.atStart(t),r=Te.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,i=r.to;return e==="all"?Se.create(t,Mi(0,o,i),Mi(t.content.size,o,i)):Se.create(t,Mi(e,o,i),Mi(e,o,i))}function xF(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _g(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var CF=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{(_g()||xF())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!iC(n.state.selection))return l(),!0;const u=sC(o.doc,t)||n.state.selection,c=n.state.selection.eq(u);return i&&(c||o.setSelection(u),c&&o.storedMarks&&o.setStoredMarks(o.storedMarks),l()),!0},EF=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),TF=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),lC=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&lC(r)}return t};function Sc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return lC(n)}function za(t,e,n){if(t instanceof fr||t instanceof q)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return q.fromArray(t.map(u=>e.nodeFromJSON(u)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),za("",e,n)}if(o){if(n.errorOnInvalidContent){let l=!1,u="";const c=new WS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(l=!0,u=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?Yo.fromSchema(c).parseSlice(Sc(t),n.parseOptions):Yo.fromSchema(c).parse(Sc(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const i=Yo.fromSchema(e);return n.slice?i.parseSlice(Sc(t),n.parseOptions).content:i.parse(Sc(t),n.parseOptions)}return za("",e,n)}function MF(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof Dt||o instanceof It))return;const i=t.mapping.maps[r];let l=0;i.forEach((u,c,f,h)=>{l===0&&(l=h)}),t.setSelection(Te.near(t.doc.resolve(l),n))}var OF=t=>!("type"in t),NF=(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{var l;if(o){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const c=S=>{i.emit("contentError",{editor:i,error:S,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{za(e,i.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(S){c(S)}try{u=za(e,i.schema,{parseOptions:f,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:i.options.enableContentCheck})}catch(S){return c(S),!1}let{from:h,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,v=!0;if((OF(u)?u:[u]).forEach(S=>{S.check(),y=y?S.isText&&S.marks.length===0:!1,v=v?S.isBlock:!1}),h===m&&v){const{parent:S}=r.doc.resolve(h);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(h-=1,m+=1)}let b;if(y){if(Array.isArray(e))b=e.map(S=>S.text||"").join("");else if(e instanceof q){let S="";e.forEach(C=>{C.text&&(S+=C.text)}),b=S}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,h,m)}else{b=u;const S=r.doc.resolve(h),C=S.node(),T=S.parentOffset===0,N=C.isText||C.isTextblock,D=C.content.size>0;T&&N&&D&&(h=Math.max(0,h-1)),r.replaceWith(h,m,b)}n.updateSelection&&MF(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:h,text:b}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:h,text:b})}return!0},DF=()=>({state:t,dispatch:e})=>t$(t,e),AF=()=>({state:t,dispatch:e})=>n$(t,e),IF=()=>({state:t,dispatch:e})=>cx(t,e),PF=()=>({state:t,dispatch:e})=>px(t,e),RF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=rf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},_F=()=>({state:t,dispatch:e,tr:n})=>{try{const r=rf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},zF=()=>({state:t,dispatch:e})=>XL(t,e),LF=()=>({state:t,dispatch:e})=>e$(t,e);function aC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function $F(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,i,l;for(let u=0;u<e.length-1;u+=1){const c=e[u];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))_g()||aC()?l=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var FF=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=$F(t).split(/-(?!$)/),l=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,u))});return c==null||c.steps.forEach(f=>{const h=f.map(r.mapping);h&&o&&r.maybeStep(h)}),!0};function ti(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,l=e?mt(e,t.schema):null,u=[];t.doc.nodesBetween(r,o,(m,y)=>{if(m.isText)return;const v=Math.max(r,y),k=Math.min(o,y+m.nodeSize);u.push({node:m,from:v,to:k})});const c=o-r,f=u.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>fd(m.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=c}var jF=(t,e={})=>({state:n,dispatch:r})=>{const o=mt(t,n.schema);return ti(n,o,e)?r$(n,r):!1},BF=()=>({state:t,dispatch:e})=>vx(t,e),VF=t=>({state:e,dispatch:n})=>{const r=mt(t,e.schema);return m$(r)(e,n)},UF=()=>({state:t,dispatch:e})=>gx(t,e);function ff(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function u1(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}var WF=(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,l=null;const u=ff(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(i=mt(t,r.schema)),u==="mark"&&(l=no(t,r.schema));let c=!1;return n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,m)=>{i&&i===h.type&&(c=!0,o&&n.setNodeMarkup(m,void 0,u1(h.attrs,e))),l&&h.marks.length&&h.marks.forEach(y=>{l===y.type&&(c=!0,o&&n.addMark(m,m+h.nodeSize,l.create(u1(y.attrs,e))))})})}),c},HF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),qF=()=>({tr:t,dispatch:e})=>{if(e){const n=new Dn(t.doc);t.setSelection(n)}return!0},ZF=()=>({state:t,dispatch:e})=>fx(t,e),KF=()=>({state:t,dispatch:e})=>mx(t,e),YF=()=>({state:t,dispatch:e})=>l$(t,e),JF=()=>({state:t,dispatch:e})=>c$(t,e),GF=()=>({state:t,dispatch:e})=>u$(t,e);function Nm(t,e,n={},r={}){return za(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var QF=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:l,commands:u})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const f=Nm(t,o.schema,r,{errorOnInvalidContent:e??o.options.enableContentCheck});return l&&i.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!n),!0}return l&&i.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??o.options.enableContentCheck})};function uC(t,e){const n=no(e,t.schema),{from:r,to:o,empty:i}=t.selection,l=[];i?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,c=>{l.push(...c.marks)});const u=l.find(c=>c.type.name===n.name);return u?{...u.attrs}:{}}function cC(t,e){const n=new sx(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function XF(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ej(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,i)=>{n(o)&&r.push({node:o,pos:i})}),r}function tj(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function hf(t){return e=>tj(e.$from,t)}function fe(t,e,n){return t.config[e]===void 0&&t.parent?fe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?fe(t.parent,e,n):null}):t.config[e]}function zg(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=fe(e,"addExtensions",n);return r?[e,...zg(r())]:e}).flat(10)}function Lg(t,e){const n=Yi.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function dC(t){return typeof t=="function"}function Be(t,e=void 0,...n){return dC(t)?e?t.bind(e)(...n):t(...n):t}function nj(t={}){return Object.keys(t).length===0&&t.constructor===Object}function tl(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function fC(t){const e=[],{nodeExtensions:n,markExtensions:r}=tl(t),o=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage,extensions:o},c=fe(l,"addGlobalAttributes",u);if(!c)return;c().forEach(h=>{h.types.forEach(m=>{Object.entries(h.attributes).forEach(([y,v])=>{e.push({type:m,name:y,attribute:{...i,...v}})})})})}),o.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},c=fe(l,"addAttributes",u);if(!c)return;const f=c();Object.entries(f).forEach(([h,m])=>{const y={...i,...m};typeof(y==null?void 0:y.default)=="function"&&(y.default=y.default()),y!=null&&y.isRequired&&(y==null?void 0:y.default)===void 0&&delete y.default,e.push({type:l.name,name:h,attribute:y})})}),e}function gt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const u=i?String(i).split(" "):[],c=r[o]?r[o].split(" "):[],f=u.filter(h=>!c.includes(h));r[o]=[...c,...f].join(" ")}else if(o==="style"){const u=i?i.split(";").map(h=>h.trim()).filter(Boolean):[],c=r[o]?r[o].split(";").map(h=>h.trim()).filter(Boolean):[],f=new Map;c.forEach(h=>{const[m,y]=h.split(":").map(v=>v.trim());f.set(m,y)}),u.forEach(h=>{const[m,y]=h.split(":").map(v=>v.trim());f.set(m,y)}),r[o]=Array.from(f.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else r[o]=i}),r},{})}function hd(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>gt(n,r),{})}function rj(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function c1(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((i,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(n):rj(n.getAttribute(l.name));return u==null?i:{...i,[l.name]:u}},{});return{...r,...o}}}}function d1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&nj(n)?!1:n!=null))}function f1(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function oj(t,e){var n;const r=fC(t),{nodeExtensions:o,markExtensions:i}=tl(t),l=(n=o.find(f=>fe(f,"topNode")))==null?void 0:n.name,u=Object.fromEntries(o.map(f=>{const h=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((C,T)=>{const N=fe(T,"extendNodeSchema",m);return{...C,...N?N(f):{}}},{}),v=d1({...y,content:Be(fe(f,"content",m)),marks:Be(fe(f,"marks",m)),group:Be(fe(f,"group",m)),inline:Be(fe(f,"inline",m)),atom:Be(fe(f,"atom",m)),selectable:Be(fe(f,"selectable",m)),draggable:Be(fe(f,"draggable",m)),code:Be(fe(f,"code",m)),whitespace:Be(fe(f,"whitespace",m)),linebreakReplacement:Be(fe(f,"linebreakReplacement",m)),defining:Be(fe(f,"defining",m)),isolating:Be(fe(f,"isolating",m)),attrs:Object.fromEntries(h.map(f1))}),k=Be(fe(f,"parseHTML",m));k&&(v.parseDOM=k.map(C=>c1(C,h)));const b=fe(f,"renderHTML",m);b&&(v.toDOM=C=>b({node:C,HTMLAttributes:hd(C,h)}));const S=fe(f,"renderText",m);return S&&(v.toText=S),[f.name,v]})),c=Object.fromEntries(i.map(f=>{const h=r.filter(S=>S.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((S,C)=>{const T=fe(C,"extendMarkSchema",m);return{...S,...T?T(f):{}}},{}),v=d1({...y,inclusive:Be(fe(f,"inclusive",m)),excludes:Be(fe(f,"excludes",m)),group:Be(fe(f,"group",m)),spanning:Be(fe(f,"spanning",m)),code:Be(fe(f,"code",m)),attrs:Object.fromEntries(h.map(f1))}),k=Be(fe(f,"parseHTML",m));k&&(v.parseDOM=k.map(S=>c1(S,h)));const b=fe(f,"renderHTML",m);return b&&(v.toDOM=S=>b({mark:S,HTMLAttributes:hd(S,h)})),[f.name,v]}));return new WS({topNode:l,nodes:u,marks:c})}function ij(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function $g(t){return t.sort((n,r)=>{const o=fe(n,"priority")||100,i=fe(r,"priority")||100;return o>i?-1:o<i?1:0})}function hC(t){const e=$g(zg(t)),n=ij(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function pC(t,e,n){const{from:r,to:o}=e,{blockSeparator:i=`

`,textSerializers:l={}}=n||{};let u="";return t.nodesBetween(r,o,(c,f,h,m)=>{var y;c.isBlock&&f>r&&(u+=i);const v=l==null?void 0:l[c.type.name];if(v)return h&&(u+=v({node:c,pos:f,parent:h,index:m,range:e})),!1;c.isText&&(u+=(y=c==null?void 0:c.text)==null?void 0:y.slice(Math.max(r,f)-f,o-f))}),u}function sj(t,e){const n={from:0,to:t.content.size};return pC(t,n,e)}function mC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function lj(t,e){const n=mt(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,u=>{i.push(u)});const l=i.reverse().find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function gC(t,e){const n=ff(typeof e=="string"?e:e.name,t.schema);return n==="node"?lj(t,e):n==="mark"?uC(t,e):{}}function aj(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function uj(t){const e=aj(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,l)=>l!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function yC(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,i)=>{const l=[];if(o.ranges.length)o.forEach((u,c)=>{l.push({from:u,to:c})});else{const{from:u,to:c}=n[i];if(u===void 0||c===void 0)return;l.push({from:u,to:c})}l.forEach(({from:u,to:c})=>{const f=e.slice(i).map(u,-1),h=e.slice(i).map(c),m=e.invert().map(f,-1),y=e.invert().map(h);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:h}})})}),uj(r)}function Fg(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const i=n.resolve(t),l=Rg(i,o.type);l&&r.push({mark:o,...l})}):n.nodesBetween(t,e,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(l=>({from:i,to:i+o.nodeSize,mark:l})))}),r}var cj=(t,e,n,r=20)=>{const o=t.doc.resolve(n);let i=r,l=null;for(;i>0&&l===null;){const u=o.node(i);(u==null?void 0:u.type.name)===e?l=u:i-=1}return[l,i]};function Rp(t,e){return e.nodes[t]||e.marks[t]||null}function zc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(i=>i.type===e&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}var dj=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,i,l,u)=>{var c,f;const h=((f=(c=o.type.spec).toText)==null?void 0:f.call(c,{node:o,pos:i,parent:l,index:u}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?h:h.slice(0,Math.max(0,r-i))}),n};function Dm(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?no(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>fd(m.attrs,n,{strict:!1}));let l=0;const u=[];if(o.forEach(({$from:m,$to:y})=>{const v=m.pos,k=y.pos;t.doc.nodesBetween(v,k,(b,S)=>{if(!b.isText&&!b.marks.length)return;const C=Math.max(v,S),T=Math.min(k,S+b.nodeSize),N=T-C;l+=N,u.push(...b.marks.map(D=>({mark:D,from:C,to:T})))})}),l===0)return!1;const c=u.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>fd(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=u.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,y)=>m+y.to-y.from,0);return(c>0?c+f:c)>=l}function fj(t,e,n={}){if(!e)return ti(t,null,n)||Dm(t,null,n);const r=ff(e,t.schema);return r==="node"?ti(t,e,n):r==="mark"?Dm(t,e,n):!1}var hj=(t,e)=>{const{$from:n,$to:r,$anchor:o}=t.selection;if(e){const i=hf(u=>u.type.name===e)(t.selection);if(!i)return!1;const l=t.doc.resolve(i.pos+1);return o.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},pj=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function h1(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function p1(t,e){const{nodeExtensions:n}=tl(e),r=n.find(l=>l.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=Be(fe(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function pf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(i=>{o!==!1&&(pf(i,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function vC(t){return t instanceof he}var wC=class kC{constructor(e){this.position=e}static fromJSON(e){return new kC(e.position)}toJSON(){return{position:this.position}}};function mj(t,e){const n=e.mapping.mapResult(t.position);return{position:new wC(n.pos),mapResult:n}}function gj(t){return new wC(t)}function yj(t,e,n){var r;const{selection:o}=e;let i=null;if(iC(o)&&(i=o.$cursor),i){const u=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(f=>f.type.excludes(n)))}const{ranges:l}=o;return l.some(({$from:u,$to:c})=>{let f=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,c.pos,(h,m,y)=>{if(f)return!1;if(h.isInline){const v=!y||y.type.allowsMarkType(n),k=!!n.isInSet(h.marks)||!h.marks.some(b=>b.type.excludes(n));f=v&&k}return!f}),f})}var vj=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:l,ranges:u}=i,c=no(t,r.schema);if(o)if(l){const f=uC(r,c);n.addStoredMark(c.create({...f,...e}))}else u.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(h,m,(y,v)=>{const k=Math.max(v,h),b=Math.min(v+y.nodeSize,m);y.marks.find(C=>C.type===c)?y.marks.forEach(C=>{c===C.type&&n.addMark(k,b,c.create({...C.attrs,...e}))}):n.addMark(k,b,c.create(e))})});return yj(r,n,c)},wj=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),kj=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const i=mt(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:u})=>Ok(i,{...l,...e})(n)?!0:u.clearNodes()).command(({state:u})=>Ok(i,{...l,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},bj=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=Mi(t,0,r.content.size),i=he.create(r,o);e.setSelection(i)}return!0},Sj=(t,e)=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=r;let l,u;return typeof e=="number"?(l=e,u=e):e&&"from"in e&&"to"in e?(l=e.from,u=e.to):(l=i.from,u=i.to),o&&n.doc.nodesBetween(l,u,(c,f)=>{c.isText||n.setNodeMarkup(f,void 0,{...c.attrs,dir:t})}),!0},xj=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,l=Se.atStart(r).from,u=Se.atEnd(r).to,c=Mi(o,l,u),f=Mi(i,l,u),h=Se.create(r,c,f);e.setSelection(h)}return!0},Cj=t=>({state:e,dispatch:n})=>{const r=mt(t,e.schema);return v$(r)(e,n)};function m1(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}var Ej=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:l}=e,{$from:u,$to:c}=i,f=o.extensionManager.attributes,h=zc(f,u.node().type.name,u.node().attrs);if(i instanceof he&&i.node.isBlock)return!u.parentOffset||!Xr(l,u.pos)?!1:(r&&(t&&m1(n,o.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,y=u.depth===0?void 0:XF(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=m&&y?[{type:y,attrs:h}]:void 0,k=Xr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!k&&Xr(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(k=!0,v=y?[{type:y,attrs:h}]:void 0),r){if(k&&(i instanceof Se&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),y&&!m&&!u.parentOffset&&u.parent.type!==y)){const b=e.mapping.map(u.before()),S=e.doc.resolve(b);u.node(-1).canReplaceWith(S.index(),S.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&m1(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return k},Tj=(t,e={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var l;const u=mt(t,r.schema),{$from:c,$to:f}=r.selection,h=r.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(f))return!1;const m=c.node(-1);if(m.type!==u)return!1;const y=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==u||c.index(-2)!==c.node(-2).childCount-1)return!1;if(o){let C=q.empty;const T=c.index(-1)?1:c.index(-2)?2:3;for(let L=c.depth-T;L>=c.depth-3;L-=1)C=q.from(c.node(L).copy(C));const N=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,D={...zc(y,c.node().type.name,c.node().attrs),...e},P=((l=u.contentMatch.defaultType)==null?void 0:l.createAndFill(D))||void 0;C=C.append(q.from(u.createAndFill(null,P)||void 0));const F=c.before(c.depth-(T-1));n.replace(F,c.after(-N),new X(C,4-T,0));let $=-1;n.doc.nodesBetween(F,n.doc.content.size,(L,J)=>{if($>-1)return!1;L.isTextblock&&L.content.size===0&&($=J+1)}),$>-1&&n.setSelection(Se.near(n.doc.resolve($))),n.scrollIntoView()}return!0}const v=f.pos===c.end()?m.contentMatchAt(0).defaultType:null,k={...zc(y,m.type.name,m.attrs),...e},b={...zc(y,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,f.pos);const S=v?[{type:u,attrs:k},{type:v,attrs:b}]:[{type:u,attrs:k}];if(!Xr(n.doc,c.pos,2))return!1;if(o){const{selection:C,storedMarks:T}=r,{splittableMarks:N}=i.extensionManager,D=T||C.$to.parentOffset&&C.$from.marks();if(n.split(c.pos,2,S).scrollIntoView(),!D||!o)return!0;const P=D.filter(F=>N.includes(F.type.name));n.ensureMarks(P)}return!0},_p=(t,e)=>{const n=hf(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&oi(t.doc,n.pos)&&t.join(n.pos),!0},zp=(t,e)=>{const n=hf(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&oi(t.doc,r)&&t.join(r),!0},Mj=(t,e,n,r={})=>({editor:o,tr:i,state:l,dispatch:u,chain:c,commands:f,can:h})=>{const{extensions:m,splittableMarks:y}=o.extensionManager,v=mt(t,l.schema),k=mt(e,l.schema),{selection:b,storedMarks:S}=l,{$from:C,$to:T}=b,N=C.blockRange(T),D=S||b.$to.parentOffset&&b.$from.marks();if(!N)return!1;const P=hf(F=>p1(F.type.name,m))(b);if(N.depth>=1&&P&&N.depth-P.depth<=1){if(P.node.type===v)return f.liftListItem(k);if(p1(P.node.type.name,m)&&v.validContent(P.node.content)&&u)return c().command(()=>(i.setNodeMarkup(P.pos,v),!0)).command(()=>_p(i,v)).command(()=>zp(i,v)).run()}return!n||!D||!u?c().command(()=>h().wrapInList(v,r)?!0:f.clearNodes()).wrapInList(v,r).command(()=>_p(i,v)).command(()=>zp(i,v)).run():c().command(()=>{const F=h().wrapInList(v,r),$=D.filter(L=>y.includes(L.type.name));return i.ensureMarks($),F?!0:f.clearNodes()}).wrapInList(v,r).command(()=>_p(i,v)).command(()=>zp(i,v)).run()},Oj=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,l=no(t,r.schema);return Dm(r,l,e)?o.unsetMark(l,{extendEmptyMarkRange:i}):o.setMark(l,e)},Nj=(t,e,n={})=>({state:r,commands:o})=>{const i=mt(t,r.schema),l=mt(e,r.schema),u=ti(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),u?o.setNode(l,c):o.setNode(i,{...c,...n})},Dj=(t,e={})=>({state:n,commands:r})=>{const o=mt(t,n.schema);return ti(n,o,e)?r.lift(o):r.wrapIn(o,e)},Aj=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const l=t.tr,u=i.transform;for(let c=u.steps.length-1;c>=0;c-=1)l.step(u.steps[c].invert(u.docs[c]));if(i.text){const c=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else l.delete(i.from,i.to)}return!0}}return!1},Ij=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Pj=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,c=no(t,r.schema),{$from:f,empty:h,ranges:m}=u;if(!o)return!0;if(h&&l){let{from:y,to:v}=u;const k=(i=f.marks().find(S=>S.type===c))==null?void 0:i.attrs,b=Rg(f,c,k);b&&(y=b.from,v=b.to),n.removeMark(y,v,c)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,c)});return n.removeStoredMark(c),!0},Rj=t=>({tr:e,state:n,dispatch:r})=>{const{selection:o}=n;let i,l;return typeof t=="number"?(i=t,l=t):t&&"from"in t&&"to"in t?(i=t.from,l=t.to):(i=o.from,l=o.to),r&&e.doc.nodesBetween(i,l,(u,c)=>{if(u.isText)return;const f={...u.attrs};delete f.dir,e.setNodeMarkup(c,void 0,f)}),!0},_j=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,l=null;const u=ff(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(i=mt(t,r.schema)),u==="mark"&&(l=no(t,r.schema));let c=!1;return n.selection.ranges.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;let y,v,k,b;n.selection.empty?r.doc.nodesBetween(h,m,(S,C)=>{i&&i===S.type&&(c=!0,k=Math.max(C,h),b=Math.min(C+S.nodeSize,m),y=C,v=S)}):r.doc.nodesBetween(h,m,(S,C)=>{C<h&&i&&i===S.type&&(c=!0,k=Math.max(C,h),b=Math.min(C+S.nodeSize,m),y=C,v=S),C>=h&&C<=m&&(i&&i===S.type&&(c=!0,o&&n.setNodeMarkup(C,void 0,{...S.attrs,...e})),l&&S.marks.length&&S.marks.forEach(T=>{if(l===T.type&&(c=!0,o)){const N=Math.max(C,h),D=Math.min(C+S.nodeSize,m);n.addMark(N,D,l.create({...T.attrs,...e}))}}))}),v&&(y!==void 0&&o&&n.setNodeMarkup(y,void 0,{...v.attrs,...e}),l&&v.marks.length&&v.marks.forEach(S=>{l===S.type&&o&&n.addMark(k,b,l.create({...S.attrs,...e}))}))}),c},zj=(t,e={})=>({state:n,dispatch:r})=>{const o=mt(t,n.schema);return d$(o,e)(n,r)},Lj=(t,e={})=>({state:n,dispatch:r})=>{const o=mt(t,n.schema);return f$(o,e)(n,r)},$j=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},mf=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Fj=(t,e)=>{if(Pg(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function xc(t){var e;const{editor:n,from:r,to:o,text:i,rules:l,plugin:u}=t,{view:c}=n;if(c.composing)return!1;const f=c.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let h=!1;const m=dj(f)+i;return l.forEach(y=>{if(h)return;const v=Fj(m,y.find);if(!v)return;const k=c.state.tr,b=cf({state:c.state,transaction:k}),S={from:r-(v[0].length-i.length),to:o},{commands:C,chain:T,can:N}=new df({editor:n,state:b});y.handler({state:b,range:S,match:v,commands:C,chain:T,can:N})===null||!k.steps.length||(y.undoable&&k.setMeta(u,{transform:k,from:r,to:o,text:i}),c.dispatch(k),h=!0)}),h}function jj(t){const{editor:e,rules:n}=t,r=new it({state:{init(){return null},apply(o,i,l){const u=o.getMeta(r);if(u)return u;const c=o.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=Lg(q.from(h),l.schema);const{from:m}=c,y=m+h.length;xc({editor:e,from:m,to:y,text:h,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,l,u){return xc({editor:e,from:i,to:l,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&xc({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:l}=o.state.selection;return l?xc({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Bj(t){return Object.prototype.toString.call(t).slice(8,-1)}function Cc(t){return Bj(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function bC(t,e){const n={...t};return Cc(t)&&Cc(e)&&Object.keys(e).forEach(r=>{Cc(e[r])&&Cc(t[r])?n[r]=bC(t[r],e[r]):n[r]=e[r]}),n}var jg=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Be(fe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Be(fe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>bC(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ji=class SC extends jg{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new SC(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const l=o.marks();if(!!!l.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const c=l.find(f=>(f==null?void 0:f.type.name)===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Vj(t){return typeof t=="number"}var Uj=class{constructor(t){this.find=t.find,this.handler=t.handler}},Wj=(t,e,n)=>{if(Pg(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=t,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function Hj(t){const{editor:e,state:n,from:r,to:o,rule:i,pasteEvent:l,dropEvent:u}=t,{commands:c,chain:f,can:h}=new df({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,o,(v,k)=>{var b,S,C,T,N;if((S=(b=v.type)==null?void 0:b.spec)!=null&&S.code||!(v.isText||v.isTextblock||v.isInline))return;const D=(N=(T=(C=v.content)==null?void 0:C.size)!=null?T:v.nodeSize)!=null?N:0,P=Math.max(r,k),F=Math.min(o,k+D);if(P>=F)return;const $=v.isText?v.text||"":v.textBetween(P-k,F-k,void 0,"");Wj($,i.find,l).forEach(J=>{if(J.index===void 0)return;const ee=P+J.index+1,ae=ee+J[0].length,Ie={from:n.tr.mapping.map(ee),to:n.tr.mapping.map(ae)},Re=i.handler({state:n,range:Ie,match:J,commands:c,chain:f,can:h,pasteEvent:l,dropEvent:u});m.push(Re)})}),m.every(v=>v!==null)}var Ec=null,qj=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Zj(t){const{editor:e,rules:n}=t;let r=null,o=!1,i=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const c=({state:h,from:m,to:y,rule:v,pasteEvt:k})=>{const b=h.tr,S=cf({state:h,transaction:b});if(!(!Hj({editor:e,state:S,from:Math.max(m-1,0),to:y.b-1,rule:v,pasteEvent:k,dropEvent:u})||!b.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(h=>new it({view(m){const y=k=>{var b;r=(b=m.dom.parentElement)!=null&&b.contains(k.target)?m.dom.parentElement:null,r&&(Ec=e)},v=()=>{Ec&&(Ec=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(i=r===m.dom.parentElement,u=y,!i){const v=Ec;v!=null&&v.isEditable&&setTimeout(()=>{const k=v.state.selection;k&&v.commands.deleteRange({from:k.from,to:k.to})},10)}return!1},paste:(m,y)=>{var v;const k=(v=y.clipboardData)==null?void 0:v.getData("text/html");return l=y,o=!!(k!=null&&k.includes("data-pm-slice")),!1}}},appendTransaction:(m,y,v)=>{const k=m[0],b=k.getMeta("uiEvent")==="paste"&&!o,S=k.getMeta("uiEvent")==="drop"&&!i,C=k.getMeta("applyPasteRules"),T=!!C;if(!b&&!S&&!T)return;if(T){let{text:P}=C;typeof P=="string"?P=P:P=Lg(q.from(P),v.schema);const{from:F}=C,$=F+P.length,L=qj(P);return c({rule:h,state:v,from:F,to:{b:$},pasteEvt:L})}const N=y.doc.content.findDiffStart(v.doc.content),D=y.doc.content.findDiffEnd(v.doc.content);if(!(!Vj(N)||!D||N===D.b))return c({rule:h,state:v,from:N,to:D,pasteEvt:l})}}))}var gf=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=hC(t),this.schema=oj(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Rp(e.name,this.schema)},r=fe(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return $g([...this.extensions].reverse()).flatMap(r=>{const o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Rp(r.name,this.schema)},i=[],l=fe(r,"addKeyboardShortcuts",o);let u={};if(r.type==="mark"&&fe(r,"exitable",o)&&(u.ArrowRight=()=>Ji.handleExit({editor:t,mark:r})),l){const y=Object.fromEntries(Object.entries(l()).map(([v,k])=>[v,()=>k({editor:t})]));u={...u,...y}}const c=lF(u);i.push(c);const f=fe(r,"addInputRules",o);if(h1(r,t.options.enableInputRules)&&f){const y=f();if(y&&y.length){const v=jj({editor:t,rules:y}),k=Array.isArray(v)?v:[v];i.push(...k)}}const h=fe(r,"addPasteRules",o);if(h1(r,t.options.enablePasteRules)&&h){const y=h();if(y&&y.length){const v=Zj({editor:t,rules:y});i.push(...v)}}const m=fe(r,"addProseMirrorPlugins",o);if(m){const y=m();i.push(...y)}return i})}get attributes(){return fC(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=tl(this.extensions);return Object.fromEntries(e.filter(n=>!!fe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:mt(n.name,this.schema)},i=fe(n,"addNodeView",o);if(!i)return[];const l=i();if(!l)return[];const u=(c,f,h,m,y)=>{const v=hd(c,r);return l({node:c,view:f,getPos:h,decorations:m,innerDecorations:y,editor:t,extension:n,HTMLAttributes:v})};return[n.name,u]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=tl(this.extensions);return Object.fromEntries(e.filter(n=>!!fe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:no(n.name,this.schema)},i=fe(n,"addMarkView",o);if(!i)return[];const l=(u,c,f)=>{const h=hd(u,r);return i()({mark:u,view:c,inline:f,editor:t,extension:n,HTMLAttributes:h,updateAttributes:m=>{l4(u,t,m)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Rp(e.name,this.schema)};e.type==="mark"&&((n=Be(fe(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const o=fe(e,"onBeforeCreate",r),i=fe(e,"onCreate",r),l=fe(e,"onUpdate",r),u=fe(e,"onSelectionUpdate",r),c=fe(e,"onTransaction",r),f=fe(e,"onFocus",r),h=fe(e,"onBlur",r),m=fe(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),l&&this.editor.on("update",l),u&&this.editor.on("selectionUpdate",u),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};gf.resolve=hC;gf.sort=$g;gf.flatten=zg;var Kj={};Ig(Kj,{ClipboardTextSerializer:()=>CC,Commands:()=>EC,Delete:()=>TC,Drop:()=>MC,Editable:()=>OC,FocusEvents:()=>DC,Keymap:()=>AC,Paste:()=>IC,Tabindex:()=>PC,TextDirection:()=>RC,focusEventsPluginKey:()=>NC});var ft=class xC extends jg{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new xC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},CC=ft.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new it({key:new xt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,l=Math.min(...i.map(h=>h.$from.pos)),u=Math.max(...i.map(h=>h.$to.pos)),c=mC(n);return pC(r,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),EC=ft.create({name:"commands",addCommands(){return{...rC}}}),TC=ft.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,o;const i=()=>{var l,u,c,f;if((f=(c=(u=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:u.filterTransaction)==null?void 0:c.call(u,t))!=null?f:t.getMeta("y-sync$"))return;const h=cC(t.before,[t,...e]);yC(h).forEach(v=>{h.mapping.mapResult(v.oldRange.from).deletedAfter&&h.mapping.mapResult(v.oldRange.to).deletedBefore&&h.before.nodesBetween(v.oldRange.from,v.oldRange.to,(k,b)=>{const S=b+k.nodeSize-2,C=v.oldRange.from<=b&&S<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:k,from:b,to:S,newFrom:h.mapping.map(b),newTo:h.mapping.map(S),deletedRange:v.oldRange,newRange:v.newRange,partial:!C,editor:this.editor,transaction:t,combinedTransform:h})})});const y=h.mapping;h.steps.forEach((v,k)=>{var b,S;if(v instanceof dr){const C=y.slice(k).map(v.from,-1),T=y.slice(k).map(v.to),N=y.invert().map(C,-1),D=y.invert().map(T),P=(b=h.doc.nodeAt(C-1))==null?void 0:b.marks.some($=>$.eq(v.mark)),F=(S=h.doc.nodeAt(T))==null?void 0:S.marks.some($=>$.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:N,to:D},newRange:{from:C,to:T},partial:!!(F||P),editor:this.editor,transaction:t,combinedTransform:h})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(i,0):i()}}),MC=ft.create({name:"drop",addProseMirrorPlugins(){return[new it({key:new xt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),OC=ft.create({name:"editable",addProseMirrorPlugins(){return[new it({key:new xt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),NC=new xt("focusEvents"),DC=ft.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new it({key:NC,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),AC=ft.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:c,doc:f}=u,{empty:h,$anchor:m}=c,{pos:y,parent:v}=m,k=m.parent.isTextblock&&y>0?u.doc.resolve(y-1):m,b=k.parent.type.spec.isolating,S=m.pos-m.parentOffset,C=b&&k.parent.childCount===1?S===m.pos:Te.atStart(f).from===y;return!h||!v.type.isTextblock||v.textContent.length||!C||C&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _g()||aC()?i:o},addProseMirrorPlugins(){return[new it({key:new xt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(b=>b.getMeta("composition")))return;const r=t.some(b=>b.docChanged)&&!e.doc.eq(n.doc),o=t.some(b=>b.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:l,to:u}=e.selection,c=Te.atStart(e.doc).from,f=Te.atEnd(e.doc).to;if(i||!(l===c&&u===f)||!pf(n.doc))return;const y=n.tr,v=cf({state:n,transaction:y}),{commands:k}=new df({editor:this.editor,state:v});if(k.clearNodes(),!!y.steps.length)return y}})]}}),IC=ft.create({name:"paste",addProseMirrorPlugins(){return[new it({key:new xt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),PC=ft.create({name:"tabindex",addProseMirrorPlugins(){return[new it({key:new xt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),RC=ft.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=tl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new it({key:new xt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Yj=class As{constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new As(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new As(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new As(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,l=this.pos+r+(i?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!o&&u.depth<=this.depth)return;const c=new As(u,this.editor,o,o?n:null);o&&(c.actualDepth=this.depth+1),e.push(new As(u,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const i=o.node.attrs,l=Object.keys(n);for(let u=0;u<l.length;u+=1){const c=l[u];if(i[c]!==n[c])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(l=>{r&&o.length>0||(l.node.type.name===e&&i.every(c=>n[c]===l.node.attrs[c])&&o.push(l),!(r&&o.length>0)&&(o=o.concat(l.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Jj=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Gj(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}var Qj=class extends $j{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:mj,createMappablePosition:gj},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:o,moved:i})=>this.options.onDrop(r,o,i)),this.on("paste",({event:r,slice:o})=>this.options.onPaste(r,o)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=sC(e,this.options.autofocus);this.editorState=zs.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Gj(Jj,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=dC(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(o=>{const i=typeof o=="string"?`${o}$`:o.key;n=n.filter(l=>!l.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[OC,CC.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),EC,DC,AC,PC,MC,IC,TC,RC.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new gf(r,this)}createCommandManager(){this.commandManager=new df({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Nm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Nm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new tC(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),o=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!o)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),u=l==null?void 0:l.getMeta("focus"),c=l==null?void 0:l.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:l}),c&&this.emit("blur",{editor:this,event:c.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return gC(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return fj(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Lg(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return sj(this.state.doc,{blockSeparator:e,textSerializers:{...mC(this.schema),...n}})}get isEmpty(){return pf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Yj(e,this)}get $doc(){return this.$pos(0)}};function nl(t){return new mf({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Be(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=e,l=r[r.length-1],u=r[0];if(l){const c=u.search(/\S/),f=n.from+u.indexOf(l),h=f+l.length;if(Fg(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(b=>b===t.type&&b!==v.mark.type)).filter(v=>v.to>f).length)return null;h<n.to&&i.delete(h,n.to),f>n.from&&i.delete(n.from+c,f);const y=n.from+c+l.length;i.addMark(n.from+c,y,t.type.create(o||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function Xj(t){return new mf({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Be(t.getAttributes,void 0,r)||{},{tr:i}=e,l=n.from;let u=n.to;const c=t.type.create(o);if(r[1]){const f=r[0].lastIndexOf(r[1]);let h=l+f;h>u?h=u:u=h+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,l+r[0].length-1),i.replaceWith(h,u,c)}else if(r[0]){const f=t.type.isInline?l:l-1;i.insert(f,t.type.create(o)).delete(i.mapping.map(l),i.mapping.map(u))}i.scrollIntoView()},undoable:t.undoable})}function Am(t){return new mf({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),i=Be(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function rl(t){return new mf({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const i=Be(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),c=l.doc.resolve(n.from).blockRange(),f=c&&gg(c,t.type,i);if(!f)return null;if(l.wrap(c,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:v}=t.editor.extensionManager,k=y||m.$to.parentOffset&&m.$from.marks();if(k){const b=k.filter(S=>v.includes(S.type.name));l.ensureMarks(b)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(m,i).run()}const h=l.doc.resolve(n.from-1).nodeBefore;h&&h.type===t.type&&oi(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,h))&&l.join(n.from-1)},undoable:t.undoable})}function e4(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof he){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let o=r.depth;for(;o>=0;){const i=r.index(o);if(r.node(o).contentMatchAt(i).matchType(e))return!0;o-=1}return!1}var t4={};Ig(t4,{createAtomBlockMarkdownSpec:()=>n4,createBlockMarkdownSpec:()=>r4,createInlineMarkdownSpec:()=>s4,parseAttributes:()=>Bg,parseIndentedBlocks:()=>Im,renderNestedMarkdownContent:()=>Ug,serializeAttributes:()=>Vg});function Bg(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const f=o.map(h=>h.trim().slice(1));e.class=f.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,f,h])=>{var m;const y=parseInt(((m=h.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),v=n[y];v&&(e[f]=v.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(h=>{h.match(/^[a-zA-Z][\w-]*$/)&&(e[h]=!0)}),e}function Vg(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function n4(t){const{nodeName:e,name:n,parseAttributes:r=Bg,serializeAttributes:o=Vg,defaultAttributes:i={},requiredAttributes:l=[],allowedAttributes:u}=t,c=n||e,f=h=>{if(!u)return h;const m={};return u.forEach(y=>{y in h&&(m[y]=h[y])}),m};return{parseMarkdown:(h,m)=>{const y={...i,...h.attributes};return m.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(h){var m;const y=new RegExp(`^:::${c}(?:\\s|$)`,"m"),v=(m=h.match(y))==null?void 0:m.index;return v!==void 0?v:-1},tokenize(h,m,y){const v=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),k=h.match(v);if(!k)return;const b=k[1]||"",S=r(b);if(!l.find(T=>!(T in S)))return{type:e,raw:k[0],attributes:S}}},renderMarkdown:h=>{const m=f(h.attrs||{}),y=o(m),v=y?` {${y}}`:"";return`:::${c}${v} :::`}}}function r4(t){const{nodeName:e,name:n,getContent:r,parseAttributes:o=Bg,serializeAttributes:i=Vg,defaultAttributes:l={},content:u="block",allowedAttributes:c}=t,f=n||e,h=m=>{if(!c)return m;const y={};return c.forEach(v=>{v in m&&(y[v]=m[v])}),y};return{parseMarkdown:(m,y)=>{let v;if(r){const b=r(m);v=typeof b=="string"?[{type:"text",text:b}]:b}else u==="block"?v=y.parseChildren(m.tokens||[]):v=y.parseInline(m.tokens||[]);const k={...l,...m.attributes};return y.createNode(e,k,v)},markdownTokenizer:{name:e,level:"block",start(m){var y;const v=new RegExp(`^:::${f}`,"m"),k=(y=m.match(v))==null?void 0:y.index;return k!==void 0?k:-1},tokenize(m,y,v){var k;const b=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=m.match(b);if(!S)return;const[C,T=""]=S,N=o(T);let D=1;const P=C.length;let F="";const $=/^:::([\w-]*)(\s.*)?/gm,L=m.slice(P);for($.lastIndex=0;;){const J=$.exec(L);if(J===null)break;const ee=J.index,ae=J[1];if(!((k=J[2])!=null&&k.endsWith(":::"))){if(ae)D+=1;else if(D-=1,D===0){const Ie=L.slice(0,ee);F=Ie.trim();const Re=m.slice(0,P+ee+J[0].length);let Me=[];if(F)if(u==="block")for(Me=v.blockTokens(Ie),Me.forEach(De=>{De.text&&(!De.tokens||De.tokens.length===0)&&(De.tokens=v.inlineTokens(De.text))});Me.length>0;){const De=Me[Me.length-1];if(De.type==="paragraph"&&(!De.text||De.text.trim()===""))Me.pop();else break}else Me=v.inlineTokens(F);return{type:e,raw:Re,attributes:N,content:F,tokens:Me}}}}}},renderMarkdown:(m,y)=>{const v=h(m.attrs||{}),k=i(v),b=k?` {${k}}`:"",S=y.renderChildren(m.content||[],`

`);return`:::${f}${b}

${S}

:::`}}}function o4(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,o,i,l]=r;e[o]=i||l,r=n.exec(t)}return e}function i4(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function s4(t){const{nodeName:e,name:n,getContent:r,parseAttributes:o=o4,serializeAttributes:i=i4,defaultAttributes:l={},selfClosing:u=!1,allowedAttributes:c}=t,f=n||e,h=y=>{if(!c)return y;const v={};return c.forEach(k=>{const b=typeof k=="string"?k:k.name,S=typeof k=="string"?void 0:k.skipIfDefault;if(b in y){const C=y[b];if(S!==void 0&&C===S)return;v[b]=C}}),v},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,v)=>{const k={...l,...y.attributes};if(u)return v.createNode(e,k);const b=r?r(y):y.content||"";return b?v.createNode(e,k,[v.createTextNode(b)]):v.createNode(e,k,[])},markdownTokenizer:{name:e,level:"inline",start(y){const v=u?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),k=y.match(v),b=k==null?void 0:k.index;return b!==void 0?b:-1},tokenize(y,v,k){const b=u?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),S=y.match(b);if(!S)return;let C="",T="";if(u){const[,D]=S;T=D}else{const[,D,P]=S;T=D,C=P||""}const N=o(T.trim());return{type:e,raw:S[0],content:C.trim(),attributes:N}}},renderMarkdown:y=>{let v="";r?v=r(y):y.content&&y.content.length>0&&(v=y.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const k=h(y.attrs||{}),b=i(k),S=b?` ${b}`:"";return u?`[${f}${S}]`:`[${f}${S}]${v}[/${f}]`}}}function Im(t,e,n){var r,o,i,l;const u=t.split(`
`),c=[];let f="",h=0;const m=e.baseIndentSize||2;for(;h<u.length;){const y=u[h],v=y.match(e.itemPattern);if(!v){if(c.length>0)break;if(y.trim()===""){h+=1,f=`${f}${y}
`;continue}else return}const k=e.extractItemData(v),{indentLevel:b,mainContent:S}=k;f=`${f}${y}
`;const C=[S];for(h+=1;h<u.length;){const P=u[h];if(P.trim()===""){const $=u.slice(h+1).findIndex(ee=>ee.trim()!=="");if($===-1)break;if((((o=(r=u[h+1+$].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>b){C.push(P),f=`${f}${P}
`,h+=1;continue}else break}if((((l=(i=P.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:l.length)||0)>b)C.push(P),f=`${f}${P}
`,h+=1;else break}let T;const N=C.slice(1);if(N.length>0){const P=N.map(F=>F.slice(b+m)).join(`
`);P.trim()&&(e.customNestedParser?T=e.customNestedParser(P):T=n.blockTokens(P))}const D=e.createToken(k,T);c.push(D)}if(c.length!==0)return{items:c,raw:f}}function Ug(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const o=typeof n=="function"?n(r):n,[i,...l]=t.content,u=e.renderChildren([i]),c=[`${o}${u}`];return l&&l.length>0&&l.forEach(f=>{const h=e.renderChildren([f]);if(h){const m=h.split(`
`).map(y=>y?e.indent(y):"").join(`
`);c.push(m)}}),c.join(`
`)}function l4(t,e,n={}){const{state:r}=e,{doc:o,tr:i}=r,l=t;o.descendants((u,c)=>{const f=i.mapping.map(c),h=i.mapping.map(c)+u.nodeSize;let m=null;if(u.marks.forEach(v=>{if(v!==l)return!1;m=v}),!m)return;let y=!1;if(Object.keys(n).forEach(v=>{n[v]!==m.attrs[v]&&(y=!0)}),y){const v=t.type.create({...t.attrs,...n});i.removeMark(f,h,t.type),i.addMark(f,h,v)}}),i.docChanged&&e.view.dispatch(i)}var An=class _C extends jg{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new _C(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Hi(t){return new Uj({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const i=Be(t.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:l}=e,u=r[r.length-1],c=r[0];let f=n.to;if(u){const h=c.search(/\S/),m=n.from+c.indexOf(u),y=m+u.length;if(Fg(n.from,n.to,e.doc).filter(k=>k.mark.type.excluded.find(S=>S===t.type&&S!==k.mark.type)).filter(k=>k.to>m).length)return null;y<n.to&&l.delete(y,n.to),m>n.from&&l.delete(n.from+h,m),f=n.from+h+u.length,l.addMark(n.from+h,f,t.type.create(i||{})),l.removeStoredMark(t.type)}}})}const a4="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",u4="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Pm="numeric",Rm="ascii",_m="alpha",ga="asciinumeric",aa="alphanumeric",zm="domain",zC="emoji",c4="scheme",d4="slashscheme",Lp="whitespace";function f4(t,e){return t in e||(e[t]=[]),e[t]}function Oi(t,e,n){e[Pm]&&(e[ga]=!0,e[aa]=!0),e[Rm]&&(e[ga]=!0,e[_m]=!0),e[ga]&&(e[aa]=!0),e[_m]&&(e[aa]=!0),e[aa]&&(e[zm]=!0),e[zC]&&(e[zm]=!0);for(const r in e){const o=f4(r,n);o.indexOf(t)<0&&o.push(t)}}function h4(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function wn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}wn.groups={};wn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],i=e.jr[r][1];if(i&&o.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){r=r||wn.groups;let o;return e&&e.j?o=e:(o=new wn(e),n&&r&&Oi(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const i=t.length;if(!i)return o;for(let l=0;l<i-1;l++)o=o.tt(t[l]);return o.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||wn.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const i=e;let l,u=o.go(t);if(u?(l=new wn,Object.assign(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new wn,i){if(r)if(l.t&&typeof l.t=="string"){const c=Object.assign(h4(l.t,r),n);Oi(i,c,r)}else n&&Oi(i,n,r);l.t=i}return o.j[t]=l,l}};const Ee=(t,e,n,r,o)=>t.ta(e,n,r,o),lt=(t,e,n,r,o)=>t.tr(e,n,r,o),g1=(t,e,n,r,o)=>t.ts(e,n,r,o),K=(t,e,n,r,o)=>t.tt(e,n,r,o),Yr="WORD",Lm="UWORD",LC="ASCIINUMERICAL",$C="ALPHANUMERICAL",La="LOCALHOST",$m="TLD",Fm="UTLD",Lc="SCHEME",Is="SLASH_SCHEME",Wg="NUM",jm="WS",Hg="NL",ya="OPENBRACE",va="CLOSEBRACE",pd="OPENBRACKET",md="CLOSEBRACKET",gd="OPENPAREN",yd="CLOSEPAREN",vd="OPENANGLEBRACKET",wd="CLOSEANGLEBRACKET",kd="FULLWIDTHLEFTPAREN",bd="FULLWIDTHRIGHTPAREN",Sd="LEFTCORNERBRACKET",xd="RIGHTCORNERBRACKET",Cd="LEFTWHITECORNERBRACKET",Ed="RIGHTWHITECORNERBRACKET",Td="FULLWIDTHLESSTHAN",Md="FULLWIDTHGREATERTHAN",Od="AMPERSAND",Nd="APOSTROPHE",Dd="ASTERISK",Ro="AT",Ad="BACKSLASH",Id="BACKTICK",Pd="CARET",Lo="COLON",qg="COMMA",Rd="DOLLAR",Sr="DOT",_d="EQUALS",Zg="EXCLAMATION",jn="HYPHEN",wa="PERCENT",zd="PIPE",Ld="PLUS",$d="POUND",ka="QUERY",Kg="QUOTE",FC="FULLWIDTHMIDDLEDOT",Yg="SEMI",xr="SLASH",ba="TILDE",Fd="UNDERSCORE",jC="EMOJI",jd="SYM";var BC=Object.freeze({__proto__:null,ALPHANUMERICAL:$C,AMPERSAND:Od,APOSTROPHE:Nd,ASCIINUMERICAL:LC,ASTERISK:Dd,AT:Ro,BACKSLASH:Ad,BACKTICK:Id,CARET:Pd,CLOSEANGLEBRACKET:wd,CLOSEBRACE:va,CLOSEBRACKET:md,CLOSEPAREN:yd,COLON:Lo,COMMA:qg,DOLLAR:Rd,DOT:Sr,EMOJI:jC,EQUALS:_d,EXCLAMATION:Zg,FULLWIDTHGREATERTHAN:Md,FULLWIDTHLEFTPAREN:kd,FULLWIDTHLESSTHAN:Td,FULLWIDTHMIDDLEDOT:FC,FULLWIDTHRIGHTPAREN:bd,HYPHEN:jn,LEFTCORNERBRACKET:Sd,LEFTWHITECORNERBRACKET:Cd,LOCALHOST:La,NL:Hg,NUM:Wg,OPENANGLEBRACKET:vd,OPENBRACE:ya,OPENBRACKET:pd,OPENPAREN:gd,PERCENT:wa,PIPE:zd,PLUS:Ld,POUND:$d,QUERY:ka,QUOTE:Kg,RIGHTCORNERBRACKET:xd,RIGHTWHITECORNERBRACKET:Ed,SCHEME:Lc,SEMI:Yg,SLASH:xr,SLASH_SCHEME:Is,SYM:jd,TILDE:ba,TLD:$m,UNDERSCORE:Fd,UTLD:Fm,UWORD:Lm,WORD:Yr,WS:jm});const qr=/[a-z]/,na=new RegExp("\\p{L}","u"),$p=new RegExp("\\p{Emoji}","u"),Zr=/\d/,Fp=/\s/,y1="\r",jp=`
`,p4="",m4="",Bp="";let Tc=null,Mc=null;function g4(t=[]){const e={};wn.groups=e;const n=new wn;Tc==null&&(Tc=v1(a4)),Mc==null&&(Mc=v1(u4)),K(n,"'",Nd),K(n,"{",ya),K(n,"}",va),K(n,"[",pd),K(n,"]",md),K(n,"(",gd),K(n,")",yd),K(n,"<",vd),K(n,">",wd),K(n,"",kd),K(n,"",bd),K(n,"",Sd),K(n,"",xd),K(n,"",Cd),K(n,"",Ed),K(n,"",Td),K(n,"",Md),K(n,"&",Od),K(n,"*",Dd),K(n,"@",Ro),K(n,"`",Id),K(n,"^",Pd),K(n,":",Lo),K(n,",",qg),K(n,"$",Rd),K(n,".",Sr),K(n,"=",_d),K(n,"!",Zg),K(n,"-",jn),K(n,"%",wa),K(n,"|",zd),K(n,"+",Ld),K(n,"#",$d),K(n,"?",ka),K(n,'"',Kg),K(n,"/",xr),K(n,";",Yg),K(n,"~",ba),K(n,"_",Fd),K(n,"\\",Ad),K(n,"",FC);const r=lt(n,Zr,Wg,{[Pm]:!0});lt(r,Zr,r);const o=lt(r,qr,LC,{[ga]:!0}),i=lt(r,na,$C,{[aa]:!0}),l=lt(n,qr,Yr,{[Rm]:!0});lt(l,Zr,o),lt(l,qr,l),lt(o,Zr,o),lt(o,qr,o);const u=lt(n,na,Lm,{[_m]:!0});lt(u,qr),lt(u,Zr,i),lt(u,na,u),lt(i,Zr,i),lt(i,qr),lt(i,na,i);const c=K(n,jp,Hg,{[Lp]:!0}),f=K(n,y1,jm,{[Lp]:!0}),h=lt(n,Fp,jm,{[Lp]:!0});K(n,Bp,h),K(f,jp,c),K(f,Bp,h),lt(f,Fp,h),K(h,y1),K(h,jp),lt(h,Fp,h),K(h,Bp,h);const m=lt(n,$p,jC,{[zC]:!0});K(m,"#"),lt(m,$p,m),K(m,p4,m);const y=K(m,m4);K(y,"#"),lt(y,$p,m);const v=[[qr,l],[Zr,o]],k=[[qr,null],[na,u],[Zr,i]];for(let b=0;b<Tc.length;b++)No(n,Tc[b],$m,Yr,v);for(let b=0;b<Mc.length;b++)No(n,Mc[b],Fm,Lm,k);Oi($m,{tld:!0,ascii:!0},e),Oi(Fm,{utld:!0,alpha:!0},e),No(n,"file",Lc,Yr,v),No(n,"mailto",Lc,Yr,v),No(n,"http",Is,Yr,v),No(n,"https",Is,Yr,v),No(n,"ftp",Is,Yr,v),No(n,"ftps",Is,Yr,v),Oi(Lc,{scheme:!0,ascii:!0},e),Oi(Is,{slashscheme:!0,ascii:!0},e),t=t.sort((b,S)=>b[0]>S[0]?1:-1);for(let b=0;b<t.length;b++){const S=t[b][0],T=t[b][1]?{[c4]:!0}:{[d4]:!0};S.indexOf("-")>=0?T[zm]=!0:qr.test(S)?Zr.test(S)?T[ga]=!0:T[Rm]=!0:T[Pm]=!0,g1(n,S,S,T)}return g1(n,"localhost",La,{ascii:!0}),n.jd=new wn(jd),{start:n,tokens:Object.assign({groups:e},BC)}}function VC(t,e){const n=y4(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,o=[];let i=0,l=0;for(;l<r;){let u=t,c=null,f=0,h=null,m=-1,y=-1;for(;l<r&&(c=u.go(n[l]));)u=c,u.accepts()?(m=0,y=0,h=u):m>=0&&(m+=n[l].length,y++),f+=n[l].length,i+=n[l].length,l++;i-=m,l-=y,f-=m,o.push({t:h.t,v:e.slice(i-f,i),s:i-f,e:i})}return o}function y4(t){const e=[],n=t.length;let r=0;for(;r<n;){let o=t.charCodeAt(r),i,l=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function No(t,e,n,r,o){let i;const l=e.length;for(let u=0;u<l-1;u++){const c=e[u];t.j[c]?i=t.j[c]:(i=new wn(r),i.jr=o.slice(),t.j[c]=i),t=i}return i=new wn(n),i.jr=o.slice(),t.j[e[l-1]]=i,i}function v1(t){const e=[],n=[];let r=0,o="0123456789";for(;r<t.length;){let i=0;for(;o.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+i),10);l>0;l--)n.pop();r+=i}else n.push(t[r]),r++}return e}const $a={defaultProtocol:"http",events:null,format:w1,formatHref:w1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Jg(t,e=null){let n=Object.assign({},$a);t&&(n=Object.assign(n,t instanceof Jg?t.o:t));const r=n.ignoreTags,o=[];for(let i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}Jg.prototype={o:$a,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:$a[t],typeof o=="function"&&r&&(o=o(e,n))):typeof o=="function"&&r&&(o=o(e,n.t,n)),o)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function w1(t){return t}function UC(t,e){this.t="token",this.v=t,this.tk=e}UC.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=$a.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),o=t.get("tagName",n,e),i=this.toFormattedString(t),l={},u=t.get("className",n,e),c=t.get("target",n,e),f=t.get("rel",n,e),h=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=r,u&&(l.class=u),c&&(l.target=c),f&&(l.rel=f),h&&Object.assign(l,h),{tagName:o,attributes:l,content:i,eventListeners:m}}};function yf(t,e){class n extends UC{constructor(o,i){super(o,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const k1=yf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),b1=yf("text"),v4=yf("nl"),Oc=yf("url",{isLink:!0,toHref(t=$a.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==La&&t[1].t===Lo}}),Fn=t=>new wn(t);function w4({groups:t}){const e=t.domain.concat([Od,Dd,Ro,Ad,Id,Pd,Rd,_d,jn,Wg,wa,zd,Ld,$d,xr,jd,ba,Fd]),n=[Nd,Lo,qg,Sr,Zg,wa,ka,Kg,Yg,vd,wd,ya,va,md,pd,gd,yd,kd,bd,Sd,xd,Cd,Ed,Td,Md],r=[Od,Nd,Dd,Ad,Id,Pd,Rd,_d,jn,ya,va,wa,zd,Ld,$d,ka,xr,jd,ba,Fd],o=Fn(),i=K(o,ba);Ee(i,r,i),Ee(i,t.domain,i);const l=Fn(),u=Fn(),c=Fn();Ee(o,t.domain,l),Ee(o,t.scheme,u),Ee(o,t.slashscheme,c),Ee(l,r,i),Ee(l,t.domain,l);const f=K(l,Ro);K(i,Ro,f),K(u,Ro,f),K(c,Ro,f);const h=K(i,Sr);Ee(h,r,i),Ee(h,t.domain,i);const m=Fn();Ee(f,t.domain,m),Ee(m,t.domain,m);const y=K(m,Sr);Ee(y,t.domain,m);const v=Fn(k1);Ee(y,t.tld,v),Ee(y,t.utld,v),K(f,La,v);const k=K(m,jn);K(k,jn,k),Ee(k,t.domain,m),Ee(v,t.domain,m),K(v,Sr,y),K(v,jn,k);const b=K(v,Lo);Ee(b,t.numeric,k1);const S=K(l,jn),C=K(l,Sr);K(S,jn,S),Ee(S,t.domain,l),Ee(C,r,i),Ee(C,t.domain,l);const T=Fn(Oc);Ee(C,t.tld,T),Ee(C,t.utld,T),Ee(T,t.domain,l),Ee(T,r,i),K(T,Sr,C),K(T,jn,S),K(T,Ro,f);const N=K(T,Lo),D=Fn(Oc);Ee(N,t.numeric,D);const P=Fn(Oc),F=Fn();Ee(P,e,P),Ee(P,n,F),Ee(F,e,P),Ee(F,n,F),K(T,xr,P),K(D,xr,P);const $=K(u,Lo),L=K(c,Lo),J=K(L,xr),ee=K(J,xr);Ee(u,t.domain,l),K(u,Sr,C),K(u,jn,S),Ee(c,t.domain,l),K(c,Sr,C),K(c,jn,S),Ee($,t.domain,P),K($,xr,P),K($,ka,P),Ee(ee,t.domain,P),Ee(ee,e,P),K(ee,xr,P);const ae=[[ya,va],[pd,md],[gd,yd],[vd,wd],[kd,bd],[Sd,xd],[Cd,Ed],[Td,Md]];for(let Ie=0;Ie<ae.length;Ie++){const[Re,Me]=ae[Ie],De=K(P,Re);K(F,Re,De),K(De,Me,P);const Pe=Fn(Oc);Ee(De,e,Pe);const ge=Fn();Ee(De,n),Ee(Pe,e,Pe),Ee(Pe,n,ge),Ee(ge,e,Pe),Ee(ge,n,ge),K(Pe,Me,P),K(ge,Me,P)}return K(o,La,T),K(o,Hg,v4),{start:o,tokens:BC}}function k4(t,e,n){let r=n.length,o=0,i=[],l=[];for(;o<r;){let u=t,c=null,f=null,h=0,m=null,y=-1;for(;o<r&&!(c=u.go(n[o].t));)l.push(n[o++]);for(;o<r&&(f=c||u.go(n[o].t));)c=null,u=f,u.accepts()?(y=0,m=u):y>=0&&y++,o++,h++;if(y<0)o-=h,o<r&&(l.push(n[o]),o++);else{l.length>0&&(i.push(Vp(b1,e,l)),l=[]),o-=y,h-=y;const v=m.t,k=n.slice(o-h,o);i.push(Vp(v,e,k))}}return l.length>0&&i.push(Vp(b1,e,l)),i}function Vp(t,e,n){const r=n[0].s,o=n[n.length-1].e,i=e.slice(r,o);return new t(i,n)}const b4=typeof console<"u"&&console&&console.warn||(()=>{}),S4="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ke={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function x4(){return wn.groups={},Ke.scanner=null,Ke.parser=null,Ke.tokenQueue=[],Ke.pluginQueue=[],Ke.customSchemes=[],Ke.initialized=!1,Ke}function S1(t,e=!1){if(Ke.initialized&&b4(`linkifyjs: already initialized - will not register custom scheme "${t}" ${S4}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ke.customSchemes.push([t,e])}function C4(){Ke.scanner=g4(Ke.customSchemes);for(let t=0;t<Ke.tokenQueue.length;t++)Ke.tokenQueue[t][1]({scanner:Ke.scanner});Ke.parser=w4(Ke.scanner.tokens);for(let t=0;t<Ke.pluginQueue.length;t++)Ke.pluginQueue[t][1]({scanner:Ke.scanner,parser:Ke.parser});return Ke.initialized=!0,Ke}function Gg(t){return Ke.initialized||C4(),k4(Ke.parser.start,t,VC(Ke.scanner.start,t))}Gg.scan=VC;function WC(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Jg(n),o=Gg(t),i=[];for(let l=0;l<o.length;l++){const u=o[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&i.push(u.toFormattedObject(r))}return i}var Qg="[\0- -\u2029]",E4=new RegExp(Qg),T4=new RegExp(`${Qg}$`),M4=new RegExp(Qg,"g");function O4(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function N4(t){return new it({key:new xt("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),i=e.some(f=>f.getMeta("preventAutolink"));if(!o||i)return;const{tr:l}=r,u=cC(n.doc,[...e]);if(yC(u).forEach(({newRange:f})=>{const h=ej(r.doc,f,v=>v.isTextblock);let m,y;if(h.length>1)m=h[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const v=r.doc.textBetween(f.from,f.to," "," ");if(!T4.test(v))return;m=h[0],y=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&y){const v=y.split(E4).filter(Boolean);if(v.length<=0)return!1;const k=v[v.length-1],b=m.pos+y.lastIndexOf(k);if(!k)return!1;const S=Gg(k).map(C=>C.toObject(t.defaultProtocol));if(!O4(S))return!1;S.filter(C=>C.isLink).map(C=>({...C,from:b+C.start+1,to:b+C.end+1})).filter(C=>r.schema.marks.code?!r.doc.rangeHasMark(C.from,C.to,r.schema.marks.code):!0).filter(C=>t.validate(C.value)).filter(C=>t.shouldAutoLink(C.value)).forEach(C=>{Fg(C.from,C.to,r.doc).some(T=>T.mark.type===t.type)||l.addMark(C.from,C.to,t.type.create({href:C.href}))})}}),!!l.steps.length)return l}})}function D4(t){return new it({key:new xt("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,i;if(r.button!==0||!e.editable)return!1;let l=!1;if(t.enableClickSelection&&(l=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(r.target instanceof HTMLAnchorElement)u=r.target;else{let m=r.target;const y=[];for(;m.nodeName!=="DIV";)y.push(m),m=m.parentNode;u=y.find(v=>v.nodeName==="A")}if(!u)return l;const c=gC(e.state,t.type.name),f=(o=u==null?void 0:u.href)!=null?o:c.href,h=(i=u==null?void 0:u.target)!=null?i:c.target;u&&f&&(window.open(f,h),l=!0)}return l}}})}function A4(t){return new it({key:new xt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:o}=t,{state:i}=e,{selection:l}=i,{empty:u}=l;if(u)return!1;let c="";r.content.forEach(h=>{c+=h.textContent});const f=WC(c,{defaultProtocol:t.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!f||o!==void 0&&!o(f.href)?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Si(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!t||t.replace(M4,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var HC=Ji.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){S1(t);return}S1(t.scheme,t.optionalSlashes)})},onDestroy(){x4()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Si(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Si(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Si(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",gt(this.options.HTMLAttributes,t),0]:["a",gt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Si(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Si(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Hi({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,o=WC(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:l=>!!Si(l,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(N4({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!Si(o,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(D4({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(A4({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),LU=HC;function I4(t={}){return new it({view(e){return new P4(e,t)}})}class P4{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=l=>{this[o](l)};return e.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,o=this.editorView.dom,i=o.getBoundingClientRect(),l=i.width/o.offsetWidth,u=i.height/o.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let v=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(v){let k=v.getBoundingClientRect(),b=m?k.bottom:k.top;m&&y&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*u;r={left:k.left,right:k.right,top:b-S,bottom:b+S}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*l;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")f=-pageXOffset,h=-pageYOffset;else{let m=c.getBoundingClientRect(),y=m.width/c.offsetWidth,v=m.height/c.offsetHeight;f=m.left-c.scrollLeft*y,h=m.top-c.scrollTop*v}this.element.style.left=(r.left-f)/l+"px",this.element.style.top=(r.top-h)/u+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!i){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=tx(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ut extends Te{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ut.valid(r)?new ut(r):Te.near(r)}content(){return X.empty}eq(e){return e instanceof ut&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ut(e.resolve(n.pos))}getBookmark(){return new Xg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!R4(e)||!_4(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ut.valid(e))return e;let o=e.pos,i=null;for(let l=e.depth;;l--){let u=e.node(l);if(n>0?e.indexAfter(l)<u.childCount:e.index(l)>0){i=u.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;o+=n;let c=e.doc.resolve(o);if(ut.valid(c))return c}for(;;){let l=n>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!he.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=l,o+=n;let u=e.doc.resolve(o);if(ut.valid(u))return u}return null}}}ut.prototype.visible=!1;ut.findFrom=ut.findGapCursorFrom;Te.jsonID("gapcursor",ut);class Xg{constructor(e){this.pos=e}map(e){return new Xg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ut.valid(n)?new ut(n):Te.near(n)}}function qC(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function R4(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||qC(o.type))return!0;if(o.inlineContent)return!1}}return!0}function _4(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||qC(o.type))return!0;if(o.inlineContent)return!1}}return!0}function z4(){return new it({props:{decorations:j4,createSelectionBetween(t,e,n){return e.pos==n.pos&&ut.valid(n)?new ut(n):null},handleClick:$4,handleKeyDown:L4,handleDOMEvents:{beforeinput:F4}}})}const L4=nC({ArrowLeft:Nc("horiz",-1),ArrowRight:Nc("horiz",1),ArrowUp:Nc("vert",-1),ArrowDown:Nc("vert",1)});function Nc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,i){let l=r.selection,u=e>0?l.$to:l.$from,c=l.empty;if(l instanceof Se){if(!i.endOfTextblock(n)||u.depth==0)return!1;c=!1,u=r.doc.resolve(e>0?u.after():u.before())}let f=ut.findGapCursorFrom(u,e,c);return f?(o&&o(r.tr.setSelection(new ut(f))),!0):!1}}function $4(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ut.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&he.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ut(r))),!0)}function F4(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ut))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=q.empty;for(let l=r.length-1;l>=0;l--)o=q.from(r[l].createAndFill(null,o));let i=t.state.tr.replace(n.pos,n.pos,new X(o,0,0));return i.setSelection(Se.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function j4(t){if(!(t.selection instanceof ut))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",rt.create(t.doc,[on.widget(t.selection.head,e,{key:"gapcursor"})])}var Bd=200,Pt=function(){};Pt.prototype.append=function(e){return e.length?(e=Pt.from(e),!this.length&&e||e.length<Bd&&this.leafAppend(e)||this.length<Bd&&e.leafPrepend(this)||this.appendInner(e)):this};Pt.prototype.prepend=function(e){return e.length?Pt.from(e).append(this):this};Pt.prototype.appendInner=function(e){return new B4(this,e)};Pt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Pt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Pt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Pt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,l){return o.push(e(i,l))},n,r),o};Pt.from=function(e){return e instanceof Pt?e:e&&e.length?new ZC(e):Pt.empty};var ZC=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,l,u){for(var c=i;c<l;c++)if(o(this.values[c],u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,l,u){for(var c=i-1;c>=l;c--)if(o(this.values[c],u+c)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Bd)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Bd)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Pt);Pt.empty=new ZC([]);var B4=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,i,l){var u=this.left.length;if(o<u&&this.left.forEachInner(r,o,Math.min(i,u),l)===!1||i>u&&this.right.forEachInner(r,Math.max(o-u,0),Math.min(this.length,i)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,i,l){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(r,o-u,Math.max(i,u)-u,l+u)===!1||i<u&&this.left.forEachInvertedInner(r,Math.min(o,u),i,l)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Pt);const V4=500;class cr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let l=e.tr,u,c,f=[],h=[];return this.items.forEach((m,y)=>{if(!m.step){o||(o=this.remapping(r,y+1),i=o.maps.length),i--,h.push(m);return}if(o){h.push(new Cr(m.map));let v=m.step.map(o.slice(i)),k;v&&l.maybeStep(v).doc&&(k=l.mapping.maps[l.mapping.maps.length-1],f.push(new Cr(k,void 0,void 0,f.length+h.length))),i--,k&&o.appendMap(k,i)}else l.maybeStep(m.step);if(m.selection)return u=o?m.selection.map(o.slice(i)):m.selection,c=new cr(this.items.slice(0,r).append(h.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:l,selection:u}}addTransform(e,n,r,o){let i=[],l=this.eventCount,u=this.items,c=!o&&u.length?u.get(u.length-1):null;for(let h=0;h<e.steps.length;h++){let m=e.steps[h].invert(e.docs[h]),y=new Cr(e.mapping.maps[h],m,n),v;(v=c&&c.merge(y))&&(y=v,h?i.pop():u=u.slice(0,u.length-1)),i.push(y),n&&(l++,n=void 0),o||(c=y)}let f=l-r.depth;return f>W4&&(u=U4(u,f),l-=f),new cr(u.append(i),l)}remapping(e,n){let r=new Aa;return this.items.forEach((o,i)=>{let l=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new cr(this.items.append(e.map(n=>new Cr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},o);let c=n;this.items.forEach(y=>{let v=i.getMirror(--c);if(v==null)return;l=Math.min(l,v);let k=i.maps[v];if(y.step){let b=e.steps[v].invert(e.docs[v]),S=y.selection&&y.selection.map(i.slice(c+1,v));S&&u++,r.push(new Cr(k,b,S))}else r.push(new Cr(k))},o);let f=[];for(let y=n;y<l;y++)f.push(new Cr(i.maps[y]));let h=this.items.slice(0,o).append(f).append(r),m=new cr(h,u);return m.emptyItemCount()>V4&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],i=0;return this.items.forEach((l,u)=>{if(u>=e)o.push(l),l.selection&&i++;else if(l.step){let c=l.step.map(n.slice(r)),f=c&&c.getMap();if(r--,f&&n.appendMap(f,r),c){let h=l.selection&&l.selection.map(n.slice(r));h&&i++;let m=new Cr(f.invert(),c,h),y,v=o.length-1;(y=o.length&&o[v].merge(m))?o[v]=y:o.push(m)}}else l.map&&r--},this.items.length,0),new cr(Pt.from(o.reverse()),i)}}cr.empty=new cr(Pt.empty,0);function U4(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class Cr{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Cr(n.getMap().invert(),n,this.selection)}}}class _o{constructor(e,n,r,o,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const W4=20;function H4(t,e,n,r){let o=n.getMeta(Fi),i;if(o)return o.historyState;n.getMeta(K4)&&(t=new _o(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Fi))return l.getMeta(Fi).redo?new _o(t.done.addTransform(n,void 0,r,$c(e)),t.undone,x1(n.mapping.maps),t.prevTime,t.prevComposition):new _o(t.done,t.undone.addTransform(n,void 0,r,$c(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),c=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!q4(n,t.prevRanges)),f=l?Up(t.prevRanges,n.mapping):x1(n.mapping.maps);return new _o(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,$c(e)),cr.empty,f,n.time,u??t.prevComposition)}else return(i=n.getMeta("rebased"))?new _o(t.done.rebased(n,i),t.undone.rebased(n,i),Up(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new _o(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Up(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function q4(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function x1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,i,l)=>e.push(i,l));return e}function Up(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function Z4(t,e,n){let r=$c(e),o=Fi.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let l=i.selection.resolve(i.transform.doc),u=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,r),c=new _o(n?u:i.remaining,n?i.remaining:u,null,0,-1);return i.transform.setSelection(l).setMeta(Fi,{redo:n,historyState:c})}let Wp=!1,C1=null;function $c(t){let e=t.plugins;if(C1!=e){Wp=!1,C1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Wp=!0;break}}return Wp}const Fi=new xt("history"),K4=new xt("closeHistory");function Y4(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new it({key:Fi,state:{init(){return new _o(cr.empty,cr.empty,null,0,-1)},apply(e,n,r){return H4(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?YC:r=="historyRedo"?JC:null;return!o||!e.editable?!1:(n.preventDefault(),o(e.state,e.dispatch))}}}})}function KC(t,e){return(n,r)=>{let o=Fi.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let i=Z4(o,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const YC=KC(!1,!0),JC=KC(!0,!0);ft.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new it({key:new xt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const o=this.options.limit;if(o==null||o===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>o){const l=i-o,u=0,c=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(u,c);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||o>r&&i>r&&i<=o)return!0;if(o>r&&i>r&&i>o||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,c=i-r,f=u-c,h=u;return e.deleteRange(f,h),!(this.storage.characters({node:e.doc})>r)}})]}});var J4=ft.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[I4(this.options)]}});ft.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new it({key:new xt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=e,i=[];if(!n||!r)return rt.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((c,f)=>{if(c.isText)return;if(!(o>=f&&o<=f+c.nodeSize-1))return!1;l+=1});let u=0;return t.descendants((c,f)=>{if(c.isText||!(o>=f&&o<=f+c.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&l-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";i.push(on.node(f,f+c.nodeSize,{class:this.options.className}))}),rt.create(t,i)}}})]}});var G4=ft.create({name:"gapCursor",addProseMirrorPlugins(){return[z4()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Be(fe(t,"allowGapCursor",n)))!=null?e:null}}}),Q4=ft.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new it({key:new xt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((l,u)=>{const c=r>=u&&r<=u+l.nodeSize,f=!l.isLeaf&&pf(l);if((c||!this.options.showOnlyCurrent)&&f){const h=[this.options.emptyNodeClass];i&&h.push(this.options.emptyEditorClass);const m=on.node(u,u+l.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:c}):this.options.placeholder});o.push(m)}return this.options.includeChildren}),rt.create(t,o)}}})]}});ft.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new it({key:new xt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||vC(n.selection)||t.view.dragging?null:rt.create(n.doc,[on.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function E1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var X4=ft.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new xt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(n).includes(o.name));return[new it({key:e,appendTransaction:(o,i,l)=>{const{doc:u,tr:c,schema:f}=l,h=e.getState(l),m=u.content.size,y=f.nodes[n];if(h)return c.insert(m,y.create())},state:{init:(o,i)=>{const l=i.tr.doc.lastChild;return!E1({node:l,types:r})},apply:(o,i)=>{if(!o.docChanged||o.getMeta("__uniqueIDTransaction"))return i;const l=o.doc.lastChild;return!E1({node:l,types:r})}}})]}}),eB=ft.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>YC(t,e),redo:()=>({state:t,dispatch:e})=>JC(t,e)}},addProseMirrorPlugins(){return[Y4(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),$U=Q4,Hp={exports:{}},qp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function tB(){if(T1)return qp;T1=1;var t=Va();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function u(m,y){var v=y(),k=r({inst:{value:v,getSnapshot:y}}),b=k[0].inst,S=k[1];return i(function(){b.value=v,b.getSnapshot=y,c(b)&&S({inst:b})},[m,v,y]),o(function(){return c(b)&&S({inst:b}),m(function(){c(b)&&S({inst:b})})},[m]),l(v),v}function c(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function f(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return qp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,qp}var M1;function GC(){return M1||(M1=1,Hp.exports=tB()),Hp.exports}var QC=GC();const{getOwnPropertyNames:nB,getOwnPropertySymbols:rB}=Object,{hasOwnProperty:oB}=Object.prototype;function Zp(t,e){return function(r,o,i){return t(r,o,i)&&e(r,o,i)}}function Dc(t){return function(n,r,o){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,o);const{cache:i}=o,l=i.get(n),u=i.get(r);if(l&&u)return l===r&&u===n;i.set(n,r),i.set(r,n);const c=t(n,r,o);return i.delete(n),i.delete(r),c}}function iB(t){return t!=null?t[Symbol.toStringTag]:void 0}function O1(t){return nB(t).concat(rB(t))}const sB=Object.hasOwn||((t,e)=>oB.call(t,e));function Gi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const lB="__v",aB="__o",uB="_owner",{getOwnPropertyDescriptor:N1,keys:D1}=Object;function cB(t,e){return t.byteLength===e.byteLength&&Vd(new Uint8Array(t),new Uint8Array(e))}function dB(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function fB(t,e){return t.byteLength===e.byteLength&&Vd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function hB(t,e){return Gi(t.getTime(),e.getTime())}function pB(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mB(t,e){return t===e}function A1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),i=t.entries();let l,u,c=0;for(;(l=i.next())&&!l.done;){const f=e.entries();let h=!1,m=0;for(;(u=f.next())&&!u.done;){if(o[m]){m++;continue}const y=l.value,v=u.value;if(n.equals(y[0],v[0],c,m,t,e,n)&&n.equals(y[1],v[1],y[0],v[0],t,e,n)){h=o[m]=!0;break}m++}if(!h)return!1;c++}return!0}const gB=Gi;function yB(t,e,n){const r=D1(t);let o=r.length;if(D1(e).length!==o)return!1;for(;o-- >0;)if(!XC(t,e,n,r[o]))return!1;return!0}function ra(t,e,n){const r=O1(t);let o=r.length;if(O1(e).length!==o)return!1;let i,l,u;for(;o-- >0;)if(i=r[o],!XC(t,e,n,i)||(l=N1(t,i),u=N1(e,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function vB(t,e){return Gi(t.valueOf(),e.valueOf())}function wB(t,e){return t.source===e.source&&t.flags===e.flags}function I1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),i=t.values();let l,u;for(;(l=i.next())&&!l.done;){const c=e.values();let f=!1,h=0;for(;(u=c.next())&&!u.done;){if(!o[h]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){f=o[h]=!0;break}h++}if(!f)return!1}return!0}function Vd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function kB(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function XC(t,e,n,r){return(r===uB||r===aB||r===lB)&&(t.$$typeof||e.$$typeof)?!0:sB(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const bB="[object ArrayBuffer]",SB="[object Arguments]",xB="[object Boolean]",CB="[object DataView]",EB="[object Date]",TB="[object Error]",MB="[object Map]",OB="[object Number]",NB="[object Object]",DB="[object RegExp]",AB="[object Set]",IB="[object String]",PB={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},RB="[object URL]",_B=Object.prototype.toString;function zB({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:o,areFunctionsEqual:i,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:v,unknownTagComparators:k}){return function(S,C,T){if(S===C)return!0;if(S==null||C==null)return!1;const N=typeof S;if(N!==typeof C)return!1;if(N!=="object")return N==="number"?u(S,C,T):N==="function"?i(S,C,T):!1;const D=S.constructor;if(D!==C.constructor)return!1;if(D===Object)return c(S,C,T);if(Array.isArray(S))return e(S,C,T);if(D===Date)return r(S,C,T);if(D===RegExp)return h(S,C,T);if(D===Map)return l(S,C,T);if(D===Set)return m(S,C,T);const P=_B.call(S);if(P===EB)return r(S,C,T);if(P===DB)return h(S,C,T);if(P===MB)return l(S,C,T);if(P===AB)return m(S,C,T);if(P===NB)return typeof S.then!="function"&&typeof C.then!="function"&&c(S,C,T);if(P===RB)return v(S,C,T);if(P===TB)return o(S,C,T);if(P===SB)return c(S,C,T);if(PB[P])return y(S,C,T);if(P===bB)return t(S,C,T);if(P===CB)return n(S,C,T);if(P===xB||P===OB||P===IB)return f(S,C,T);if(k){let F=k[P];if(!F){const $=iB(S);$&&(F=k[$])}if(F)return F(S,C,T)}return!1}}function LB({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:cB,areArraysEqual:n?ra:dB,areDataViewsEqual:fB,areDatesEqual:hB,areErrorsEqual:pB,areFunctionsEqual:mB,areMapsEqual:n?Zp(A1,ra):A1,areNumbersEqual:gB,areObjectsEqual:n?ra:yB,arePrimitiveWrappersEqual:vB,areRegExpsEqual:wB,areSetsEqual:n?Zp(I1,ra):I1,areTypedArraysEqual:n?Zp(Vd,ra):Vd,areUrlsEqual:kB,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const o=Dc(r.areArraysEqual),i=Dc(r.areMapsEqual),l=Dc(r.areObjectsEqual),u=Dc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:u})}return r}function $B(t){return function(e,n,r,o,i,l,u){return t(e,n,u)}}function FB({circular:t,comparator:e,createState:n,equals:r,strict:o}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(u,c,{cache:f,equals:r,meta:h,strict:o})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:o})};const i={cache:void 0,equals:r,meta:void 0,strict:o};return function(u,c){return e(u,c,i)}}const jB=si();si({strict:!0});si({circular:!0});si({circular:!0,strict:!0});si({createInternalComparator:()=>Gi});si({strict:!0,createInternalComparator:()=>Gi});si({circular:!0,createInternalComparator:()=>Gi});si({circular:!0,createInternalComparator:()=>Gi,strict:!0});function si(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:o=!1}=t,i=LB(t),l=zB(i),u=n?n(l):$B(l);return FB({circular:e,comparator:l,createState:r,equals:u,strict:o})}var Kp={exports:{}},Yp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function BB(){if(P1)return Yp;P1=1;var t=Va(),e=GC();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,i=t.useRef,l=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Yp.useSyncExternalStoreWithSelector=function(f,h,m,y,v){var k=i(null);if(k.current===null){var b={hasValue:!1,value:null};k.current=b}else b=k.current;k=u(function(){function C(F){if(!T){if(T=!0,N=F,F=y(F),v!==void 0&&b.hasValue){var $=b.value;if(v($,F))return D=$}return D=F}if($=D,r(N,F))return $;var L=y(F);return v!==void 0&&v($,L)?(N=F,$):(N=F,D=L)}var T=!1,N,D,P=m===void 0?null:m;return[function(){return C(h())},P===null?void 0:function(){return C(P())}]},[h,m,y,v]);var S=o(f,k[0],k[1]);return l(function(){b.hasValue=!0,b.value=S},[S]),c(S),S},Yp}var R1;function VB(){return R1||(R1=1,Kp.exports=BB()),Kp.exports}var UB=VB(),WB=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},HB=({contentComponent:t})=>{const e=QC.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Wo.jsx(Wo.Fragment,{children:Object.values(e)})};function qB(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:$M.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}var ZB=class extends Le.Component{constructor(t){var e;super(t),this.editorContentRef=Le.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=qB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return Wo.jsxs(Wo.Fragment,{children:[Wo.jsx("div",{ref:WB(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&Wo.jsx(HB,{contentComponent:t.contentComponent})]})}},KB=z.forwardRef((t,e)=>{const n=Le.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Le.createElement(ZB,{key:n,innerRef:e,...t})}),FU=Le.memo(KB),YB=typeof window<"u"?z.useLayoutEffect:z.useEffect,JB=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function GB(t){var e;const[n]=z.useState(()=>new JB(t.editor)),r=UB.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:jB);return YB(()=>n.watch(t.editor),[t.editor,n]),z.useDebugValue(r),r}var QB=!1,Bm=typeof window>"u",XB=Bm||!!(typeof window<"u"&&window.next),eV=class eE{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Bm||XB?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onBeforeCreate)==null?void 0:i.call(o,...r)},onBlur:(...r)=>{var o,i;return(i=(o=this.options.current).onBlur)==null?void 0:i.call(o,...r)},onCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onCreate)==null?void 0:i.call(o,...r)},onDestroy:(...r)=>{var o,i;return(i=(o=this.options.current).onDestroy)==null?void 0:i.call(o,...r)},onFocus:(...r)=>{var o,i;return(i=(o=this.options.current).onFocus)==null?void 0:i.call(o,...r)},onSelectionUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onSelectionUpdate)==null?void 0:i.call(o,...r)},onTransaction:(...r)=>{var o,i;return(i=(o=this.options.current).onTransaction)==null?void 0:i.call(o,...r)},onUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onUpdate)==null?void 0:i.call(o,...r)},onContentError:(...r)=>{var o,i;return(i=(o=this.options.current).onContentError)==null?void 0:i.call(o,...r)},onDrop:(...r)=>{var o,i;return(i=(o=this.options.current).onDrop)==null?void 0:i.call(o,...r)},onPaste:(...r)=>{var o,i;return(i=(o=this.options.current).onPaste)==null?void 0:i.call(o,...r)},onDelete:(...r)=>{var o,i;return(i=(o=this.options.current).onDelete)==null?void 0:i.call(o,...r)}};return new Qj(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((o,i)=>{var l;return o===((l=n.extensions)==null?void 0:l[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?eE.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function jU(t={},e=[]){const n=z.useRef(t);n.current=t;const[r]=z.useState(()=>new eV(n)),o=QC.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return z.useDebugValue(o),z.useEffect(r.onRender(e)),GB({editor:o,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),o}var tV=z.createContext({editor:null});tV.Consumer;var nV=z.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),rV=()=>z.useContext(nV);Le.forwardRef((t,e)=>{const{onDragStart:n}=rV(),r=t.as||"div";return Wo.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Le.createContext({markViewContentRef:()=>{}});var Ud=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},oV=/^\s*>\s$/,iV=An.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Ud("blockquote",{...gt(this.options.HTMLAttributes,t),children:Ud("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(o=>{const u=e.renderChildren([o]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(u.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[rl({find:oV,type:this.type})]}}),sV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,lV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,aV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,uV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,cV=Ji.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Ud("strong",{...gt(this.options.HTMLAttributes,t),children:Ud("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[nl({find:sV,type:this.type}),nl({find:aV,type:this.type})]},addPasteRules(){return[Hi({find:lV,type:this.type}),Hi({find:uV,type:this.type})]}}),dV=/(^|[^`])`([^`]+)`(?!`)$/,fV=/(^|[^`])`([^`]+)`(?!`)/g,hV=Ji.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",gt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[nl({find:dV,type:this.type})]},addPasteRules(){return[Hi({find:fV,type:this.type})]}}),Jp=4,pV=/^```([a-z]+)?[\s\n]$/,mV=/^~~~([a-z]+)?[\s\n]$/,gV=An.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Jp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",gt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const o=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${o}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${o}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Jp,{state:r}=t,{selection:o}=r,{$from:i,empty:l}=o;if(i.parent.type!==this.type)return!1;const u=" ".repeat(n);return l?t.commands.insertContent(u):t.commands.command(({tr:c})=>{const{from:f,to:h}=o,v=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(k=>u+k).join(`
`);return c.replaceWith(f,h,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Jp,{state:r}=t,{selection:o}=r,{$from:i,empty:l}=o;return i.parent.type!==this.type?!1:l?t.commands.command(({tr:u})=>{var c;const{pos:f}=i,h=i.start(),m=i.end(),v=r.doc.textBetween(h,m,`
`,`
`).split(`
`);let k=0,b=0;const S=f-h;for(let F=0;F<v.length;F+=1){if(b+v[F].length>=S){k=F;break}b+=v[F].length+1}const T=((c=v[k].match(/^ */))==null?void 0:c[0])||"",N=Math.min(T.length,n);if(N===0)return!0;let D=h;for(let F=0;F<k;F+=1)D+=v[F].length+1;return u.delete(D,D+N),f-D<=N&&u.setSelection(Se.create(u.doc,D)),!0}):t.commands.command(({tr:u})=>{const{from:c,to:f}=o,y=r.doc.textBetween(c,f,`
`,`
`).split(`
`).map(v=>{var k;const b=((k=v.match(/^ */))==null?void 0:k[0])||"",S=Math.min(b.length,n);return v.slice(S)}).join(`
`);return u.replaceWith(c,f,r.schema.text(y)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!i||!l?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const u=o.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:f})=>(f.setSelection(Te.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[Am({find:pV,type:this.type,getAttributes:t=>({language:t[1]})}),Am({find:mV,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new it({key:new xt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:l,schema:u}=t.state,c=u.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:i},c)),l.selection.$from.parent.type!==this.type&&l.setSelection(Se.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),yV=An.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),vV=An.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",gt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=r.extensionManager,c=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:h})=>{if(h&&c&&l){const m=c.filter(y=>u.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),wV=An.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,gt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,o="#".repeat(r);return t.content?`${o} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Am({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),kV=An.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",gt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!e4(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,o=t();return vC(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:i,tr:l,dispatch:u})=>{if(u){const{$to:c}=l.selection,f=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?l.setSelection(Se.create(l.doc,c.pos+1)):c.nodeAfter.isBlock?l.setSelection(he.create(l.doc,c.pos)):l.setSelection(Se.create(l.doc,c.pos));else{const h=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(l.insert(f,m),l.setSelection(Se.create(l.doc,f+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Xj({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),bV=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SV=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,xV=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,CV=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,EV=Ji.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[nl({find:bV,type:this.type}),nl({find:xV,type:this.type})]},addPasteRules(){return[Hi({find:SV,type:this.type}),Hi({find:CV,type:this.type})]}}),TV=Object.defineProperty,MV=(t,e)=>{for(var n in e)TV(t,n,{get:e[n],enumerable:!0})},OV="listItem",_1="textStyle",z1=/^\s*([-+*])\s$/,tE=An.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",gt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(OV,this.editor.getAttributes(_1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=rl({find:z1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rl({find:z1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(_1),editor:this.editor})),[t]}}),nE=An.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",gt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(o=>o.type==="paragraph"))n=e.parseChildren(t.tokens);else{const o=t.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(o.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),u=e.parseChildren(l);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Ug(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),NV={};MV(NV,{findListItemPos:()=>Ga,getNextListDepth:()=>ey,handleBackspace:()=>Vm,handleDelete:()=>Um,hasListBefore:()=>rE,hasListItemAfter:()=>DV,hasListItemBefore:()=>oE,listItemHasSubList:()=>iE,nextListIsDeeper:()=>sE,nextListIsHigher:()=>lE});var Ga=(t,e)=>{const{$from:n}=e.selection,r=mt(t,e.schema);let o=null,i=n.depth,l=n.pos,u=null;for(;i>0&&u===null;)o=n.node(i),o.type===r?u=i:(i-=1,l-=1);return u===null?null:{$pos:e.doc.resolve(l),depth:u}},ey=(t,e)=>{const n=Ga(t,e);if(!n)return!1;const[,r]=cj(e,t,n.$pos.pos+4);return r},rE=(t,e,n)=>{const{$anchor:r}=t.selection,o=Math.max(0,r.pos-2),i=t.doc.resolve(o).node();return!(!i||!n.includes(i.type.name))},oE=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-2);return!(o.index()===0||((n=o.nodeBefore)==null?void 0:n.type.name)!==t)},iE=(t,e,n)=>{if(!n)return!1;const r=mt(t,e.schema);let o=!1;return n.descendants(i=>{i.type===r&&(o=!0)}),o},Vm=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ti(t.state,e)&&rE(t.state,e,n)){const{$anchor:u}=t.state.selection,c=t.state.doc.resolve(u.before()-1),f=[];c.node().descendants((y,v)=>{y.type.name===e&&f.push({node:y,pos:v})});const h=f.at(-1);if(!h)return!1;const m=t.state.doc.resolve(c.start()+h.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},m.end()).joinForward().run()}if(!ti(t.state,e)||!pj(t.state))return!1;const r=Ga(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=iE(e,t.state,i);return oE(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},sE=(t,e)=>{const n=ey(t,e),r=Ga(t,e);return!r||!n?!1:n>r.depth},lE=(t,e)=>{const n=ey(t,e),r=Ga(t,e);return!r||!n?!1:n<r.depth},Um=(t,e)=>{if(!ti(t.state,e)||!hj(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:o}=n;return!n.empty&&r.sameParent(o)?!1:sE(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():lE(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},DV=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((n=o.nodeAfter)==null?void 0:n.type.name)!==t)},aE=ft.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Um(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Um(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Vm(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Vm(t,n,r)&&(e=!0)}),e}}}}),L1=/^(\s*)(\d+)\.\s+(.*)$/,AV=/^\s/;function IV(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n],i=o.match(L1);if(!i)break;const[,l,u,c]=i,f=l.length;let h=c,m=n+1;const y=[o];for(;m<t.length;){const v=t[m];if(v.match(L1))break;if(v.trim()==="")y.push(v),h+=`
`,m+=1;else if(v.match(AV))y.push(v),h+=`
${v.slice(f+2)}`,m+=1;else break}e.push({indent:f,number:parseInt(u,10),content:h.trim(),raw:y.join(`
`)}),r=m,n=m}return[e,r]}function uE(t,e,n){var r;const o=[];let i=0;for(;i<t.length;){const l=t[i];if(l.indent===e){const u=l.content.split(`
`),c=((r=u[0])==null?void 0:r.trim())||"",f=[];c&&f.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const h=u.slice(1).join(`
`).trim();if(h){const v=n.blockTokens(h);f.push(...v)}let m=i+1;const y=[];for(;m<t.length&&t[m].indent>e;)y.push(t[m]),m+=1;if(y.length>0){const v=Math.min(...y.map(b=>b.indent)),k=uE(y,v,n);f.push({type:"list",ordered:!0,start:y[0].number,items:k,raw:y.map(b=>b.raw).join(`
`)})}o.push({type:"list_item",raw:l.raw,tokens:f}),i=m}else i+=1}return o}function PV(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")r.push(...e.parseChildren([o]));else if(o.type==="text"&&o.tokens){const i=e.parseChildren([o]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([o]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var RV="listItem",$1="textStyle",F1=/^(\d+)\.\s$/,cE=An.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",gt(this.options.HTMLAttributes,n),0]:["ol",gt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?PV(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const o=t.split(`
`),[i,l]=IV(o);if(i.length===0)return;const u=uE(i,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:u,raw:o.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(RV,this.editor.getAttributes($1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=rl({find:F1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rl({find:F1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes($1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),_V=/^\s*(\[([( |x])?\])\s$/,zV=An.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",gt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const o=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Ug(t,e,o)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),c=document.createElement("div"),f=h=>{var m,y;u.ariaLabel=((y=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:y.call(m,h,u.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};return f(t),i.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",h=>h.preventDefault()),u.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:m}=h.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const v=n();if(typeof v!="number")return!1;const k=y.doc.nodeAt(v);return y.setNodeMarkup(v,void 0,{...k==null?void 0:k.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{o.setAttribute(h,m)}),o.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,i.append(u,l),o.append(i,c),Object.entries(e).forEach(([h,m])=>{o.setAttribute(h,m)}),{dom:o,contentDOM:c,update:h=>h.type!==this.type?!1:(o.dataset.checked=h.attrs.checked,u.checked=h.attrs.checked,f(h),!0)}}},addInputRules(){return[rl({find:_V,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),LV=An.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",gt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const l=Im(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,c)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:c}),customNestedParser:r},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(i)},o=Im(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,l)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:l}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ft.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(tE.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(nE.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(aE.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(cE.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(zV.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(LV.configure(this.options.taskList)),t}});var $V=An.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",gt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),FV=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,jV=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,BV=Ji.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",gt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[nl({find:FV,type:this.type})]},addPasteRules(){return[Hi({find:jV,type:this.type})]}}),VV=An.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),UV=Ji.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",gt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!o)return;const i=o[2].trim();return{type:"underline",raw:o[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),WV=ft.create({name:"starterKit",addExtensions(){var t,e,n,r;const o=[];return this.options.bold!==!1&&o.push(cV.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(iV.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(tE.configure(this.options.bulletList)),this.options.code!==!1&&o.push(hV.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(gV.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(yV.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(J4.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(G4.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(vV.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(wV.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(eB.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(kV.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(EV.configure(this.options.italic)),this.options.listItem!==!1&&o.push(nE.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(aE.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&o.push(HC.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&o.push(cE.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push($V.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(BV.configure(this.options.strike)),this.options.text!==!1&&o.push(VV.configure(this.options.text)),this.options.underline!==!1&&o.push(UV.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&o.push(X4.configure((r=this.options)==null?void 0:r.trailingNode)),o}}),BU=WV;export{tN as $,BR as A,aU as B,KR as C,XV as D,FU as E,uU as F,pU as G,RU as H,Qc as I,i2 as J,gb as K,OU as L,cg as M,Oa as N,E_ as O,yb as P,NU as Q,Le as R,wU as S,DU as T,uz as U,_U as V,dU as W,cU as X,zU as Y,gU as Z,nU as _,Ps as a,kU as a0,ji as a1,QO as a2,PU as a3,AU as a4,IU as a5,SU as a6,Oz as a7,TU as a8,EU as a9,xU as aa,CU as ab,MU as ac,EO as ad,QV as ae,rO as af,qV as ag,KV as ah,ZV as ai,$U as b,rU as c,LU as d,JV as e,YV as f,GV as g,eU as h,BU as i,Wo as j,fS as k,bU as l,Az as m,iU as n,tU as o,oU as p,WR as q,z as r,yU as s,sU as t,jU as u,vU as v,fU as w,mU as x,lU as y,hU as z};
