import{d as h,j as e}from"./vendor-j1jwJuCp.js";import{j as N,u as k,e as w,B as d,I as v,F as C,G as I,o as p,H as z}from"./main-DbJl66SC.js";import{M}from"./Modal-e--PluRx.js";import{u as O}from"./i18n-DVG6a50L.js";import{g as S}from"./wiki-data-oXipE0KF.js";import"./firebase-CTDNBn9D.js";const g=({title:c,accentColor:o="gray",defaultOpen:u=!1,children:l})=>{const[s,x]=h.useState(u),n={purple:"bg-purple-500",amber:"bg-amber-500",gray:"bg-gray-400"};return e.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsxs("button",{onClick:()=>x(!s),className:"w-full flex items-center justify-between py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors rounded-md -mx-1 px-1",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx("span",{className:p("w-1 h-4 mr-2 rounded-full",n[o])}),c]}),e.jsx(z,{size:18,className:p("text-gray-400 transition-transform duration-200",s&&"rotate-180")})]}),e.jsx("div",{className:p("overflow-hidden transition-all duration-200",s?"max-h-[2000px] opacity-100 pb-4":"max-h-0 opacity-0"),children:l})]})},D=({isOpen:c,data:o,zIndex:u})=>{const{closeModal:l}=N(),{t:s}=k(),{language:x}=O(),n=!!c,m=o,a=m?S(x).find(r=>r.id===m.id)||m:null,[i,y]=h.useState(0),f=h.useCallback(()=>{a&&(w.getState().setView("wizard",{mode:a.id}),l())},[a,l]);if(!n||!a)return null;const t=a.useCases||[],b=t.length>1;return e.jsx(M,{isOpen:n,onClose:l,className:"max-w-2xl max-h-[90vh] p-0 overflow-hidden bg-transparent shadow-none",children:e.jsxs("div",{className:"w-full bg-white dark:bg-gray-800 rounded-xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-100 dark:border-gray-700",children:[e.jsx("span",{className:"text-3xl",children:a.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:a.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.subTitle})]})]}),e.jsxs("div",{className:"p-4 overflow-y-auto flex-1 custom-scrollbar",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-sm font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wider mb-2 flex items-center",children:[e.jsx("span",{className:"w-1 h-4 bg-purple-500 mr-2 rounded-full"}),s("wiki.summary")]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:a.concept.summary})]}),e.jsx(g,{title:s("wiki.details"),accentColor:"gray",defaultOpen:!1,children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:a.concept.detail})}),t.length>0&&e.jsx(g,{title:s("wiki.use_cases"),accentColor:"purple",defaultOpen:!1,children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/40 rounded-lg p-4 border border-gray-100 dark:border-gray-700",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3 text-sm",children:t[i].title}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400 mr-2 mt-0.5 min-w-[40px]",children:"Before:"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:t[i].before})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-700 dark:text-gray-300 mr-2 mt-0.5 min-w-[40px]",children:"After:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:t[i].after})]})]}),b&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:[e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>y(r=>r>0?r-1:t.length-1),"aria-label":"Previous",className:"p-1",children:e.jsx(v,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-xs text-gray-500 min-w-[40px] text-center",children:[i+1," / ",t.length]}),e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>y(r=>r<t.length-1?r+1:0),"aria-label":"Next",className:"p-1",children:e.jsx(C,{className:"w-4 h-4"})})]})]})}),a.tips&&a.tips.length>0&&e.jsx(g,{title:s("wiki.tips"),accentColor:"amber",defaultOpen:!1,children:e.jsx("div",{className:"space-y-2",children:a.tips.map((r,j)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Q. ",r.q]}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["A. ",r.a]})]},j))})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-900/30",children:[e.jsx(d,{variant:"ghost",onClick:l,children:s("close")}),e.jsx(d,{variant:"primary",onClick:f,className:"bg-purple-600 hover:bg-purple-700 shadow-purple-500/20",rightIcon:e.jsx(I,{className:"w-3.5 h-3.5"}),children:s("wiki.use_in_wizard")})]})]})})};export{D as WikiFrameworkModal};
