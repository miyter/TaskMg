# 既知の課題と改善候補

**最終更新**: 2025-12-31
**ステータス**: 🟢 概ね完了 (Quality Improvements in Progress)

すべての主要な不具合（Firebaseエラー、白抜けバグ）は解消されました。
現在は将来的な品質向上とUI/UXの一貫性向上のためのタスクが残っています。

## � 2025-12-31 UI/UX 検証結果 (ブラウザテスト)

### ⚠️ UI/レイアウト
- **サイドバーの重なり**: サイドバーがメインコンテンツの上に重なって表示され、タイトルやボタン（設定など）が隠れる場合がある。
- **モバイル表示 (600px)**: レスポンシブ対応が不十分で、サイドバーが画面の大部分を占有し、操作が困難。
- **リサイズハンドル**: リサイズ用ハンドルが視認しにくく、操作判定もシビア。
- **右側の余白**: サイドバーを閉じた際、メインリストが中央寄せや幅広にならず、右側に大きな空白が残る。

### 🐛 機能・同期
- **初期表示の不整合**: 初回ロード時、サイドバーには件数が表示されているのにメインエリアが「No tasks」となる（クリックで解消）。
- **件数カウントのズレ**: サイドバーの件数、フッターの件数、実際のリスト表示数が一致しない場合がある。
- **検索/フィルタ**: 検索結果に無関係なタスクが含まれる、またはフィルタが正しく適用されない挙動が見られる。
- **重複データ**: ゲストモード等で同一タスクが複数生成されている（モックデータの不備の可能性）。

### 🔧 技術的課題
- **コンソール警告**: `TaskDetailModal`, `SettingsModal` 等で `key` prop に関連する React Warning が発生している。

---

## �🟢 優先度: 低 (将来的な品質向上・保守性)

| ファイル | 項目 | 詳細 | 改善案 |
| :--- | :--- | :--- | :--- |
| - | **ストア構成の洗練** | `store/` 配下のファイル構成が一部複雑 | バレルファイル (`index.ts`) への集約を徹底し、循環参照を回避する構造へ整理 |
| - | **グローバルキャッシュのクラス化** | `store-raw.ts` のモジュール変数キャッシュ | シングルトンクラスや Zustand ストアへ移行し、副作用を制御しやすくする |

---

*(Review points from 2025-12-31 have been resolved)*




