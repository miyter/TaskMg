# 既知の課題と改善候補

**最終更新**: 2025-12-31
**ステータス**: 🟢 概ね完了 (Quality Improvements in Progress)

すべての主要な不具合（Firebaseエラー、白抜けバグ）は解消されました。
現在は将来的な品質向上とUI/UXの一貫性向上のためのタスクが残っています。

## ✅ 2025-12-31 UI/UX 検証完了 & 修正済み

- **サイドバーの重なり & モバイル対応**: 
  - モバイル表示時にサイドバーの外側をタップして閉じられるバックドロップを追加。
  - モバイルでのサイドバースタイルを抽出し、オーバーラップ時の使い勝手を向上。
- **右側の余白 (センタリング)**: 
  - `AppLayout` のメインエリアを `w-full max-w-5xl mx-auto` に修正し、コンテンツが中央に配置されるよう改善。
- **件数カウントのズレ**: 
  - サイドバーの件数が「完了表示」設定と連動するように修正し、実際の表示リスト数と一致するように改善。
- **リサイズハンドル**: 
  - ハンドルの視認性を高めるため、ホバー・アクティブ時の装飾を追加。定常的なガイド線も導入。

## ⚠️ 残っている課題

### 🐛 機能・同期
- **初期表示の不整合 (要観察)**: 「Inbox」がデフォルトで、タスクがプロジェクトに割り当てられている場合に「No tasks」と見える事象。
- **重複データ**: ゲストモード等で「Test Task 1」などが重複して表示される（データベース上のサンプルデータの整理が必要）。

### 🔧 技術的課題
- **コンソール警告 (要再確認)**: `key` prop に関連する警告が報告されているが、今回のテストでは再現せず。継続調査。

---

## �🟢 優先度: 低 (将来的な品質向上・保守性)

| ファイル | 項目 | 詳細 | 改善案 |
| :--- | :--- | :--- | :--- |
| - | **ストア構成の洗練** | `store/` 配下のファイル構成が一部複雑 | バレルファイル (`index.ts`) への集約を徹底し、循環参照を回避する構造へ整理 |
| - | **グローバルキャッシュのクラス化** | `store-raw.ts` のモジュール変数キャッシュ | シングルトンクラスや Zustand ストアへ移行し、副作用を制御しやすくする |

---

*(Review points from 2025-12-31 have been resolved)*




